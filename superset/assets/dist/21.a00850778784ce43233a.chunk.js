(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1001:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=(n(2367),{colorCode:i.a.string});function l(e){var t=e.colorCode,n=void 0===t?"":t;return a.a.createElement("svg",{className:"filter-badge ".concat(n),width:"20",height:"20",viewBox:"0 0 20 20"},a.a.createElement("path",{d:"M4 5H16V7H4V5ZM6 9H14V11H6V9ZM12 13H8V15H12V13Z"}))}l.propTypes=s},101:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},1050:function(e,t,n){var r=n(625),a=n(1337);e.exports=function(e,t){return e&&r(e,a(t))}},1051:function(e,t,n){var r=n(628);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1052:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},111:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u});n(11);function r(e){return Object.keys(e).reduce(function(e,t){var n=e;return n[t]=t,n},{})}var a={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},o=r(a),i=o.FORMULA,s={NATIVE:{value:"NATIVE",label:"Superset annotation"}},l=r(s);function u(e){return!!e}t.e=o},112:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_UPDATE_STARTED",function(){return y}),n.d(t,"chartUpdateStarted",function(){return E}),n.d(t,"CHART_UPDATE_SUCCEEDED",function(){return C}),n.d(t,"chartUpdateSucceeded",function(){return x}),n.d(t,"CHART_UPDATE_STOPPED",function(){return O}),n.d(t,"chartUpdateStopped",function(){return w}),n.d(t,"CHART_UPDATE_TIMEOUT",function(){return S}),n.d(t,"chartUpdateTimeout",function(){return _}),n.d(t,"CHART_UPDATE_FAILED",function(){return k}),n.d(t,"chartUpdateFailed",function(){return T}),n.d(t,"CHART_RENDERING_FAILED",function(){return j}),n.d(t,"chartRenderingFailed",function(){return P}),n.d(t,"CHART_RENDERING_SUCCEEDED",function(){return M}),n.d(t,"chartRenderingSucceeded",function(){return D}),n.d(t,"REMOVE_CHART",function(){return A}),n.d(t,"removeChart",function(){return R}),n.d(t,"ANNOTATION_QUERY_SUCCESS",function(){return N}),n.d(t,"annotationQuerySuccess",function(){return F}),n.d(t,"ANNOTATION_QUERY_STARTED",function(){return I}),n.d(t,"annotationQueryStarted",function(){return L}),n.d(t,"ANNOTATION_QUERY_FAILED",function(){return B}),n.d(t,"annotationQueryFailed",function(){return q}),n.d(t,"runAnnotationQuery",function(){return H}),n.d(t,"TRIGGER_QUERY",function(){return U}),n.d(t,"triggerQuery",function(){return V}),n.d(t,"RENDER_TRIGGERED",function(){return z}),n.d(t,"renderTriggered",function(){return G}),n.d(t,"UPDATE_QUERY_FORM_DATA",function(){return W}),n.d(t,"updateQueryFormData",function(){return K}),n.d(t,"UPDATE_CHART_ID",function(){return Y}),n.d(t,"updateChartId",function(){return Q}),n.d(t,"ADD_CHART",function(){return X}),n.d(t,"addChart",function(){return $}),n.d(t,"exploreJSON",function(){return Z}),n.d(t,"GET_SAVED_CHART",function(){return J}),n.d(t,"getSavedChart",function(){return ee}),n.d(t,"POST_CHART_FORM_DATA",function(){return te}),n.d(t,"postChartFormData",function(){return ne}),n.d(t,"redirectSQLLab",function(){return re}),n.d(t,"refreshChart",function(){return ae});var r=n(37),a=n.n(r),o=n(11),i=n.n(o),s=n(8),l=n(178),u=n(77),c=n(191),d=n(111),p=n(58),f=n(276),h=n(99),m=n(86),b=n(581);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y="CHART_UPDATE_STARTED";function E(e,t,n){return{type:y,queryController:e,latestQueryFormData:t,key:n}}var C="CHART_UPDATE_SUCCEEDED";function x(e,t){return{type:C,queryResponse:e,key:t}}var O="CHART_UPDATE_STOPPED";function w(e){return{type:O,key:e}}var S="CHART_UPDATE_TIMEOUT";function _(e,t,n){return{type:S,statusText:e,timeout:t,key:n}}var k="CHART_UPDATE_FAILED";function T(e,t){return{type:k,queryResponse:e,key:t}}var j="CHART_RENDERING_FAILED";function P(e,t,n){return{type:j,error:e,key:t,stackTrace:n}}var M="CHART_RENDERING_SUCCEEDED";function D(e){return{type:M,key:e}}var A="REMOVE_CHART";function R(e){return{type:A,key:e}}var N="ANNOTATION_QUERY_SUCCESS";function F(e,t,n){return{type:N,annotation:e,queryResponse:t,key:n}}var I="ANNOTATION_QUERY_STARTED";function L(e,t,n){return{type:I,annotation:e,queryController:t,key:n}}var B="ANNOTATION_QUERY_FAILED";function q(e,t,n){return{type:B,annotation:e,queryResponse:t,key:n}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return function(a,o){var s=r||Object.keys(o().charts)[0],u=g({},n||o().charts[s].latestQueryFormData);if(!Object(d.f)(e.sourceType))return Promise.resolve();var p=u.time_grain_sqla||u.granularity;u.time_grain_sqla=p,u.granularity=p;var f=Object.keys(e.overrides);(f.includes("since")||f.includes("until"))&&(e.overrides=g({},e.overrides,{time_range:null}));var h=Object.keys(e.overrides).reduce(function(t,n){return g({},t,i()({},n,e.overrides[n]||u[n]))},{});if(null!==u){var b=u.extra_filters&&u.extra_filters.length>0;h.extra_filters=b?u.extra_filters:void 0}var v=e.sourceType===d.a.NATIVE,y=Object(c.b)(e.value,h,v),E=new AbortController,C=E.signal;return a(L(e,E,s)),l.a.get({url:y,signal:C,timeout:1e3*t}).then(function(t){var n=t.json;return a(F(e,n,s))}).catch(function(t){return Object(m.a)(t).then(function(t){"timeout"===t.statusText?a(q(e,{error:"Query Timeout"},s)):(t.error||"").toLowerCase().includes("no data")?a(F(e,t,s)):"abort"!==t.statusText&&a(q(e,t,s))})})}}var U="TRIGGER_QUERY";function V(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return{type:U,value:e,key:t}}var z="RENDER_TRIGGERED";function G(e,t){return{type:z,value:e,key:t}}var W="UPDATE_QUERY_FORM_DATA";function K(e,t){return{type:W,value:e,key:t}}var Y="UPDATE_CHART_ID";function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:Y,newId:e,key:t}}var X="ADD_CHART";function $(e,t){return{type:X,chart:e,key:t}}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(i){var s=Object(c.e)({formData:e,endpointType:"json",force:t,allowDomainSharding:!0,method:o}),d=s.url,p=s.payload,v=h.q.getTimestamp(),y=new AbortController,C=y.signal;i(E(y,p,r));var O={url:d,postPayload:{form_data:p},signal:C,timeout:1e3*n};b.a&&(O=g({},O,{mode:"cors",credentials:"include"}));var S=("GET"===o&&Object(u.isFeatureEnabled)(u.FeatureFlag.CLIENT_CACHE)?l.a.get:l.a.post)(O).then(function(n){var a=n.json;return i(Object(f.logEvent)(h.g,{slice_id:r,is_cached:a.is_cached,force_refresh:t,row_count:a.rowcount,datasource:e.datasource,start_offset:v,ts:(new Date).getTime(),duration:h.q.getTimestamp()-v,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type})),i(x(a,r))}).catch(function(t){var a=function(t){i(Object(f.logEvent)(h.g,{slice_id:r,has_err:!0,error_details:t,datasource:e.datasource,start_offset:v,ts:(new Date).getTime(),duration:h.q.getTimestamp()-v}))};return"timeout"===t.statusText?(a("timeout"),i(_(t.statusText,n,r))):"AbortError"===t.name?(a("abort"),i(w(r))):Object(m.a)(t).then(function(e){return a(e.error),i(T(e,r))})}),k=e.annotation_layers||[];return Promise.all([S,i(V(!1,r)),i(K(p,r))].concat(a()(k.map(function(t){return i(H(t,n,e,r))}))))}}var J="GET_SAVED_CHART";function ee(e){return Z(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,arguments.length>3?arguments[3]:void 0,"GET")}var te="POST_CHART_FORM_DATA";function ne(e){return Z(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,arguments.length>3?arguments[3]:void 0,"POST")}function re(e){return function(t){var n=Object(c.e)({formData:e,endpointType:"query"}).url;return l.a.post({url:n,postPayload:{form_data:e}}).then(function(t){var n=t.json,r=new URL(window.location);r.pathname="/superset/sqllab";var a=!0,o=!1,i=void 0;try{for(var s,l=r.searchParams.keys()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;r.searchParams.delete(u)}}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}r.searchParams.set("datasourceKey",e.datasource),r.searchParams.set("sql",n.query),window.open(r.href,"_blank")}).catch(function(){return t(Object(p.c)(Object(s.b)("An error occurred while loading the SQL")))})}}function ae(e,t,n){return function(r){e.latestQueryFormData&&0!==Object.keys(e.latestQueryFormData).length&&r(ne(e.latestQueryFormData,t,n,e.id))}}},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1938);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(r).default}});var a=n(1340);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(a).default}});var o=n(1941);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(o).default}});var i=n(1942);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(i).default}});var s=n(1944);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(s).default}});var l=n(1945);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(l).default}});var u=n(1341);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(u).default}});var c=n(1950);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(c).default}})},1303:function(e,t,n){"use strict";n.d(t,"a",function(){return $});var r=n(56),a=n.n(r),o=n(11),i=n.n(o),s=n(16),l=n.n(s),u=n(20),c=n.n(u),d=n(17),p=n.n(d),f=n(18),h=n.n(f),m=n(10),b=n.n(m),v=n(19),g=n.n(v),y=n(69),E=n.n(y),C=n(1),x=n.n(C),O=n(0),w=n.n(O),S=n(9),_=n(1320),k=n.n(_),T=(n(2003),n(12)),j=n.n(T),P=n(8),M=(n(2004),n(61)),D=n(244);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=Object.freeze({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),F=Object.freeze({DEFAULTS:"defaults",CUSTOM:"custom"}),I=Object.freeze({LAST:"Last",NEXT:"Next"}),L=["Last day","Last week","Last month","Last quarter","Last year","No filter"],B=["seconds","minutes","hours","days","weeks","months","years"],q="YYYY-MM-DD[T]HH:mm:ss",H=j()().utc().startOf("day").subtract(7,"days").format(q),U=j()().utc().startOf("day").format(q),V=" : ",z=Object(P.b)("Superset supports smart date parsing. Strings like `last sunday` or `last october` can be used."),G={width:"250px"},W={animation:w.a.bool,name:w.a.string.isRequired,label:w.a.string,description:w.a.string,onChange:w.a.func,value:w.a.string,height:w.a.number,onOpenDateFilterControl:w.a.func,onCloseDateFilterControl:w.a.func,endpoints:w.a.arrayOf(w.a.string)},K={animation:!0,onChange:function(){},value:"Last week",onOpenDateFilterControl:function(){},onCloseDateFilterControl:function(){}};function Y(e){return e===j()(e,q).format(q)}function Q(e){var t=e.split(" ")[1]+"s";return{tab:F.DEFAULTS,type:N.DEFAULTS,common:e,since:j()().utc().startOf("day").subtract(1,t).format(q),until:j()().utc().startOf("day").format(q)}}function X(e){var t,n,r=e.split(" ",3),a=E()(r,3),o=a[0],i=a[1],s=a[2];return o===I.LAST?(n=j()().utc().startOf("day").format(q),t=j()().utc().startOf("day").subtract(i,s).format(q)):(n=j()().utc().startOf("day").add(i,s).format(q),t=j()().startOf("day").format(q)),{tab:F.CUSTOM,type:N.CUSTOM_RANGE,common:null,rel:o,num:i,grain:s,since:t,until:n}}var $=function(e){function t(e){var n;l()(this,t),(n=p()(this,h()(t).call(this,e))).state={type:N.DEFAULTS,tab:F.DEFAULTS,common:L[0],rel:I.LAST,num:"7",grain:B[3],since:H,until:U,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days"};var r=e.value;return r.indexOf(V)>=0?n.state=R({},n.state,{},function(e){var t=e.split(V,2),n=E()(t,2);return{since:n[0],until:n[1],type:N.CUSTOM_START_END,tab:F.CUSTOM}}(r)):L.indexOf(r)>=0?n.state=R({},n.state,{},Q(r)):n.state=R({},n.state,{},X(r)),n.close=n.close.bind(b()(n)),n.handleClick=n.handleClick.bind(b()(n)),n.handleClickTrigger=n.handleClickTrigger.bind(b()(n)),n.isValidSince=n.isValidSince.bind(b()(n)),n.isValidUntil=n.isValidUntil.bind(b()(n)),n.onEnter=n.onEnter.bind(b()(n)),n.renderInput=n.renderInput.bind(b()(n)),n.setCustomRange=n.setCustomRange.bind(b()(n)),n.setCustomStartEnd=n.setCustomStartEnd.bind(b()(n)),n.setTypeCustomRange=n.setTypeCustomRange.bind(b()(n)),n.setTypeCustomStartEnd=n.setTypeCustomStartEnd.bind(b()(n)),n.toggleCalendar=n.toggleCalendar.bind(b()(n)),n.changeTab=n.changeTab.bind(b()(n)),n}return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"onEnter",value:function(e){"Enter"===e.key&&this.close()}},{key:"setCustomRange",value:function(e,t){var n=R({},this.state,i()({},e,t)),r=[n.rel,n.num,n.grain].join(" ");this.setState(X(r))}},{key:"setCustomStartEnd",value:function(e,t){var n,r="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState((n={type:N.CUSTOM_START_END},i()(n,e,"string"==typeof t?t:t.format(q)),i()(n,"showSinceCalendar",this.state.showSinceCalendar&&!r),i()(n,"showUntilCalendar",this.state.showUntilCalendar&&!r),i()(n,"sinceViewMode",r?"days":this.state.sinceViewMode),i()(n,"untilViewMode",r?"days":this.state.untilViewMode),n))}},{key:"setTypeCustomRange",value:function(){this.setState({type:N.CUSTOM_RANGE})}},{key:"setTypeCustomStartEnd",value:function(){this.setState({type:N.CUSTOM_START_END})}},{key:"changeTab",value:function(){var e=this.state.tab;e===F.CUSTOM?this.setState({tab:F.DEFAULTS}):e===F.DEFAULTS&&this.setState({tab:F.CUSTOM})}},{key:"handleClick",value:function(e){var t=e.target;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),"popover-trigger"!==t.getAttribute("name")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}},{key:"handleClickTrigger",value:function(){this.popoverContainer?this.props.onCloseDateFilterControl():this.props.onOpenDateFilterControl()}},{key:"close",value:function(){var e;e=this.state.type===N.DEFAULTS||this.state.tab===F.DEFAULTS?this.state.common:this.state.type===N.CUSTOM_RANGE?"".concat(this.state.rel," ").concat(this.state.num," ").concat(this.state.grain):[this.state.since,this.state.until].join(V),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.refs.trigger.hide(),this.setState({showSinceCalendar:!1,showUntilCalendar:!1})}},{key:"isValidSince",value:function(e){return!Y(this.state.until)||e<=j()(this.state.until,q)}},{key:"isValidUntil",value:function(e){return!Y(this.state.since)||e>=j()(this.state.since,q)}},{key:"toggleCalendar",value:function(e){var t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}},{key:"renderInput",value:function(e,t){var n=this;return x.a.createElement(S.FormGroup,null,x.a.createElement(S.InputGroup,null,x.a.createElement(S.FormControl,a()({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:function(){}})),x.a.createElement(S.InputGroup.Button,{onClick:function(){return n.toggleCalendar(t)}},x.a.createElement(S.Button,null,x.a.createElement(S.Glyphicon,{glyph:"calendar",style:{padding:3}})))))}},{key:"renderPopover",value:function(){var e=this,t=B.map(function(t){return x.a.createElement(S.MenuItem,{onSelect:function(t){return e.setCustomRange("grain",t)},key:t,eventKey:t,active:t===e.state.grain},t)}),n=L.map(function(t){var n=Q(t),r=e.props.endpoints;return x.a.createElement(S.OverlayTrigger,{key:t,placement:"left",overlay:x.a.createElement(S.Tooltip,{id:"tooltip-".concat(t)},n.since," ",r&&"(".concat(r[0],")"),x.a.createElement("br",null),n.until," ",r&&"(".concat(r[1],")"))},x.a.createElement("div",null,x.a.createElement(S.Radio,{key:t.replace(" ","").toLowerCase(),checked:e.state.common===t,onChange:function(){return e.setState(n)}},t)))});return x.a.createElement(S.Popover,{id:"filter-popover",placement:"top",positionTop:0},x.a.createElement("div",{style:G,ref:function(t){e.popoverContainer=t}},x.a.createElement(S.Tabs,{defaultActiveKey:this.state.tab===F.DEFAULTS?1:2,id:"type",className:"time-filter-tabs",onSelect:this.changeTab},x.a.createElement(S.Tab,{eventKey:1,title:"Defaults"},x.a.createElement(S.FormGroup,null,n)),x.a.createElement(S.Tab,{eventKey:2,title:"Custom"},x.a.createElement(S.FormGroup,null,x.a.createElement(D.a,{title:"Relative to today",isSelected:this.state.type===N.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},x.a.createElement("div",{className:"clearfix centered",style:{marginTop:"12px"}},x.a.createElement("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},x.a.createElement(S.DropdownButton,{bsSize:"small",componentClass:S.InputGroup.Button,id:"input-dropdown-rel",title:this.state.rel,onFocus:this.setTypeCustomRange},x.a.createElement(S.MenuItem,{onSelect:function(t){return e.setCustomRange("rel",t)},key:I.LAST,eventKey:I.LAST,active:this.state.rel===I.LAST},"Last"),x.a.createElement(S.MenuItem,{onSelect:function(t){return e.setCustomRange("rel",t)},key:I.NEXT,eventKey:I.NEXT,active:this.state.rel===I.NEXT},"Next"))),x.a.createElement("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},x.a.createElement(S.FormControl,{bsSize:"small",type:"text",onChange:function(t){return e.setCustomRange("num",t.target.value)},onFocus:this.setTypeCustomRange,onKeyPress:this.onEnter,value:this.state.num,style:{height:"30px"}})),x.a.createElement("div",{style:{width:"90px",marginTop:"-4px"},className:"input-inline"},x.a.createElement(S.DropdownButton,{bsSize:"small",componentClass:S.InputGroup.Button,id:"input-dropdown-grain",title:this.state.grain,onFocus:this.setTypeCustomRange},t)))),x.a.createElement(D.a,{title:"Start / end",isSelected:this.state.type===N.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:z},x.a.createElement("div",{ref:function(t){e.startEndSectionRef=t}},x.a.createElement(S.InputGroup,null,x.a.createElement("div",{style:{margin:"5px 0"}},x.a.createElement(k.a,{value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:function(t){return e.setCustomStartEnd("since",t)},isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:function(t){return e.renderInput(t,"showSinceCalendar")},open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:function(t){return e.setState({sinceViewMode:t})}})),x.a.createElement("div",{style:{margin:"5px 0"}},x.a.createElement(k.a,{value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:function(t){return e.setCustomStartEnd("until",t)},isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:function(t){return e.renderInput(t,"showUntilCalendar")},open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:function(t){return e.setState({untilViewMode:t})}})))))))),x.a.createElement("div",{className:"clearfix"},x.a.createElement(S.Button,{bsSize:"small",className:"float-right ok",bsStyle:"primary",onClick:this.close},"Ok"))))}},{key:"render",value:function(){var e=this.props.value||K.value,t=this.props.endpoints;return e=e.split(V).map(function(e,n){return j()(e).isValid()?e.replace("T00:00:00","")+(t?" (".concat(t[n],")"):""):e||(0===n?"-∞":"∞")}).join(V),x.a.createElement("div",null,x.a.createElement(M.a,this.props),x.a.createElement(S.OverlayTrigger,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover(),onClick:this.handleClickTrigger},x.a.createElement(S.Label,{name:"popover-trigger",style:{cursor:"pointer"}},e)))}}]),t}(x.a.Component);$.propTypes=W,$.defaultProps=K},1319:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(16),a=n.n(r),o=n(20),i=n.n(o),s=n(17),l=n.n(s),u=n(18),c=n.n(u),d=n(10),p=n.n(d),f=n(19),h=n.n(f),m=n(280),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=n(144),x=n(61),O=n(155),w={description:E.a.string,label:E.a.string.isRequired,name:E.a.string.isRequired,onChange:E.a.func,value:E.a.string,default:E.a.string,choices:E.a.oneOfType([E.a.arrayOf(E.a.array),E.a.func]).isRequired,schemes:E.a.oneOfType([E.a.object,E.a.func]).isRequired,isLinear:E.a.bool},S={choices:[],schemes:{},onChange:function(){}},_=function(e){function t(e){var n;return a()(this,t),(n=l()(this,c()(t).call(this,e))).state={scheme:n.props.value},n.onChange=n.onChange.bind(p()(n)),n.renderOption=n.renderOption.bind(p()(n)),n}return h()(t,e),i()(t,[{key:"onChange",value:function(e){var t=e?e.value:null;this.props.onChange(t),this.setState({scheme:t})}},{key:"renderOption",value:function(e){var t=this.props,n=t.isLinear,r=t.schemes,a=(b()(r)?r():r)[e.value||S.value],o=[];return a&&(o=n?a.getColors(10):a.colors),g.a.createElement(O.a,{label:"".concat(a.id,"-tooltip"),tooltip:a.label},g.a.createElement("ul",{className:"color-scheme-container"},o.map(function(e,t){return g.a.createElement("li",{key:"".concat(a.id,"-").concat(t),style:{backgroundColor:e,border:"1px solid ".concat("white"===e?"black":e)}}," ")})))}},{key:"render",value:function(){var e=this.props.choices,t=(b()(e)?e():e).map(function(e){return{value:e[0],label:e[1]}}),n={multi:!1,name:"select-".concat(this.props.name),placeholder:"Select (".concat(t.length,")"),default:this.props.default,options:t,value:this.props.value,autosize:!1,clearable:!1,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return g.a.createElement("div",null,g.a.createElement(x.a,this.props),g.a.createElement(C.Creatable,n))}}]),t}(g.a.PureComponent);_.propTypes=w,_.defaultProps=S},1320:function(e,t,n){"use strict";var r=n(1344),a=n(0),o=n(623),i=n(12),s=n(1),l=n(1997),u=n(2002).default,c=Object.freeze({YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"}),d=a,p=o({displayName:"DateTime",propTypes:{onFocus:d.func,onBlur:d.func,onChange:d.func,onViewModeChange:d.func,onNavigateBack:d.func,onNavigateForward:d.func,locale:d.string,utc:d.bool,displayTimeZone:d.string,input:d.bool,inputProps:d.object,timeConstraints:d.object,viewMode:d.oneOf([c.YEARS,c.MONTHS,c.DAYS,c.TIME]),isValidDate:d.func,open:d.bool,strictParsing:d.bool,closeOnSelect:d.bool,closeOnTab:d.bool},getInitialState:function(){this.checkTZ(this.props);var e=this.getStateFromProps(this.props);return void 0===e.open&&(e.open=!this.props.input),e.currentView=this.props.dateFormat?this.props.viewMode||e.updateOn||c.DAYS:c.TIME,e},parseDate:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t.datetime):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n},getStateFromProps:function(e){var t,n,r,a,o=this.getFormats(e),i=e.value||e.defaultValue;return t=this.parseDate(i,o),n=this.parseDate(e.viewDate,o),n=t?t.clone().startOf("month"):n?n.clone().startOf("month"):this.localMoment().startOf("month"),r=this.getUpdateOn(o),a=t?t.format(o.datetime):i.isValid&&!i.isValid()?"":i||"",{updateOn:r,inputFormat:o.datetime,viewDate:n,selectedDate:t,inputValue:a,open:e.open}},getUpdateOn:function(e){return e.date.match(/[lLD]/)?c.DAYS:-1!==e.date.indexOf("M")?c.MONTHS:-1!==e.date.indexOf("Y")?c.YEARS:c.DAYS},getFormats:function(e){var t={date:e.dateFormat||"",time:e.timeFormat||""},n=this.localMoment(e.date,null,e).localeData();return!0===t.date?t.date=n.longDateFormat("L"):this.getUpdateOn(t)!==c.DAYS&&(t.time=""),!0===t.time&&(t.time=n.longDateFormat("LT")),t.datetime=t.date&&t.time?t.date+" "+t.time:t.date||t.time,t},componentWillReceiveProps:function(e){var t=this.getFormats(e),n={};if(e.value===this.props.value&&t.datetime===this.getFormats(this.props).datetime||(n=this.getStateFromProps(e)),void 0===n.open&&(void 0!==e.open?n.open=e.open:this.props.closeOnSelect&&this.state.currentView!==c.TIME?n.open=!1:n.open=this.state.open),e.viewMode!==this.props.viewMode&&(n.currentView=e.viewMode),e.locale!==this.props.locale){if(this.state.viewDate){var r=this.state.viewDate.clone().locale(e.locale);n.viewDate=r}if(this.state.selectedDate){var a=this.state.selectedDate.clone().locale(e.locale);n.selectedDate=a,n.inputValue=a.format(t.datetime)}}e.utc===this.props.utc&&e.displayTimeZone===this.props.displayTimeZone||(e.utc?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().utc()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().utc(),n.inputValue=n.selectedDate.format(t.datetime))):e.displayTimeZone?(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().tz(e.displayTimeZone)),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().tz(e.displayTimeZone),n.inputValue=n.selectedDate.tz(e.displayTimeZone).format(t.datetime))):(this.state.viewDate&&(n.viewDate=this.state.viewDate.clone().local()),this.state.selectedDate&&(n.selectedDate=this.state.selectedDate.clone().local(),n.inputValue=n.selectedDate.format(t.datetime)))),e.viewDate!==this.props.viewDate&&(n.viewDate=i(e.viewDate)),this.checkTZ(e),this.setState(n)},onInputChange:function(e){var t=null===e.target?e:e.target.value,n=this.localMoment(t,this.state.inputFormat),r={inputValue:t};return n.isValid()&&!this.props.value?(r.selectedDate=n,r.viewDate=n.clone().startOf("month")):r.selectedDate=null,this.setState(r,function(){return this.props.onChange(n.isValid()?n:this.state.inputValue)})},onInputKey:function(e){9===e.which&&this.props.closeOnTab&&this.closeCalendar()},showView:function(e){var t=this;return function(){t.state.currentView!==e&&t.props.onViewModeChange(e),t.setState({currentView:e})}},setDate:function(e){var t=this,n={month:c.DAYS,year:c.MONTHS};return function(r){t.setState({viewDate:t.state.viewDate.clone()[e](parseInt(r.target.getAttribute("data-value"),10)).startOf(e),currentView:n[e]}),t.props.onViewModeChange(n[e])}},subtractTime:function(e,t,n){var r=this;return function(){r.props.onNavigateBack(e,t),r.updateTime("subtract",e,t,n)}},addTime:function(e,t,n){var r=this;return function(){r.props.onNavigateForward(e,t),r.updateTime("add",e,t,n)}},updateTime:function(e,t,n,r){var a={},o=r?"selectedDate":"viewDate";a[o]=this.state[o].clone()[e](t,n),this.setState(a)},allowedSetTime:["hours","minutes","seconds","milliseconds"],setTime:function(e,t){var n,r=this.allowedSetTime.indexOf(e)+1,a=this.state,o=(a.selectedDate||a.viewDate).clone();for(o[e](t);r<this.allowedSetTime.length;r++)o[n=this.allowedSetTime[r]](o[n]());this.props.value||this.setState({selectedDate:o,inputValue:o.format(a.inputFormat)}),this.props.onChange(o)},updateSelectedDate:function(e,t){var n,r=e.currentTarget,a=0,o=this.state.viewDate,i=this.state.selectedDate||o;if(-1!==r.className.indexOf("rdtDay")?(-1!==r.className.indexOf("rdtNew")?a=1:-1!==r.className.indexOf("rdtOld")&&(a=-1),n=o.clone().month(o.month()+a).date(parseInt(r.getAttribute("data-value"),10))):-1!==r.className.indexOf("rdtMonth")?n=o.clone().month(parseInt(r.getAttribute("data-value"),10)).date(i.date()):-1!==r.className.indexOf("rdtYear")&&(n=o.clone().month(i.month()).date(i.date()).year(parseInt(r.getAttribute("data-value"),10))),n.hours(i.hours()).minutes(i.minutes()).seconds(i.seconds()).milliseconds(i.milliseconds()),this.props.value)this.props.closeOnSelect&&t&&this.closeCalendar();else{var s=!(this.props.closeOnSelect&&t);s||this.props.onBlur(n),this.setState({selectedDate:n,viewDate:n.clone().startOf("month"),inputValue:n.format(this.state.inputFormat),open:s})}this.props.onChange(n)},openCalendar:function(e){this.state.open||this.setState({open:!0},function(){this.props.onFocus(e)})},closeCalendar:function(){this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},handleClickOutside:function(){this.props.input&&this.state.open&&void 0===this.props.open&&!this.props.disableCloseOnClickOutside&&this.setState({open:!1},function(){this.props.onBlur(this.state.selectedDate||this.state.inputValue)})},localMoment:function(e,t,n){var r=null;return r=(n=n||this.props).utc?i.utc(e,t,n.strictParsing):n.displayTimeZone?i.tz(e,t,n.displayTimeZone):i(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r},checkTZ:function(e){var t=console;!e.displayTimeZone||this.tzWarning||i.tz||(this.tzWarning=!0,t&&t.error('react-datetime: displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.'))},componentProps:{fromProps:["value","isValidDate","renderDay","renderMonth","renderYear","timeConstraints"],fromState:["viewDate","selectedDate","updateOn"],fromThis:["setDate","setTime","showView","addTime","subtractTime","updateSelectedDate","localMoment","handleClickOutside"]},getComponentProps:function(){var e=this,t=this.getFormats(this.props),n={dateFormat:t.date,timeFormat:t.time};return this.componentProps.fromProps.forEach(function(t){n[t]=e.props[t]}),this.componentProps.fromState.forEach(function(t){n[t]=e.state[t]}),this.componentProps.fromThis.forEach(function(t){n[t]=e[t]}),n},overrideEvent:function(e,t){if(this.overridenEvents||(this.overridenEvents={}),!this.overridenEvents[e]){var n=this;this.overridenEvents[e]=function(r){var a;n.props.inputProps&&n.props.inputProps[e]&&(a=n.props.inputProps[e](r)),!1!==a&&t(r)}}return this.overridenEvents[e]},render:function(){var e="rdt"+(this.props.className?Array.isArray(this.props.className)?" "+this.props.className.join(" "):" "+this.props.className:""),t=[];if(this.props.input){var n=r({type:"text",className:"form-control",value:this.state.inputValue},this.props.inputProps,{onClick:this.overrideEvent("onClick",this.openCalendar),onFocus:this.overrideEvent("onFocus",this.openCalendar),onChange:this.overrideEvent("onChange",this.onInputChange),onKeyDown:this.overrideEvent("onKeyDown",this.onInputKey)});t=this.props.renderInput?[s.createElement("div",{key:"i"},this.props.renderInput(n,this.openCalendar,this.closeCalendar))]:[s.createElement("input",r({key:"i"},n))]}else e+=" rdtStatic";return(this.props.open||void 0===this.props.open&&this.state.open)&&(e+=" rdtOpen"),s.createElement(f,{className:e,onClickOut:this.handleClickOutside},t.concat(s.createElement("div",{key:"dt",className:"rdtPicker"},s.createElement(l,{view:this.state.currentView,viewProps:this.getComponentProps()}))))}}),f=u(o({render:function(){return s.createElement("div",{className:this.props.className},this.props.children)},handleClickOutside:function(e){this.props.onClickOut(e)}}));p.defaultProps={className:"",defaultValue:"",inputProps:{},input:!0,onFocus:function(){},onBlur:function(){},onChange:function(){},onViewModeChange:function(){},onNavigateBack:function(){},onNavigateForward:function(){},timeFormat:!0,timeConstraints:{},dateFormat:!0,strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,utc:!1},p.moment=i,e.exports=p},1324:function(e,t,n){var r=n(625),a=n(1913)(r);e.exports=a},1325:function(e,t,n){var r=n(627),a=n(1917),o=n(316);e.exports=function(e){return o(e)?r(e,!0):a(e)}},1327:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1328:function(e,t,n){var r=n(170),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1330:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=12,l={controls:i.a.arrayOf(i.a.object).isRequired};function u(e){var t=s/e.controls.length;return a.a.createElement("div",{className:"row space-1"},e.controls.map(function(e,n){return a.a.createElement("div",{className:"col-lg-".concat(t," col-xs-12"),key:n},e)}))}u.propTypes=l,t.a=u},1331:function(e,t,n){"use strict";var r=n(56),a=n.n(r),o=n(16),i=n.n(o),s=n(20),l=n.n(s),u=n(17),c=n.n(u),d=n(18),p=n.n(d),f=n(10),h=n.n(f),m=n(19),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=(n(1909),n(9)),x=n(79),O=n(8),w=n(191),S=n(112),_=n(80),k=n(11),T=n.n(k),j=n(902),P=n(900),M=n.n(P),D=n(178),A=n(377),R=n(268),N=n(152),F=n.n(N),I=n(144),L=n(61),B=n(224),q=n(225),H={choices:E.a.array,clearable:E.a.bool,description:E.a.string,disabled:E.a.bool,freeForm:E.a.bool,isLoading:E.a.bool,label:E.a.string,multi:E.a.bool,allowAll:E.a.bool,name:E.a.string.isRequired,onChange:E.a.func,onFocus:E.a.func,value:E.a.oneOfType([E.a.string,E.a.number,E.a.array]),showHeader:E.a.bool,optionRenderer:E.a.func,valueRenderer:E.a.func,valueKey:E.a.string,options:E.a.array,placeholder:E.a.string,noResultsText:E.a.string,refFunc:E.a.func,filterOption:E.a.func,promptTextCreator:E.a.func,commaChoosesOption:E.a.bool},U={choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:function(){},onFocus:function(){},showHeader:!0,optionRenderer:function(e){return e.label},valueRenderer:function(e){return e.label},valueKey:"value",noResultsText:Object(O.b)("No results found"),promptTextCreator:function(e){return"Create Option ".concat(e)},commaChoosesOption:!0,allowAll:!1},V=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={options:n.getOptions(e)},n.onChange=n.onChange.bind(h()(n)),n.createMetaSelectAllOption=n.createMetaSelectAllOption.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.choices!==this.props.choices||e.options!==this.props.options){var t=this.getOptions(e);this.setState({options:t})}}},{key:"onChange",value:function(e){var t=this,n=null;if(e)if(this.props.multi){n=[];var r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;if(!0===l.meta){n=this.getOptions(this.props).filter(function(e){return!e.meta}).map(function(e){return e[t.props.valueKey]});break}n.push(l[this.props.valueKey])}}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}else{if(!0===e.meta)return;n=e[this.props.valueKey]}this.props.onChange(n)}},{key:"getOptions",value:function(e){var t=this,n=[];if(n=e.options?e.options.map(function(e){return e}):e.choices.map(function(t){var n;Array.isArray(t)?(n={label:t.length>1?t[1]:t[0]})[e.valueKey]=t[0]:Object.is(t)?n=t:(n={label:t})[e.valueKey]=t;return n}),e.freeForm){var r=n.map(function(t){return t[e.valueKey]});if(e.value){var a=e.value;Array.isArray(a)||(a=[a]),a.forEach(function(t){if(r.indexOf(t)<0){var a={label:t};a[e.valueKey]=t,n.push(a)}})}}return!0===e.allowAll&&!0===e.multi?n.findIndex(function(e){return t.isMetaSelectAllOption(e)})<0&&n.unshift(this.createMetaSelectAllOption()):n=n.filter(function(e){return!t.isMetaSelectAllOption(e)}),n}},{key:"isMetaSelectAllOption",value:function(e){return e.meta&&!0===e.meta&&"Select All"===e.label}},{key:"createMetaSelectAllOption",value:function(){var e={label:"Select All",meta:!0};return e[this.props.valueKey]="Select All",e}},{key:"render",value:function(){var e=this,t=this.props.placeholder||Object(O.b)("%s option(s)",this.state.options.length),n={multi:this.props.multi,name:"select-".concat(this.props.name),placeholder:t,options:this.state.options,value:this.props.value,labelKey:"label",valueKey:this.props.valueKey,autosize:!1,clearable:this.props.clearable,isLoading:this.props.isLoading,onChange:this.onChange,onFocus:this.props.onFocus,optionRenderer:Object(B.a)(this.props.optionRenderer),valueRenderer:this.props.valueRenderer,noResultsText:this.props.noResultsText,disabled:this.props.disabled,refFunc:this.props.refFunc,filterOption:this.props.filterOption,promptTextCreator:this.props.promptTextCreator,ignoreAccents:!1};return this.props.freeForm?(n.selectComponent=I.Creatable,n.shouldKeyDownEventCreateNewOption=function(t){var n=t.keyCode;return!(!e.props.commaChoosesOption||188!==n)||(9===n||13===n)}):n.selectComponent=I.default,g.a.createElement("div",null,this.props.showHeader&&g.a.createElement(L.a,this.props),g.a.createElement(q.a,a()({},n,{selectWrap:F.a})))}}]),t}(g.a.PureComponent);V.propTypes=H,V.defaultProps=U;var z=n(89),G=n(845),W={value:E.a.bool,label:E.a.string,onChange:E.a.func},K={paddingRight:"5px"},Y=function(e){function t(){return i()(this,t),c()(this,p()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"onChange",value:function(){this.props.onChange(!this.props.value)}},{key:"renderCheckbox",value:function(){return g.a.createElement(G.a,{onChange:this.onChange.bind(this),style:K,checked:!!this.props.value})}},{key:"render",value:function(){return this.props.label?g.a.createElement(L.a,a()({},this.props,{leftNode:this.renderCheckbox(),onClick:this.onChange.bind(this)})):this.renderCheckbox()}}]),t}(g.a.Component);Y.propTypes=W,Y.defaultProps={value:!1,onChange:function(){}};var Q=n(111),X=n(244),$=n(34);n(1986);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee="",te={name:E.a.string,annotationType:E.a.string,sourceType:E.a.string,color:E.a.string,opacity:E.a.string,style:E.a.string,width:E.a.number,showMarkers:E.a.bool,hideLine:E.a.bool,value:E.a.oneOfType([E.a.string,E.a.number]),overrides:E.a.object,show:E.a.bool,titleColumn:E.a.string,descriptionColumns:E.a.arrayOf(E.a.string),timeColumn:E.a.string,intervalEndColumn:E.a.string,vizType:E.a.string,error:E.a.string,colorScheme:E.a.string,addAnnotationLayer:E.a.func,removeAnnotationLayer:E.a.func,close:E.a.func},ne={name:"",annotationType:Q.d,sourceType:"",color:ee,opacity:"",style:"solid",width:1,showMarkers:!1,hideLine:!1,overrides:{},colorScheme:"d3Category10",show:!0,titleColumn:"",descriptionColumns:[],timeColumn:"",intervalEndColumn:"",addAnnotationLayer:function(){},removeAnnotationLayer:function(){},close:function(){}},re=function(e){function t(e){var n;i()(this,t),n=c()(this,p()(t).call(this,e));var r=e.name,a=e.annotationType,o=e.sourceType,s=e.color,l=e.opacity,u=e.style,d=e.width,f=e.showMarkers,m=e.hideLine,b=e.value,v=e.overrides,g=e.show,y=e.titleColumn,E=e.descriptionColumns,C=e.timeColumn,x=e.intervalEndColumn,O=Object.keys(v);return(O.includes("since")||O.includes("until"))&&(v.time_range=null,delete v.since,delete v.until),n.state={name:r,oldName:n.props.name?r:null,annotationType:a,sourceType:o,value:b,overrides:v,show:g,titleColumn:y,descriptionColumns:E,timeColumn:C,intervalEndColumn:x,color:s||ee,opacity:l,style:u,width:d,showMarkers:f,hideLine:m,isNew:!n.props.name,isLoadingOptions:!0,valueOptions:[],validationErrors:{}},n.submitAnnotation=n.submitAnnotation.bind(h()(n)),n.deleteAnnotation=n.deleteAnnotation.bind(h()(n)),n.applyAnnotation=n.applyAnnotation.bind(h()(n)),n.fetchOptions=n.fetchOptions.bind(h()(n)),n.handleAnnotationType=n.handleAnnotationType.bind(h()(n)),n.handleAnnotationSourceType=n.handleAnnotationSourceType.bind(h()(n)),n.handleValue=n.handleValue.bind(h()(n)),n.isValidForm=n.isValidForm.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.annotationType,n=e.sourceType,r=e.isLoadingOptions;this.fetchOptions(t,n,r)}},{key:"componentDidUpdate",value:function(e,t){t.sourceType!==this.state.sourceType&&this.fetchOptions(this.state.annotationType,this.state.sourceType,!0)}},{key:"getSupportedSourceTypes",value:function(e){var t=Object(R.a)().entries().filter(function(t){return t.value.canBeAnnotationType(e)}).map(function(e){return{value:e.key,label:e.value.name}});return Q.c[e].supportNativeSource&&t.unshift(Q.b.NATIVE),t}},{key:"isValidFormula",value:function(e,t){if(t===Q.e.FORMULA)try{M.a.parse(e).compile().eval({x:0})}catch(e){return!0}return!1}},{key:"isValidForm",value:function(){var e=this.state,t=e.name,n=e.annotationType,r=e.sourceType,a=e.value,o=e.timeColumn,i=e.intervalEndColumn,s=[Object($.b)(t),Object($.b)(n),Object($.b)(a)];return r!==Q.a.NATIVE&&(n===Q.e.EVENT&&s.push(Object($.b)(o)),n===Q.e.INTERVAL&&(s.push(Object($.b)(o)),s.push(Object($.b)(i)))),s.push(this.isValidFormula(a,n)),!s.filter(function(e){return e}).length}},{key:"handleAnnotationType",value:function(e){this.setState({annotationType:e,sourceType:null,validationErrors:{},value:null})}},{key:"handleAnnotationSourceType",value:function(e){this.setState({sourceType:e,isLoadingOptions:!0,validationErrors:{},value:null})}},{key:"handleValue",value:function(e){this.setState({value:e,descriptionColumns:null,intervalEndColumn:null,timeColumn:null,titleColumn:null,overrides:{time_range:null}})}},{key:"fetchOptions",value:function(e,t,n){var r=this;!0===n&&(t===Q.a.NATIVE?D.a.get({endpoint:"/annotationlayermodelview/api/read?"}).then(function(e){var t=e.json,n=t?t.result.map(function(e){return{value:e.id,label:e.name}}):[];r.setState({isLoadingOptions:!1,valueOptions:n})}):Object(Q.f)(t)?D.a.get({endpoint:"/superset/user_slices"}).then(function(t){var n=t.json,a=Object(R.a)();r.setState({isLoadingOptions:!1,valueOptions:n.filter(function(t){var n=a.get(t.viz_type);return n&&n.canBeAnnotationType(e)}).map(function(e){return{value:e.id,label:e.title,slice:e}})})}):this.setState({isLoadingOptions:!1,valueOptions:[]}))}},{key:"deleteAnnotation",value:function(){this.props.close(),this.state.isNew||this.props.removeAnnotationLayer(this.state)}},{key:"applyAnnotation",value:function(){var e=this;if(this.state.name.length){var t={};Object.keys(this.state).forEach(function(n){null!==e.state[n]&&(t[n]=e.state[n])}),delete t.isNew,delete t.valueOptions,delete t.isLoadingOptions,delete t.validationErrors,t.color=t.color===ee?null:t.color,this.props.addAnnotationLayer(t),this.setState({isNew:!1,oldName:this.state.name})}}},{key:"submitAnnotation",value:function(){this.applyAnnotation(),this.props.close()}},{key:"renderOption",value:function(e){return g.a.createElement("span",{className:"optionWrapper",title:e.label},e.label)}},{key:"renderValueConfiguration",value:function(){var e=this.state,t=e.annotationType,n=e.sourceType,r=e.value,a=e.valueOptions,o=e.isLoadingOptions,i="",s="";return Object(Q.f)(n)?n===Q.a.NATIVE?(i="Annotation Layer",s="Select the Annotation Layer you would like to use."):(i=i=Object(O.b)("Chart"),s="Use a pre defined Superset Chart as a source for annotations and overlays.\n        your chart must be one of these visualization types:\n        [".concat(this.getSupportedSourceTypes(t).map(function(e){return e.label}).join(", "),"]")):t===Q.e.FORMULA&&(i="Formula",s="Expects a formula with depending time parameter 'x'\n        in milliseconds since epoch. mathjs is used to evaluate the formulas.\n        Example: '2x+5'"),Object(Q.f)(n)?g.a.createElement(V,{name:"annotation-layer-value",showHeader:!0,hovered:!0,description:s,label:i,placeholder:"",options:a,isLoading:o,value:r,onChange:this.handleValue,validationErrors:r?[]:["Mandatory"],optionRenderer:this.renderOption}):t===Q.e.FORMULA?g.a.createElement(z.a,{name:"annotation-layer-value",hovered:!0,showHeader:!0,description:s,label:i,placeholder:"",value:r,onChange:this.handleValue,validationErrors:this.isValidFormula(r,t)?["Bad formula."]:[]}):""}},{key:"renderSliceConfiguration",value:function(){var e=this,t=this.state,n=t.annotationType,r=t.sourceType,a=t.value,o=t.valueOptions,i=t.overrides,s=t.titleColumn,l=t.timeColumn,u=t.intervalEndColumn,c=t.descriptionColumns,d=(o.find(function(e){return e.value===a})||{}).slice;if(r!==Q.a.NATIVE&&d){var p=(d.data.groupby||[]).concat(d.data.all_columns||[]).map(function(e){return{value:e,label:e}}),f=d.data.include_time?[{value:"__timestamp",label:"__timestamp"}].concat(p):p;return g.a.createElement("div",{style:{marginRight:"2rem"}},g.a.createElement(X.a,{isSelected:!0,onSelect:function(){},title:"Annotation Slice Configuration",info:"This section allows you to configure how to use the slice\n               to generate annotations."},(n===Q.e.EVENT||n===Q.e.INTERVAL)&&g.a.createElement(V,{hovered:!0,name:"annotation-layer-time-column",label:n===Q.e.INTERVAL?"Interval Start column":"Event Time Column",description:"This column must contain date/time information.",validationErrors:l?[]:["Mandatory"],clearable:!1,options:f,value:l,onChange:function(t){return e.setState({timeColumn:t})}}),n===Q.e.INTERVAL&&g.a.createElement(V,{hovered:!0,name:"annotation-layer-intervalEnd",label:"Interval End column",description:"This column must contain date/time information.",validationErrors:u?[]:["Mandatory"],options:p,value:u,onChange:function(t){return e.setState({intervalEndColumn:t})}}),g.a.createElement(V,{hovered:!0,name:"annotation-layer-title",label:"Title Column",description:"Pick a title for you annotation.",options:[{value:"",label:"None"}].concat(p),value:s,onChange:function(t){return e.setState({titleColumn:t})}}),n!==Q.e.TIME_SERIES&&g.a.createElement(V,{hovered:!0,name:"annotation-layer-title",label:"Description Columns",description:"Pick one or more columns that should be shown in the\n                  annotation. If you don't select a column all of them will be shown.",multi:!0,options:p,value:c,onChange:function(t){return e.setState({descriptionColumns:t})}}),g.a.createElement("div",{style:{marginTop:"1rem"}},g.a.createElement(Y,{hovered:!0,name:"annotation-override-time_range",label:"Override time range",description:'This controls whether the "time_range" field from the current\n                  view should be passed down to the chart containing the annotation data.',value:!!Object.keys(i).find(function(e){return"time_range"===e}),onChange:function(t){delete i.time_range,t?e.setState({overrides:J({},i,{time_range:null})}):e.setState({overrides:J({},i)})}}),g.a.createElement(Y,{hovered:!0,name:"annotation-override-timegrain",label:"Override time grain",description:"This controls whether the time grain field from the current\n                  view should be passed down to the chart containing the annotation data.",value:!!Object.keys(i).find(function(e){return"time_grain_sqla"===e}),onChange:function(t){delete i.time_grain_sqla,delete i.granularity,t?e.setState({overrides:J({},i,{time_grain_sqla:null,granularity:null})}):e.setState({overrides:J({},i)})}}),g.a.createElement(z.a,{hovered:!0,name:"annotation-layer-timeshift",label:"Time Shift",description:"Time delta in natural language\n                  (example:  24 hours, 7 days, 56 weeks, 365 days)",placeholder:"",value:i.time_shift,onChange:function(t){return e.setState({overrides:J({},i,{time_shift:t})})}}))))}return""}},{key:"renderDisplayConfiguration",value:function(){var e=this,t=this.state,n=t.color,r=t.opacity,a=t.style,o=t.width,i=t.showMarkers,s=t.hideLine,l=t.annotationType,u=Object(A.a)().get(this.props.colorScheme).colors.concat();return n&&n!==ee&&!u.find(function(e){return e.toLowerCase()===n.toLowerCase()})&&u.push(n),g.a.createElement(X.a,{isSelected:!0,onSelect:function(){},title:Object(O.b)("Display configuration"),info:Object(O.b)("Configure your how you overlay is displayed here.")},g.a.createElement(V,{name:"annotation-layer-stroke",label:Object(O.b)("Style"),options:[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"},{value:"longDashed",label:"Long Dashed"},{value:"dotted",label:"Dotted"}],value:a,onChange:function(t){return e.setState({style:t})}}),g.a.createElement(V,{name:"annotation-layer-opacity",label:Object(O.b)("Opacity"),options:[{value:"",label:"Solid"},{value:"opacityLow",label:"0.2"},{value:"opacityMedium",label:"0.5"},{value:"opacityHigh",label:"0.8"}],value:r,onChange:function(t){return e.setState({opacity:t})}}),g.a.createElement("div",null,g.a.createElement(L.a,{label:Object(O.b)("Color")}),g.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},g.a.createElement(j.CompactPicker,{color:n,colors:u,onChangeComplete:function(t){return e.setState({color:t.hex})}}),g.a.createElement(C.Button,{style:{marginTop:"0.5rem",marginBottom:"0.5rem"},bsStyle:n===ee?"success":"default",bsSize:"xsmall",onClick:function(){return e.setState({color:ee})}},"Automatic Color"))),g.a.createElement(z.a,{name:"annotation-layer-stroke-width",label:Object(O.b)("Line Width"),isInt:!0,value:o,onChange:function(t){return e.setState({width:t})}}),l===Q.e.TIME_SERIES&&g.a.createElement(Y,{hovered:!0,name:"annotation-layer-show-markers",label:"Show Markers",description:"Shows or hides markers for the time series",value:i,onChange:function(t){return e.setState({showMarkers:t})}}),l===Q.e.TIME_SERIES&&g.a.createElement(Y,{hovered:!0,name:"annotation-layer-hide-line",label:"Hide Line",description:"Hides the Line for the time series",value:s,onChange:function(t){return e.setState({hideLine:t})}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isNew,r=t.name,a=t.annotationType,o=t.sourceType,i=t.show,s=this.isValidForm(),l=Object(R.a)().get(this.props.vizType),u=l?l.supportedAnnotationTypes.map(function(e){return Q.c[e]}):[],c=this.getSupportedSourceTypes(a);return g.a.createElement("div",null,this.props.error&&g.a.createElement("span",{style:{color:"red"}},"ERROR: ",this.props.error),g.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},g.a.createElement("div",{style:{marginRight:"2rem"}},g.a.createElement(X.a,{isSelected:!0,onSelect:function(){},title:Object(O.b)("Layer Configuration"),info:Object(O.b)("Configure the basics of your Annotation Layer.")},g.a.createElement(z.a,{name:"annotation-layer-name",label:Object(O.b)("Name"),placeholder:"",value:r,onChange:function(t){return e.setState({name:t})},validationErrors:r?[]:[Object(O.b)("Mandatory")]}),g.a.createElement(Y,{name:"annotation-layer-hide",label:Object(O.b)("Hide Layer"),value:!i,onChange:function(t){return e.setState({show:!t})}}),g.a.createElement(V,{hovered:!0,description:Object(O.b)("Choose the Annotation Layer Type"),label:Object(O.b)("Annotation Layer Type"),name:"annotation-layer-type",options:u,value:a,onChange:this.handleAnnotationType}),!!c.length&&g.a.createElement(V,{hovered:!0,description:"Choose the source of your annotations",label:"Annotation Source",name:"annotation-source-type",options:c,value:o,onChange:this.handleAnnotationSourceType}),this.renderValueConfiguration())),this.renderSliceConfiguration(),this.renderDisplayConfiguration()),g.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},g.a.createElement(C.Button,{bsSize:"sm",onClick:this.deleteAnnotation},n?Object(O.b)("Cancel"):Object(O.b)("Remove")),g.a.createElement("div",null,g.a.createElement(C.Button,{bsSize:"sm",disabled:!s,onClick:this.applyAnnotation},Object(O.b)("Apply")),g.a.createElement(C.Button,{bsSize:"sm",disabled:!s,onClick:this.submitAnnotation},Object(O.b)("OK")))))}}]),t}(g.a.PureComponent);re.propTypes=te,re.defaultProps=ne;var ae={colorScheme:E.a.string.isRequired,annotationError:E.a.object,annotationQuery:E.a.object,vizType:E.a.string,validationErrors:E.a.array,name:E.a.string.isRequired,actions:E.a.object,value:E.a.arrayOf(E.a.object),onChange:E.a.func,refreshAnnotationData:E.a.func},oe=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).addAnnotationLayer=n.addAnnotationLayer.bind(h()(n)),n.removeAnnotationLayer=n.removeAnnotationLayer.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.name,n=e.annotationError,r=e.validationErrors,a=e.value;Object.keys(n).length&&!r.length&&this.props.actions.setControlValue(t,a,Object.keys(n)),!Object.keys(n).length&&r.length&&this.props.actions.setControlValue(t,a,[])}},{key:"addAnnotationLayer",value:function(e){var t=e,n=this.props.value.slice(),r=n.findIndex(function(e){return e.name===(t.oldName||t.name)});delete t.oldName,r>-1?n[r]=t:n=n.concat(t),this.props.refreshAnnotationData(t),this.props.onChange(n)}},{key:"removeAnnotationLayer",value:function(e){var t=this.props.value.slice().filter(function(t){return t.name!==e.oldName});this.props.onChange(t)}},{key:"renderPopover",value:function(e,t,n){var r=this,o=t?t.name:"_new";return g.a.createElement(C.Popover,{style:{maxWidth:"none"},title:t?Object(O.b)("Edit Annotation Layer"):Object(O.b)("Add Annotation Layer"),id:"annotation-pop-".concat(o)},g.a.createElement(re,a()({},t,{error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:this.addAnnotationLayer,removeAnnotationLayer:this.removeAnnotationLayer,close:function(){return r.refs[e].hide()}})))}},{key:"renderInfo",value:function(e){var t=this.props,n=t.annotationError;return t.annotationQuery[e.name]?g.a.createElement("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):n[e.name]?g.a.createElement(_.a,{label:"validation-errors",bsStyle:"danger",tooltip:n[e.name]}):e.show?"":g.a.createElement("span",{style:{color:"red"}}," Hidden ")}},{key:"render",value:function(){var e=this,t=this.props.value.map(function(t,n){return g.a.createElement(C.OverlayTrigger,{key:n,trigger:"click",rootClose:!0,ref:"overlay-".concat(n),placement:"right",overlay:e.renderPopover("overlay-".concat(n),t,e.props.annotationError[t.name])},g.a.createElement(C.ListGroupItem,null,g.a.createElement("span",null,t.name),g.a.createElement("span",{style:{float:"right"}},e.renderInfo(t))))});return g.a.createElement("div",null,g.a.createElement(C.ListGroup,null,t,g.a.createElement(C.OverlayTrigger,{trigger:"click",rootClose:!0,ref:"overlay-new",placement:"right",overlay:this.renderPopover("overlay-new")},g.a.createElement(C.ListGroupItem,null,g.a.createElement("i",{className:"fa fa-plus"}),"   ",Object(O.b)("Add Annotation Layer")))))}}]),t}(g.a.PureComponent);oe.propTypes=ae,oe.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:function(){}};var ie=Object(x.b)(function(e){var t=e.charts,n=e.explore,r=t[Object(w.c)(n)]||t[0]||{};return{colorScheme:(n.controls||{}).color_scheme.value,annotationError:r.annotationError,annotationQuery:r.annotationQuery,vizType:n.controls.viz_type.value}},function(e){return{refreshAnnotationData:function(t){return e(Object(S.runAnnotationQuery)(t))}}})(oe),se={onChange:E.a.func,value:E.a.array},le=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},n.onChange=n.onChange.bind(h()(n)),n.onMinChange=n.onMinChange.bind(h()(n)),n.onMaxChange=n.onMaxChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onMinChange",value:function(e){this.setState({minMax:[e.target.value,this.state.minMax[1]]},this.onChange)}},{key:"onMaxChange",value:function(e){this.setState({minMax:[this.state.minMax[0],e.target.value]},this.onChange)}},{key:"onChange",value:function(){var e=this.state.minMax,t=[];e[0]&&isNaN(e[0])&&t.push(Object(O.b)("`Min` value should be numeric or empty")),e[1]&&isNaN(e[1])&&t.push(Object(O.b)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([parseFloat(e[0]),parseFloat(e[1])],t):this.props.onChange([null,null],t)}},{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement(L.a,this.props),g.a.createElement(C.FormGroup,{bsSize:"small"},g.a.createElement(C.Row,null,g.a.createElement(C.Col,{xs:6},g.a.createElement(C.FormControl,{type:"text",placeholder:Object(O.b)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),g.a.createElement(C.Col,{xs:6},g.a.createElement(C.FormControl,{type:"text",placeholder:Object(O.b)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}]),t}(g.a.Component);le.propTypes=se,le.defaultProps={onChange:function(){},value:[null,null]};var ue=n(71),ce=n.n(ue),de=n(859),pe=(n(1991),{name:E.a.string.isRequired,label:E.a.string,description:E.a.string,placeholder:E.a.string,addTooltip:E.a.string,itemGenerator:E.a.func,keyAccessor:E.a.func,onChange:E.a.func,value:E.a.oneOfType([E.a.array]),isFloat:E.a.bool,isInt:E.a.bool,controlName:E.a.string.isRequired}),fe={label:null,description:null,onChange:function(){},placeholder:"Empty collection",itemGenerator:function(){return{key:ce.a.generate()}},keyAccessor:function(e){return e.key},value:[],addTooltip:"Add an item"},he=Object(de.SortableElement)(C.ListGroupItem),me=Object(de.SortableContainer)(C.ListGroup),be=Object(de.SortableHandle)(function(){return g.a.createElement("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}})}),ve=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onAdd=n.onAdd.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(e,t){Object.assign(this.props.value[e],t),this.props.onChange(this.props.value)}},{key:"onAdd",value:function(){this.props.onChange(this.props.value.concat([this.props.itemGenerator()]))}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex;this.props.onChange(Object(de.arrayMove)(this.props.value,t,n))}},{key:"removeItem",value:function(e){this.props.onChange(this.props.value.filter(function(t,n){return e!==n}))}},{key:"renderList",value:function(){var e=this;if(0===this.props.value.length)return g.a.createElement("div",{className:"text-muted"},this.props.placeholder);var t=Tr[this.props.controlName];return g.a.createElement(me,{useDragHandle:!0,lockAxis:"y",onSortEnd:this.onSortEnd.bind(this)},this.props.value.map(function(n,r){return g.a.createElement(he,{className:"clearfix",key:e.props.keyAccessor(n),index:r},g.a.createElement("div",{className:"pull-left m-r-5"},g.a.createElement(be,null)),g.a.createElement("div",{className:"pull-left"},g.a.createElement(t,a()({},e.props,n,{onChange:e.onChange.bind(e,r)}))),g.a.createElement("div",{className:"pull-right"},g.a.createElement(_.a,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:e.removeItem.bind(e,r)})))}))}},{key:"render",value:function(){return g.a.createElement("div",{className:"CollectionControl"},g.a.createElement(L.a,this.props),this.renderList(),g.a.createElement(_.a,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}]),t}(g.a.Component);ve.propTypes=pe,ve.defaultProps=fe;var ge=n(179),ye={onChange:E.a.func,value:E.a.object,colorScheme:E.a.string,colorNamespace:E.a.string},Ee={onChange:function(){},value:{},colorScheme:void 0,colorNamespace:void 0},Ce=function(e){function t(e){var n;return i()(this,t),n=c()(this,p()(t).call(this,e)),Object.keys(n.props.value).forEach(function(e){ge.CategoricalColorNamespace.getScale(n.props.colorScheme,n.props.colorNamespace).setColor(e,n.props.value[e])}),n}return b()(t,e),l()(t,[{key:"render",value:function(){return null}}]),t}(g.a.PureComponent);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Ce.propTypes=ye,Ce.defaultProps=Ee;var we={onChange:E.a.func,value:E.a.object},Se={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},_e={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:Oe({},Se,{borderRadius:"2px"}),checkboard:Oe({},Se,{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'})},ke=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(e){this.props.onChange(e.rgb)}},{key:"renderPopover",value:function(){var e=Object(A.a)().get().colors.filter(function(e,t){return t<7});return g.a.createElement(C.Popover,{id:"filter-popover",className:"color-popover"},g.a.createElement(j.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:e}))}},{key:"render",value:function(){var e=this.props.value||{r:0,g:0,b:0,a:0},t=Object.assign({},_e.color,{background:"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")")});return g.a.createElement("div",null,g.a.createElement(L.a,this.props),g.a.createElement(C.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},g.a.createElement("div",{style:_e.swatch},g.a.createElement("div",{style:_e.checkboard}),g.a.createElement("div",{style:t}))))}}]),t}(g.a.Component);ke.propTypes=we,ke.defaultProps={onChange:function(){}};var Te=n(1319),je=n(176),Pe=n(664),Me=n(370),De=n.n(Me),Ae=n(86),Re=n(37),Ne=n.n(Re),Fe=n(93),Ie=n(186),Le=n(999),Be=n(267),qe=n.n(Be),He=(n(861),n(2007),n(2008),n(1885),n(2173),n(1886),n(156)),Ue={name:E.a.string,onChange:E.a.func,value:E.a.string,height:E.a.number,minLines:E.a.number,maxLines:E.a.number,offerEditInModal:E.a.bool,language:E.a.oneOf([null,"json","html","sql","markdown","javascript"]),aboveEditorSection:E.a.node,readOnly:E.a.bool},Ve=function(e){function t(){return i()(this,t),c()(this,p()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"onControlChange",value:function(e){this.props.onChange(e.target.value)}},{key:"onAceChange",value:function(e){this.props.onChange(e)}},{key:"renderEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.value||"";return this.props.language?g.a.createElement(qe.a,{mode:this.props.language,theme:"textmate",style:{border:"1px solid #CCC"},minLines:e?40:this.props.minLines,maxLines:e?1e3:this.props.maxLines,onChange:this.onAceChange.bind(this),width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:t,readOnly:this.props.readOnly}):g.a.createElement(C.FormGroup,{controlId:"formControlsTextarea"},g.a.createElement(C.FormControl,{componentClass:"textarea",placeholder:Object(O.b)("textarea"),onChange:this.onControlChange.bind(this),value:t,disabled:this.props.readOnly,style:{height:this.props.height}}))}},{key:"renderModalBody",value:function(){return g.a.createElement("div",null,g.a.createElement("div",null,this.props.aboveEditorSection),this.renderEditor(!0))}},{key:"render",value:function(){var e=g.a.createElement(L.a,this.props);return g.a.createElement("div",null,e,this.renderEditor(),this.props.offerEditInModal&&g.a.createElement(He.a,{bsSize:"large",modalTitle:e,triggerNode:g.a.createElement(C.Button,{bsSize:"small",className:"m-t-5"},Object(O.b)("Edit")," ",g.a.createElement("strong",null,this.props.language)," ",Object(O.b)("in modal")),modalBody:this.renderModalBody(!0)}))}}]),t}(g.a.Component);Ve.propTypes=Ue,Ve.defaultProps={onChange:function(){},value:"",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1};var ze=n(580),Ge=n(182),We=void 0,Ke={dataEndpoint:E.a.string.isRequired,multi:E.a.bool,mutator:E.a.func,onAsyncErrorMessage:E.a.string,onChange:E.a.func,placeholder:E.a.string,value:E.a.oneOfType([E.a.string,E.a.number,E.a.arrayOf(E.a.string),E.a.arrayOf(E.a.number)]),addDangerToast:E.a.func.isRequired},Ye={multi:!0,onAsyncErrorMessage:Object(O.b)("Error while fetching data"),onChange:function(){},placeholder:Object(O.b)("Select ...")},Qe=function(e){var t=e.value,n=e.onChange,r=e.dataEndpoint,a=e.multi,o=e.mutator,i=e.placeholder,s=e.onAsyncErrorMessage;return g.a.createElement("div",null,g.a.createElement(L.a,e),g.a.createElement(ze.a,{dataEndpoint:r,onChange:function(e){var t;t=a?e.map(function(e){return e.value}):e?e.value:null,n(t)},onAsyncError:function(e){return We.props.addDangerToast(s+": "+e)},mutator:o,multi:a,value:t,placeholder:i,valueRenderer:function(e){return g.a.createElement("div",null,e.label)}}))};Qe.propTypes=Ke,Qe.defaultProps=Ye;var Xe=Object(Ge.a)(Qe),$e={latlong:"latlong",delimited:"delimited",geohash:"geohash"},Ze={onChange:E.a.func,value:E.a.object,animation:E.a.bool,choices:E.a.array},Je=function(e){function t(e){var n;i()(this,t),n=c()(this,p()(t).call(this,e));var r,a=e.value||{};return e.choices.length>0&&(r=e.choices[0][0]),n.state={type:a.type||$e.latlong,delimiter:a.delimiter||",",latCol:a.latCol||r,lonCol:a.lonCol||r,lonlatCol:a.lonlatCol||r,reverseCheckbox:a.reverseCheckbox||!1,geohashCol:a.geohashCol||r,value:null,errors:[]},n.toggleCheckbox=n.toggleCheckbox.bind(h()(n)),n.onChange=n.onChange.bind(h()(n)),n.renderReverseCheckbox=n.renderReverseCheckbox.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.onChange()}},{key:"onChange",value:function(){var e=this.state.type,t={type:e},n=[],r=Object(O.b)("Invalid lat/long configuration.");e===$e.latlong?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||n.push(r)):e===$e.delimited?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||n.push(r)):e===$e.geohash&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||n.push(r)),this.setState({value:t,errors:n}),this.props.onChange(t,n)}},{key:"setType",value:function(e){this.setState({type:e},this.onChange)}},{key:"close",value:function(){this.refs.trigger.hide()}},{key:"toggleCheckbox",value:function(){this.setState({reverseCheckbox:!this.state.reverseCheckbox},this.onChange)}},{key:"renderLabelContent",value:function(){return this.state.errors.length>0?"N/A":this.state.type===$e.latlong?"".concat(this.state.lonCol," | ").concat(this.state.latCol):this.state.type===$e.delimited?"".concat(this.state.lonlatCol):this.state.type===$e.geohash?"".concat(this.state.geohashCol):null}},{key:"renderSelect",value:function(e,t){var n=this;return g.a.createElement(V,{name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:function(){n.setType(t)},onChange:function(t){n.setState(T()({},e,t),n.onChange)}})}},{key:"renderReverseCheckbox",value:function(){return g.a.createElement("span",null,Object(O.b)("Reverse lat/long "),g.a.createElement(G.a,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox}))}},{key:"renderPopover",value:function(){return g.a.createElement(C.Popover,{id:"filter-popover"},g.a.createElement("div",{style:{width:"300px"}},g.a.createElement(X.a,{title:Object(O.b)("Longitude & Latitude columns"),isSelected:this.state.type===$e.latlong,onSelect:this.setType.bind(this,$e.latlong)},g.a.createElement(C.Row,null,g.a.createElement(C.Col,{md:6},"Longitude",this.renderSelect("lonCol",$e.latlong)),g.a.createElement(C.Col,{md:6},"Latitude",this.renderSelect("latCol",$e.latlong)))),g.a.createElement(X.a,{title:Object(O.b)("Delimited long & lat single column"),info:Object(O.b)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===$e.delimited,onSelect:this.setType.bind(this,$e.delimited)},g.a.createElement(C.Row,null,g.a.createElement(C.Col,{md:6},Object(O.b)("Column"),this.renderSelect("lonlatCol",$e.delimited)),g.a.createElement(C.Col,{md:6},this.renderReverseCheckbox()))),g.a.createElement(X.a,{title:Object(O.b)("Geohash"),isSelected:this.state.type===$e.geohash,onSelect:this.setType.bind(this,$e.geohash)},g.a.createElement(C.Row,null,g.a.createElement(C.Col,{md:6},"Column",this.renderSelect("geohashCol",$e.geohash)),g.a.createElement(C.Col,{md:6},this.renderReverseCheckbox()))),g.a.createElement("div",{className:"clearfix"},g.a.createElement(C.Button,{bsSize:"small",className:"float-left ok",bsStyle:"primary",onClick:this.close.bind(this)},"Ok"))))}},{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement(L.a,this.props),g.a.createElement(C.OverlayTrigger,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},g.a.createElement(C.Label,{style:{cursor:"pointer"}},this.renderLabelContent())))}}]),t}(g.a.Component);function et(e,t,n){return g.a.Children.map(e,function(e){var r=e;return e&&e.type.name===t.name&&(r=g.a.cloneElement(e,n(e))),r&&r.props.children&&(r=g.a.cloneElement(r,{children:et(r.props.children,t,n)})),r})}Je.propTypes=Ze,Je.defaultProps={onChange:function(){},animation:!0,choices:[]};n(1343);var tt={value:E.a.any.isRequired,label:E.a.string.isRequired,descr:E.a.node,fieldKey:E.a.string.isRequired,control:E.a.node.isRequired,onChange:E.a.func,compact:E.a.bool},nt=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(e){this.props.onChange(this.props.fieldKey,e)}},{key:"render",value:function(){var e=this.props,t=e.compact,n=e.value,r=e.label,a=e.control,o=e.descr,i=e.fieldKey,s=g.a.cloneElement(a,{value:n,onChange:this.onChange});return g.a.createElement(C.FormGroup,{controlId:i},g.a.createElement(C.ControlLabel,{className:"m-r-5"},r||i,t&&o&&g.a.createElement(C.OverlayTrigger,{placement:"right",overlay:g.a.createElement(C.Tooltip,{id:"field-descr",bsSize:"lg"},o)},g.a.createElement("i",{className:"fa fa-info-circle m-l-5"}))),s,g.a.createElement(C.FormControl.Feedback,null),!t&&o&&g.a.createElement(C.HelpBlock,null,o))}}]),t}(g.a.PureComponent);function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}nt.propTypes=tt,nt.defaultProps={controlProps:{},onChange:function(){},compact:!1,desc:null};var at={children:E.a.node.isRequired,onChange:E.a.func.isRequired,item:E.a.object.isRequired,title:E.a.node,compact:E.a.bool},ot=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(e,t){return this.props.onChange(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.item,T()({},e,t)))}},{key:"render",value:function(){var e=this,t=this.props.title;return g.a.createElement(C.Form,{componentClass:"fieldset",className:"CRUD"},t&&g.a.createElement("legend",null,t),et(this.props.children,nt,function(t){return{onChange:e.onChange,value:e.props.item[t.props.fieldKey],compact:e.props.compact}}))}}]),t}(g.a.PureComponent);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}ot.propTypes=at,ot.defaultProps={compact:!1,title:null};var lt={collection:E.a.arrayOf(E.a.object).isRequired,itemGenerator:E.a.func,columnLabels:E.a.object,tableColumns:E.a.array.isRequired,onChange:E.a.func,itemRenderers:E.a.object,allowDeletes:E.a.bool,expandFieldset:E.a.node,emptyMessage:E.a.node,extraButtons:E.a.node,allowAddItem:E.a.bool};function ut(e){var t=e.map(function(e){return st({},e,{id:e.id||ce.a.generate()})}),n={};return t.forEach(function(e){n[e.id]=e}),n}E.a.node;var ct=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={expandedColumns:{},collection:ut(e.collection)},n.renderItem=n.renderItem.bind(h()(n)),n.onAddItem=n.onAddItem.bind(h()(n)),n.renderExpandableSection=n.renderExpandableSection.bind(h()(n)),n.getLabel=n.getLabel.bind(h()(n)),n.onFieldsetChange=n.onFieldsetChange.bind(h()(n)),n.renderTableBody=n.renderTableBody.bind(h()(n)),n.changeCollection=n.changeCollection.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.collection!==this.props.collection&&this.setState({collection:ut(e.collection)})}},{key:"onCellChange",value:function(e,t,n){this.changeCollection(st({},this.state.collection,T()({},e,st({},this.state.collection[e],T()({},t,n)))))}},{key:"onAddItem",value:function(){var e=this.props.itemGenerator();e.id||(e=st({},e,{id:ce.a.generate()})),this.changeCollection(st({},this.state.collection,T()({},e.id,e)))}},{key:"onFieldsetChange",value:function(e){this.changeCollection(st({},this.state.collection,T()({},e.id,e)))}},{key:"getLabel",value:function(e){var t=this.props.columnLabels,n=t[e]?t[e]:e;return n.startsWith("__")&&(n=""),n}},{key:"changeCollection",value:function(e){this.setState({collection:e}),this.props.onChange(Object.keys(e).map(function(t){return e[t]}))}},{key:"deleteItem",value:function(e){var t=st({},this.state.collection);delete t[e],this.changeCollection(t)}},{key:"effectiveTableColumns",value:function(){var e=this.props,t=e.tableColumns,n=e.allowDeletes,r=e.expandFieldset,a=n?t.concat(["__actions"]):t;return r?["__expand"].concat(a):a}},{key:"toggleExpand",value:function(e){this.onCellChange(e,"__expanded",!1),this.setState({expandedColumns:st({},this.state.expandedColumns,T()({},e,!this.state.expandedColumns[e]))})}},{key:"renderHeaderRow",value:function(){var e=this,t=this.effectiveTableColumns();return g.a.createElement("thead",null,g.a.createElement("tr",null,this.props.expandFieldset&&g.a.createElement("th",{className:"tiny-cell"}),t.map(function(t){return g.a.createElement("th",{key:t},e.getLabel(t))}),this.props.allowDeletes&&g.a.createElement("th",{className:"tiny-cell"})))}},{key:"renderExpandableSection",value:function(e){var t=this;return et(this.props.expandFieldset,ot,function(){return{item:e,onChange:t.onFieldsetChange}})}},{key:"renderCell",value:function(e,t){var n=this.props.itemRenderers[t],r=e[t],a=this.onCellChange.bind(this,e.id,t);return n?n(r,a,this.getLabel(t)):r}},{key:"renderItem",value:function(e){var t=this,n=this.props,r=n.tableColumns,a=n.allowDeletes,o=n.expandFieldset,i=!!this.state.expandedColumns[e.id]||e.__expanded,s=[];o&&s.push(g.a.createElement("td",{key:"__expand",className:"expand"},g.a.createElement("i",{className:"fa fa-caret-".concat(i?"down":"right"," text-primary pointer"),onClick:this.toggleExpand.bind(this,e.id)}))),s=s.concat(r.map(function(n){return g.a.createElement("td",{key:n},t.renderCell(e,n))})),a&&s.push(g.a.createElement("td",{key:"__actions"},g.a.createElement("i",{className:"fa fa-close text-primary pointer",onClick:this.deleteItem.bind(this,e.id)})));var l=[g.a.createElement("tr",{className:"row",key:e.id},s)];return i&&l.push(g.a.createElement("tr",{className:"exp",key:"exp__"+e.id},g.a.createElement("td",{colSpan:this.effectiveTableColumns().length,className:"expanded"},g.a.createElement("div",null,this.renderExpandableSection(e))))),l}},{key:"renderEmptyCell",value:function(){return g.a.createElement("tr",null,g.a.createElement("td",{className:"empty-collection"},this.props.emptyMessage))}},{key:"renderTableBody",value:function(){var e=this,t=Object.keys(this.state.collection).map(function(t){return e.state.collection[t]}),n=t.length?t.map(function(t){return e.renderItem(t)}):this.renderEmptyCell();return g.a.createElement("tbody",null,n)}},{key:"render",value:function(){return g.a.createElement("div",{className:"CRUD"},g.a.createElement("table",{className:"table"},this.renderHeaderRow(),this.renderTableBody()),g.a.createElement("div",null,this.props.allowAddItem&&g.a.createElement(Fe.a,{bsStyle:"primary",onClick:this.onAddItem},g.a.createElement("i",{className:"fa fa-plus"})," ",Object(O.b)("Add Item")),this.props.extraButtons))}}]),t}(g.a.PureComponent);ct.defaultProps={onChange:function(){},itemRenderers:{},columnLabels:{},allowDeletes:!1,emptyMessage:"No entries",allowAddItem:!1,itemGenerator:function(){return{}},expandFieldset:null,extraButtons:null},ct.propTypes=lt;var dt=n(308);n(1992);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ht=function(e,t){return g.a.createElement(Y,{value:e,onChange:t})},mt=["STRING","NUMERIC","DATETIME"];function bt(e){var t=e.title,n=e.collection;return g.a.createElement("div",null,t," ",g.a.createElement(C.Badge,null,n?n.length:0))}function vt(e){var t=e.columns,n=e.onChange,r=e.editableColumnName,a=e.showExpression,o=e.allowAddItem,i=e.allowEditDataType,s=e.itemGenerator;return g.a.createElement(ct,{collection:t,tableColumns:["column_name","type","is_dttm","filterable","groupby"],allowDeletes:!0,allowAddItem:o,itemGenerator:s,expandFieldset:g.a.createElement(yt,null,g.a.createElement(ot,{compact:!0},a&&g.a.createElement(nt,{fieldKey:"expression",label:Object(O.b)("SQL Expression"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"verbose_name",label:Object(O.b)("Label"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"description",label:Object(O.b)("Description"),control:g.a.createElement(z.a,null)}),i&&g.a.createElement(nt,{fieldKey:"type",label:Object(O.b)("Data Type"),control:g.a.createElement(V,{choices:mt,name:"type",freeForm:!0})}),g.a.createElement(nt,{fieldKey:"python_date_format",label:Object(O.b)("Datetime Format"),descr:g.a.createElement("div",null,Object(O.b)("The pattern of timestamp format. For strings use "),g.a.createElement("a",{href:"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior"},Object(O.b)("python datetime string pattern")),Object(O.b)(" expression which needs to adhere to the "),g.a.createElement("a",{href:"https://en.wikipedia.org/wiki/ISO_8601"},Object(O.b)("ISO 8601")),Object(O.b)(" standard to ensure that the lexicographical ordering\n                      coincides with the chronological ordering. If the\n                      timestamp format does not adhere to the ISO 8601 standard\n                      you will need to define an expression and type for\n                      transforming the string into a date or timestamp. Note\n                      currently time zones are not supported. If time is stored\n                      in epoch format, put `epoch_s` or `epoch_ms`. If no pattern\n                      is specified we fall back to using the optional defaults on a per\n                      database/column name level via the extra parameter.")),control:g.a.createElement(z.a,null)}))),columnLabels:{column_name:Object(O.b)("Column"),type:Object(O.b)("Data Type"),groupby:Object(O.b)("Is Dimension"),is_dttm:Object(O.b)("Is Temporal"),filterable:Object(O.b)("Is Filterable")},onChange:n,itemRenderers:{column_name:function(e,t){return r?g.a.createElement(dt.a,{canEdit:!0,title:e,onSaveTitle:t}):e},type:function(e){return g.a.createElement(C.Label,{style:{fontSize:"75%"}},e)},is_dttm:ht,filterable:ht,groupby:ht}})}function gt(e){var t=e.label,n=e.formElement;return g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement("strong",null,t)),g.a.createElement("div",null,n))}function yt(e){var t=e.children;return g.a.createElement(C.Well,{style:{marginTop:20}},t)}bt.propTypes={title:E.a.string,collection:E.a.array},vt.propTypes={columns:E.a.array.isRequired,onChange:E.a.func.isRequired,editableColumnName:E.a.bool,showExpression:E.a.bool,allowAddItem:E.a.bool,allowEditDataType:E.a.bool,itemGenerator:E.a.func},vt.defaultProps={editableColumnName:!1,showExpression:!1,allowAddItem:!1,allowEditDataType:!1,itemGenerator:function(){return{column_name:"<new column>",filterable:!0,groupby:!0}}},gt.propTypes={label:E.a.string,formElement:E.a.node},yt.propTypes={children:E.a.node};var Et={datasource:E.a.object.isRequired,onChange:E.a.func,addSuccessToast:E.a.func.isRequired,addDangerToast:E.a.func.isRequired},Ct=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={datasource:e.datasource,errors:[],isDruid:"druid"===e.datasource.type,isSqla:"table"===e.datasource.type,databaseColumns:e.datasource.columns.filter(function(e){return!e.expression}),calculatedColumns:e.datasource.columns.filter(function(e){return!!e.expression}),metadataLoading:!1,activeTabKey:1},n.onChange=n.onChange.bind(h()(n)),n.onDatasourcePropChange=n.onDatasourcePropChange.bind(h()(n)),n.onDatasourceChange=n.onDatasourceChange.bind(h()(n)),n.syncMetadata=n.syncMetadata.bind(h()(n)),n.setColumns=n.setColumns.bind(h()(n)),n.validateAndChange=n.validateAndChange.bind(h()(n)),n.handleTabSelect=n.handleTabSelect.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(){var e=ft({},this.state.datasource,{columns:[].concat(Ne()(this.state.databaseColumns),Ne()(this.state.calculatedColumns))});this.props.onChange(e,this.state.errors)}},{key:"onDatasourceChange",value:function(e){this.setState({datasource:e},this.validateAndChange)}},{key:"onDatasourcePropChange",value:function(e,t){var n=ft({},this.state.datasource,T()({},e,t));this.setState({datasource:n},this.onDatasourceChange(n))}},{key:"setColumns",value:function(e){this.setState(e,this.validateAndChange)}},{key:"validateAndChange",value:function(){this.validate(this.onChange)}},{key:"mergeColumns",value:function(e){var t,n=this.state.databaseColumns,r=n.map(function(e){return e.column_name});e.forEach(function(e){r.indexOf(e.name)<0&&(n=n.concat([{id:ce.a.generate(),column_name:e.name,type:e.type,groupby:!0,filterable:!0}]),t=!0)}),t&&this.setColumns({databaseColumns:n})}},{key:"syncMetadata",value:function(){var e=this,t=this.state.datasource,n="/datasource/external_metadata/".concat(t.type,"/").concat(t.id,"/")+"?db_id=".concat(t.database.id)+"&schema=".concat(t.schema||"")+"&table_name=".concat(t.datasource_name);this.setState({metadataLoading:!0}),D.a.get({endpoint:n}).then(function(t){var n=t.json;e.mergeColumns(n),e.props.addSuccessToast(Object(O.b)("Metadata has been synced")),e.setState({metadataLoading:!1})}).catch(function(t){return Object(Ae.a)(t).then(function(t){var n=t.error,r=t.statusText;e.props.addDangerToast(n||r||Object(O.b)("An error has occurred")),e.setState({metadataLoading:!1})})})}},{key:"findDuplicates",value:function(e,t){var n={},r=[];return e.forEach(function(e){var a=t(e);a in n?r.push(a):n[a]=null}),r}},{key:"validate",value:function(e){var t,n=[],r=this.state.datasource;t=this.findDuplicates(r.columns,function(e){return e.column_name}),n=n.concat(t.map(function(e){return Object(O.b)("Column name [%s] is duplicated",e)})),t=this.findDuplicates(r.metrics,function(e){return e.metric_name}),n=n.concat(t.map(function(e){return Object(O.b)("Metric name [%s] is duplicated",e)}));var a=this.state.calculatedColumns.filter(function(e){return!e.expression&&!e.json});n=n.concat(a.map(function(e){return Object(O.b)("Calculated column [%s] requires an expression",e.column_name)})),this.setState({errors:n},e)}},{key:"handleTabSelect",value:function(e){this.setState({activeTabKey:e})}},{key:"renderSettingsFieldset",value:function(){var e=this,t=this.state.datasource;return g.a.createElement(ot,{title:Object(O.b)("Basic"),item:t,onChange:this.onDatasourceChange},this.state.isSqla&&g.a.createElement(nt,{fieldKey:"tableSelector",label:Object(O.b)("Physical Table"),control:g.a.createElement(Le.a,{dbId:t.database.id,schema:t.schema,tableName:t.datasource_name,onSchemaChange:function(t){return e.onDatasourcePropChange("schema",t)},onDbChange:function(t){return e.onDatasourcePropChange("database",t)},onTableChange:function(t){return e.onDatasourcePropChange("datasource_name",t)},sqlLabMode:!1,clearable:!1,handleError:this.props.addDangerToast}),descr:Object(O.b)("The pointer to a physical table. Keep in mind that the chart is associated to this Superset logical table, and this logical table points the physical table referenced here.")}),g.a.createElement(nt,{fieldKey:"description",label:Object(O.b)("Description"),control:g.a.createElement(Ve,{language:"markdown",offerEditInModal:!1})}),g.a.createElement(nt,{fieldKey:"default_endpoint",label:Object(O.b)("Default URL"),descr:Object(O.b)("Default URL to redirect to when accessing from the datasource list page"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"filter_select_enabled",label:Object(O.b)("Autocomplete filters"),descr:Object(O.b)("Whether to populate autocomplete filters options"),control:g.a.createElement(Y,null)}),this.state.isSqla&&g.a.createElement(nt,{fieldKey:"fetch_values_predicate",label:Object(O.b)("Autocomplete Query Predicate"),descr:Object(O.b)('When using "Autocomplete filters", this can be used to improve performance of the query fetching the values. Use this option to apply a predicate (WHERE clause) to the query selecting the distinct values from the table. Typically the intent would be to limit the scan by applying a relative time filter on a partitioned or indexed time-related field.'),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"owners",label:Object(O.b)("Owners"),descr:Object(O.b)("Owners of the datasource"),control:g.a.createElement(Xe,{dataEndpoint:"/users/api/read",multi:!0,mutator:function(e){return e.pks.map(function(t,n){return{value:t,label:"".concat(e.result[n].first_name," ").concat(e.result[n].last_name)}})}}),controlProps:{}}))}},{key:"renderAdvancedFieldset",value:function(){var e=this.state.datasource;return g.a.createElement(ot,{title:Object(O.b)("Advanced"),item:e,onChange:this.onDatasourceChange},this.state.isSqla&&g.a.createElement(nt,{fieldKey:"sql",label:Object(O.b)("SQL"),descr:Object(O.b)("When specifying SQL, the datasource acts as a view. Superset will use this statement as a subquery while grouping and filtering on the generated parent queries."),control:g.a.createElement(Ve,{language:"sql",offerEditInModal:!1})}),this.state.isDruid&&g.a.createElement(nt,{fieldKey:"json",label:Object(O.b)("JSON"),descr:g.a.createElement("div",null,Object(O.b)("The JSON metric or post aggregation definition.")),control:g.a.createElement(Ve,{language:"json",offerEditInModal:!1})}),g.a.createElement(nt,{fieldKey:"cache_timeout",label:Object(O.b)("Cache Timeout"),descr:Object(O.b)("The duration of time in seconds before the cache is invalidated"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"offset",label:Object(O.b)("Hours offset"),control:g.a.createElement(z.a,null)}),this.state.isSqla&&g.a.createElement(nt,{fieldKey:"template_params",label:Object(O.b)("Template parameters"),descr:Object(O.b)("A set of parameters that become available in the query using Jinja templating syntax"),control:g.a.createElement(z.a,null)}))}},{key:"renderSpatialTab",value:function(){var e=this.state.datasource,t=e.spatials,n=e.all_cols;return g.a.createElement(C.Tab,{title:g.a.createElement(bt,{collection:t,title:Object(O.b)("Spatial")}),eventKey:4},g.a.createElement(ct,{tableColumns:["name","config"],onChange:this.onDatasourcePropChange.bind(this,"spatials"),itemGenerator:function(){return{name:"<new spatial>",type:"<no type>",config:null}},collection:t,allowDeletes:!0,itemRenderers:{name:function(e,t){return g.a.createElement(dt.a,{canEdit:!0,title:e,onSaveTitle:t})},config:function(e,t){return g.a.createElement(Je,{value:e,onChange:t,choices:n})}}}))}},{key:"renderErrors",value:function(){return this.state.errors.length>0?g.a.createElement(C.Alert,{bsStyle:"danger"},this.state.errors.map(function(e){return g.a.createElement("div",{key:e},e)})):null}},{key:"renderMetricCollection",value:function(){return g.a.createElement(ct,{tableColumns:["metric_name","verbose_name","expression"],columnLabels:{metric_name:Object(O.b)("Metric"),verbose_name:Object(O.b)("Label"),expression:Object(O.b)("SQL Expression")},expandFieldset:g.a.createElement(yt,null,g.a.createElement(ot,null,g.a.createElement(nt,{fieldKey:"verbose_name",label:Object(O.b)("Label"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"description",label:Object(O.b)("Description"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{fieldKey:"d3format",label:Object(O.b)("D3 Format"),control:g.a.createElement(z.a,null)}),g.a.createElement(nt,{label:Object(O.b)("Warning Message"),fieldKey:"warning_text",description:Object(O.b)("Warning message to display in the metric selector"),control:g.a.createElement(z.a,null)}))),collection:this.state.datasource.metrics,allowAddItem:!0,onChange:this.onDatasourcePropChange.bind(this,"metrics"),itemGenerator:function(){return{metric_name:"<new metric>",verbose_name:"",expression:""}},itemRenderers:{metric_name:function(e,t){return g.a.createElement(dt.a,{canEdit:!0,title:e,onSaveTitle:t})},verbose_name:function(e,t){return g.a.createElement(dt.a,{canEdit:!0,title:e,onSaveTitle:t})},expression:function(e,t){return g.a.createElement(dt.a,{canEdit:!0,title:e,onSaveTitle:t,extraClasses:["datasource-sql-expression"],multiLine:!0})},description:function(e,t,n){return g.a.createElement(gt,{label:n,formElement:g.a.createElement(z.a,{value:e,onChange:t})})},d3format:function(e,t,n){return g.a.createElement(gt,{label:n,formElement:g.a.createElement(z.a,{value:e,onChange:t})})}},allowDeletes:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.datasource,r=t.activeTabKey;return g.a.createElement("div",{className:"Datasource"},this.renderErrors(),g.a.createElement(C.Tabs,{id:"table-tabs",onSelect:this.handleTabSelect,defaultActiveKey:r},g.a.createElement(C.Tab,{title:g.a.createElement(bt,{collection:n.metrics,title:Object(O.b)("Metrics")}),eventKey:1},1===r&&this.renderMetricCollection()),g.a.createElement(C.Tab,{title:g.a.createElement(bt,{collection:this.state.databaseColumns,title:Object(O.b)("Columns")}),eventKey:2},2===r&&g.a.createElement("div",null,g.a.createElement(vt,{columns:this.state.databaseColumns,onChange:function(t){return e.setColumns({databaseColumns:t})}}),g.a.createElement(Fe.a,{bsStyle:"primary",onClick:this.syncMetadata,className:"sync-from-source",disabled:!!n.sql,tooltip:n.sql?Object(O.b)("This option is not yet available for views"):null},Object(O.b)("Sync columns from source")),this.state.metadataLoading&&g.a.createElement(Ie.a,null))),g.a.createElement(C.Tab,{title:g.a.createElement(bt,{collection:this.state.calculatedColumns,title:Object(O.b)("Calculated Columns")}),eventKey:3},3===r&&g.a.createElement(vt,{columns:this.state.calculatedColumns,onChange:function(t){return e.setColumns({calculatedColumns:t})},editableColumnName:!0,showExpression:!0,allowAddItem:!0,allowEditDataType:!0,itemGenerator:function(){return{column_name:"<new column>",filterable:!0,groupby:!0,expression:"<enter SQL expression here>",__expanded:!0}}})),g.a.createElement(C.Tab,{eventKey:4,title:Object(O.b)("Settings")},4===r&&g.a.createElement("div",null,g.a.createElement("div",{className:"change-warning well"},g.a.createElement("span",{className:"bold"},Object(O.b)("Be careful.")," "),Object(O.b)("Changing these settings will affect all charts using this datasource, including charts owned by other people.")),g.a.createElement(C.Col,{md:6},g.a.createElement(yt,null,this.renderSettingsFieldset())),g.a.createElement(C.Col,{md:6},g.a.createElement(yt,null,this.renderAdvancedFieldset()))))))}}]),t}(g.a.PureComponent);Ct.defaultProps={onChange:function(){}},Ct.propTypes=Et;var xt=Object(Ge.a)(Ct),Ot={onChange:E.a.func,datasource:E.a.object.isRequired,show:E.a.bool.isRequired,onHide:E.a.func,onDatasourceSave:E.a.func,addSuccessToast:E.a.func.isRequired},wt=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={errors:[],datasource:e.datasource},n.setSearchRef=n.setSearchRef.bind(h()(n)),n.onDatasourceChange=n.onDatasourceChange.bind(h()(n)),n.onClickSave=n.onClickSave.bind(h()(n)),n.onConfirmSave=n.onConfirmSave.bind(h()(n)),n.setDialogRef=n.setDialogRef.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onClickSave",value:function(){this.dialog.show({title:Object(O.b)("Confirm save"),bsSize:"medium",actions:[De.a.CancelAction(),De.a.OKAction(this.onConfirmSave)],body:this.renderSaveDialog()})}},{key:"onConfirmSave",value:function(){var e=this;D.a.post({endpoint:"/datasource/save/",postPayload:{data:this.state.datasource}}).then(function(t){var n=t.json;e.props.addSuccessToast(Object(O.b)("The datasource has been saved")),e.props.onDatasourceSave(n),e.props.onHide()}).catch(function(t){return Object(Ae.a)(t).then(function(t){var n=t.error,r=t.statusText;e.dialog.show({title:"Error",bsSize:"medium",bsStyle:"danger",actions:[De.a.DefaultAction("Ok",function(){},"btn-danger")],body:n||r||Object(O.b)("An error has occurred")})})})}},{key:"onDatasourceChange",value:function(e,t){this.setState({datasource:e,errors:t})}},{key:"setSearchRef",value:function(e){this.searchRef=e}},{key:"setDialogRef",value:function(e){this.dialog=e}},{key:"renderSaveDialog",value:function(){return g.a.createElement("div",null,g.a.createElement(C.Alert,{bsStyle:"warning",className:"pointer",onClick:this.hideAlert},g.a.createElement("div",null,g.a.createElement("i",{className:"fa fa-exclamation-triangle"})," ",Object(O.b)("The data source configuration exposed here\n                affects all the charts using this datasource.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(O.b)("Are you sure you want to save and apply changes?"))}},{key:"render",value:function(){return g.a.createElement(C.Modal,{show:this.props.show,onHide:this.props.onHide,bsSize:"lg"},g.a.createElement(C.Modal.Header,{closeButton:!0},g.a.createElement(C.Modal.Title,null,g.a.createElement("div",null,g.a.createElement("span",{className:"float-left"},Object(O.b)("Datasource Editor for "),g.a.createElement("strong",null,this.props.datasource.name))))),g.a.createElement(C.Modal.Body,null,this.props.show&&g.a.createElement(xt,{datasource:this.props.datasource,onChange:this.onDatasourceChange})),g.a.createElement(C.Modal.Footer,null,g.a.createElement("span",{className:"float-left"},g.a.createElement(C.Button,{bsSize:"sm",bsStyle:"default",target:"_blank",href:this.props.datasource.edit_url},Object(O.b)("Use Legacy Datasource Editor"))),g.a.createElement("span",{className:"float-right"},g.a.createElement(C.Button,{bsSize:"sm",bsStyle:"primary",className:"m-r-5",onClick:this.onClickSave,disabled:this.state.errors.length>0},Object(O.b)("Save")),g.a.createElement(C.Button,{bsSize:"sm",onClick:this.props.onHide},Object(O.b)("Cancel")),g.a.createElement(De.a,{ref:this.setDialogRef}))))}}]),t}(g.a.PureComponent);wt.propTypes=Ot,wt.defaultProps={onChange:function(){},onHide:function(){},onDatasourceSave:function(){},show:!1};var St=Object(Ge.a)(wt),_t=n(157),kt={addDangerToast:E.a.func.isRequired,onChange:E.a.func,onDatasourceSave:E.a.func,onHide:E.a.func,show:E.a.bool.isRequired},Tt=["name","type","schema","connection","creator"],jt=["rawName","type","schema","connection","creator"],Pt=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={loading:!0,datasources:null},n.setSearchRef=n.setSearchRef.bind(h()(n)),n.onEnterModal=n.onEnterModal.bind(h()(n)),n.selectDatasource=n.selectDatasource.bind(h()(n)),n.changeSearch=n.changeSearch.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onEnterModal",value:function(){var e=this;this.searchRef&&this.searchRef.focus(),this.state.datasources||D.a.get({endpoint:"/superset/datasources/"}).then(function(t){var n=t.json.map(function(t){return{rawName:t.name,connection:t.connection,schema:t.schema,name:g.a.createElement("a",{href:"#",onClick:e.selectDatasource.bind(e,t),className:"datasource-link"},t.name),type:t.type}});e.setState({loading:!1,datasources:n})}).catch(function(t){e.setState({loading:!1}),Object(Ae.a)(t).then(function(t){var n=t.error;e.props.addDangerToast(n.error||n.statusText||n)})})}},{key:"setSearchRef",value:function(e){this.searchRef=e}},{key:"changeSearch",value:function(e){this.setState({filter:e.target.value})}},{key:"selectDatasource",value:function(e){var t=this;D.a.get({endpoint:"/datasource/get/".concat(e.type,"/").concat(e.id)}).then(function(n){var r=n.json;t.props.onDatasourceSave(r),t.props.onChange(e.uid)}).catch(function(e){Object(Ae.a)(e).then(function(e){var n=e.error,r=e.message,a=n?n.error||n.statusText||n:r;t.props.addDangerToast(a)})}),this.props.onHide()}},{key:"render",value:function(){var e=this,t=this.state,n=t.datasources,r=t.filter,a=t.loading,o=this.props,i=o.show,s=o.onHide;return g.a.createElement(C.Modal,{show:i,onHide:s,onEnter:this.onEnterModal,onExit:this.setSearchRef,bsSize:"lg"},g.a.createElement(C.Modal.Header,{closeButton:!0},g.a.createElement(C.Modal.Title,null,Object(O.b)("Select a datasource"))),g.a.createElement(C.Modal.Body,null,g.a.createElement("div",null,g.a.createElement(C.FormControl,{inputRef:function(t){e.setSearchRef(t)},type:"text",bsSize:"sm",value:r,placeholder:Object(O.b)("Search / Filter"),onChange:this.changeSearch})),a&&g.a.createElement(Ie.a,null),n&&g.a.createElement(_t.Table,{columns:Tt,className:"table table-condensed",data:n,itemsPerPage:20,filterable:jt,filterBy:r,hideFilterInput:!0})))}}]),t}(g.a.PureComponent);Pt.propTypes=kt,Pt.defaultProps={onChange:function(){},onDatasourceSave:function(){},onHide:function(){}};var Mt=Object(Ge.a)(Pt),Dt=n(155),At=(n(1993),{onChange:E.a.func,value:E.a.string,datasource:E.a.object.isRequired,onDatasourceSave:E.a.func}),Rt=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1,menuExpanded:!1},n.toggleChangeDatasourceModal=n.toggleChangeDatasourceModal.bind(h()(n)),n.toggleEditDatasourceModal=n.toggleEditDatasourceModal.bind(h()(n)),n.toggleShowDatasource=n.toggleShowDatasource.bind(h()(n)),n.renderDatasource=n.renderDatasource.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"toggleShowDatasource",value:function(){this.setState(function(e){return{showDatasource:!e.showDatasource}})}},{key:"toggleChangeDatasourceModal",value:function(){this.setState(function(e){return{showChangeDatasourceModal:!e.showChangeDatasourceModal}})}},{key:"toggleEditDatasourceModal",value:function(){this.setState(function(e){return{showEditDatasourceModal:!e.showEditDatasourceModal}})}},{key:"renderDatasource",value:function(){var e=this.props.datasource;return g.a.createElement("div",{className:"m-t-10"},g.a.createElement(C.Well,{className:"m-t-0"},g.a.createElement("div",{className:"m-b-10"},g.a.createElement(C.Label,null,g.a.createElement("i",{className:"fa fa-database"})," ",e.database.backend)," ".concat(e.database.name," ")),g.a.createElement(C.Row,{className:"datasource-container"},g.a.createElement(C.Col,{md:6},g.a.createElement("strong",null,"Columns"),e.columns.map(function(e){return g.a.createElement("div",{key:e.column_name},g.a.createElement(je.a,{showType:!0,column:e}))})),g.a.createElement(C.Col,{md:6},g.a.createElement("strong",null,"Metrics"),e.metrics.map(function(e){return g.a.createElement("div",{key:e.metric_name},g.a.createElement(Pe.a,{metric:e,showType:!0}))})))))}},{key:"render",value:function(){var e=this.state,t=e.showChangeDatasourceModal,n=e.showEditDatasourceModal,r=this.props,a=r.datasource,o=r.onChange,i=r.onDatasourceSave,s=r.value;return g.a.createElement("div",null,g.a.createElement(L.a,this.props),g.a.createElement("div",{className:"btn-group label-dropdown"},g.a.createElement(Dt.a,{label:"change-datasource",tooltip:Object(O.b)("Click to change the datasource")},g.a.createElement(C.DropdownButton,{title:a.name,className:"label label-default label-btn m-r-5",bsSize:"sm",id:"datasource_menu"},g.a.createElement(C.MenuItem,{eventKey:"3",onClick:this.toggleChangeDatasourceModal},Object(O.b)("Change Datasource")),"table"===a.type&&g.a.createElement(C.MenuItem,{eventKey:"3",href:"/superset/sqllab?datasourceKey=".concat(s),target:"_blank",rel:"noopener noreferrer"},Object(O.b)("Explore in SQL Lab")),g.a.createElement(C.MenuItem,{eventKey:"3",onClick:this.toggleEditDatasourceModal},Object(O.b)("Edit Datasource")))),g.a.createElement(C.OverlayTrigger,{placement:"right",overlay:g.a.createElement(C.Tooltip,{id:"toggle-datasource-tooltip"},Object(O.b)("Expand/collapse datasource configuration"))},g.a.createElement("a",{href:"#"},g.a.createElement("i",{className:"fa fa-".concat(this.state.showDatasource?"minus":"plus","-square m-r-5 m-l-5 m-t-4"),onClick:this.toggleShowDatasource})))),g.a.createElement(C.Collapse,{in:this.state.showDatasource},this.renderDatasource()),g.a.createElement(St,{datasource:a,show:n,onDatasourceSave:i,onHide:this.toggleEditDatasourceModal}),g.a.createElement(Mt,{onDatasourceSave:i,onHide:this.toggleChangeDatasourceModal,show:t,onChange:o}))}}]),t}(g.a.PureComponent);Rt.propTypes=At,Rt.defaultProps={onChange:function(){},onDatasourceSave:function(){},value:null};var Nt=Rt,Ft=n(1303),It=n(241),Lt=n.n(It),Bt=n(281),qt=E.a.shape({aggregate_name:E.a.string.isRequired}),Ht={aggregate:qt,showType:E.a.bool};function Ut(e){var t=e.aggregate,n=e.showType;return g.a.createElement("div",null,n&&g.a.createElement(Bt.a,{type:"aggregate"}),g.a.createElement("span",{className:"m-r-5 option-label"},t.aggregate_name))}Ut.propTypes=Ht;var Vt=E.a.shape({column_name:E.a.string.isRequired,type:E.a.string}),zt=E.a.shape({metric_name:E.a.string.isRequired,expression:E.a.string.isRequired}),Gt={option:E.a.oneOfType([Vt,zt,qt]).isRequired,addWarningToast:E.a.func.isRequired};function Wt(e){var t=e.option,n=e.addWarningToast;return t.metric_name?g.a.createElement(Pe.a,{metric:t,showType:!0}):t.column_name?g.a.createElement(je.a,{column:t,showType:!0}):t.aggregate_name?g.a.createElement(Ut,{aggregate:t,showType:!0}):(n("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}Wt.propTypes=Gt;var Kt=Object(Ge.a)(Wt),Yt=n(340),Qt=n.n(Yt),Xt=n(338),$t=n.n(Xt),Zt=(n(908),n(1053),n(48));function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var en={SIMPLE:"SIMPLE",SQL:"SQL"};function tn(e){if(e.sqlExpression&&Zt.k.test(e.sqlExpression)){var t=e.sqlExpression.indexOf(")"),n=e.sqlExpression.substring(0,t).lastIndexOf("(");if(t>0&&n>0)return e.sqlExpression.substring(n+1,t)}return null}function nn(e){if(e.sqlExpression&&Zt.k.test(e.sqlExpression)){var t=e.sqlExpression.indexOf("(");if(t>0)return e.sqlExpression.substring(0,t)}return null}var rn=function(){function e(t){if(i()(this,e),this.expressionType=t.expressionType||en.SIMPLE,this.expressionType===en.SIMPLE){var n=tn(t);this.column=t.column||n&&{column_name:n},this.aggregate=t.aggregate||nn(t),this.sqlExpression=null}else this.expressionType===en.SQL&&(this.sqlExpression=t.sqlExpression,this.column=null,this.aggregate=null);this.hasCustomLabel=!(!t.hasCustomLabel||!t.label),this.fromFormData=!!t.optionName,this.label=this.hasCustomLabel?t.label:this.getDefaultLabel(),this.optionName=t.optionName||"metric_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15))}return l()(e,[{key:"getDefaultLabel",value:function(){var e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}},{key:"translateToSql",value:function(){return this.expressionType===en.SIMPLE?"".concat(this.aggregate||"","(").concat(this.column&&this.column.column_name||"",")"):this.expressionType===en.SQL?this.sqlExpression:""}},{key:"duplicateWith",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this,{},t))}},{key:"equals",value:function(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}},{key:"isValid",value:function(){return this.expressionType===en.SIMPLE?!(!this.column||!this.aggregate):this.expressionType===en.SQL&&!!this.sqlExpression}},{key:"inferSqlExpressionAggregate",value:function(){return nn(this)}},{key:"inferSqlExpressionColumn",value:function(){return tn(this)}}]),e}(),an={adhocMetric:E.a.instanceOf(rn),onChange:E.a.func.isRequired},on=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onMouseOver=n.onMouseOver.bind(h()(n)),n.onMouseOut=n.onMouseOut.bind(h()(n)),n.onClick=n.onClick.bind(h()(n)),n.onBlur=n.onBlur.bind(h()(n)),n.state={isHovered:!1,isEditable:!1},n}return b()(t,e),l()(t,[{key:"onMouseOver",value:function(){this.setState({isHovered:!0})}},{key:"onMouseOut",value:function(){this.setState({isHovered:!1})}},{key:"onClick",value:function(){this.setState({isEditable:!0})}},{key:"onBlur",value:function(){this.setState({isEditable:!1})}},{key:"refFunc",value:function(e){e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.adhocMetric,n=e.onChange,r=g.a.createElement(C.Tooltip,{id:"edit-metric-label-tooltip"},"Click to edit label");return g.a.createElement(C.OverlayTrigger,{placement:"top",overlay:r,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur},this.state.isEditable?g.a.createElement(C.FormControl,{className:"metric-edit-popover-label-input",type:"text",placeholder:t.label,value:t.hasCustomLabel?t.label:"",onChange:n,inputRef:this.refFunc}):g.a.createElement("span",null,t.hasCustomLabel?t.label:"My Metric"," ",g.a.createElement("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}]),t}(g.a.Component);on.propTypes=an;var sn=n(680),ln=$t.a.acequire("ace/ext/language_tools"),un={adhocMetric:E.a.instanceOf(rn).isRequired,onChange:E.a.func.isRequired,onClose:E.a.func.isRequired,onResize:E.a.func.isRequired,columns:E.a.arrayOf(Vt),datasourceType:E.a.string},cn=300,dn=180,pn=function(e){function t(e){var n;if(i()(this,t),(n=c()(this,p()(t).call(this,e))).onSave=n.onSave.bind(h()(n)),n.onColumnChange=n.onColumnChange.bind(h()(n)),n.onAggregateChange=n.onAggregateChange.bind(h()(n)),n.onSqlExpressionChange=n.onSqlExpressionChange.bind(h()(n)),n.onLabelChange=n.onLabelChange.bind(h()(n)),n.onDragDown=n.onDragDown.bind(h()(n)),n.onMouseMove=n.onMouseMove.bind(h()(n)),n.onMouseUp=n.onMouseUp.bind(h()(n)),n.handleAceEditorRef=n.handleAceEditorRef.bind(h()(n)),n.refreshAceEditor=n.refreshAceEditor.bind(h()(n)),n.state={adhocMetric:n.props.adhocMetric,width:cn,height:dn},n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!0,selectWrap:F.a},ln){var r=sn.b.concat(n.props.columns.map(function(e){return{name:e.column_name,value:e.column_name,score:50,meta:"column"}})),a={getCompletions:function(e,t,n,a,o){o(null,r)}};ln.setCompleters([a])}return document.addEventListener("mouseup",n.onMouseUp),n}return b()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onSave",value:function(){this.props.onChange(this.state.adhocMetric),this.props.onClose()}},{key:"onColumnChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({column:e,expressionType:en.SIMPLE})})}},{key:"onAggregateChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({aggregate:e&&e.aggregate,expressionType:en.SIMPLE})})}},{key:"onSqlExpressionChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({sqlExpression:e,expressionType:en.SQL})})}},{key:"onLabelChange",value:function(e){this.setState({adhocMetric:this.state.adhocMetric.duplicateWith({label:e.target.value,hasCustomLabel:!0})})}},{key:"onDragDown",value:function(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),cn),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),dn)})}},{key:"onMouseUp",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"handleAceEditorRef",value:function(e){e&&(this.aceEditorRef=e)}},{key:"refreshAceEditor",value:function(){var e=this;setTimeout(function(){return e.aceEditorRef.editor.resize()},0)}},{key:"render",value:function(){var e=this.props,t=e.adhocMetric,n=e.columns,r=(e.onChange,e.onClose,e.onResize,e.datasourceType,Qt()(e,["adhocMetric","columns","onChange","onClose","onResize","datasourceType"])),o=this.state.adhocMetric,i={placeholder:Object(O.b)("%s column(s)",n.length),options:n,value:o.column&&o.column.column_name||o.inferSqlExpressionColumn(),onChange:this.onColumnChange,optionRenderer:Object(B.a)(function(e){return g.a.createElement(je.a,{column:e,showType:!0})}),valueRenderer:function(e){return e.column_name},valueKey:"column_name"},s={placeholder:Object(O.b)("%s aggregates(s)",Object.keys(Zt.a).length),options:Object.keys(Zt.a).map(function(e){return{aggregate:e}}),value:o.aggregate||o.inferSqlExpressionAggregate(),onChange:this.onAggregateChange,optionRenderer:Object(B.a)(function(e){return e.aggregate}),valueRenderer:function(e){return e.aggregate},valueKey:"aggregate"};"druid"===this.props.datasourceType&&(s.options=s.options.filter(function(e){return"AVG"!==e.aggregate}));var l=g.a.createElement(on,{adhocMetric:o,onChange:this.onLabelChange}),u=o.isValid(),c=!o.equals(t);return g.a.createElement(C.Popover,a()({id:"metrics-edit-popover",title:l},r),g.a.createElement(C.Tabs,{id:"adhoc-metric-edit-tabs",defaultActiveKey:o.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onSelect:this.refreshAceEditor,animation:!1},g.a.createElement(C.Tab,{className:"adhoc-metric-edit-tab",eventKey:en.SIMPLE,title:"Simple"},g.a.createElement(C.FormGroup,null,g.a.createElement(C.ControlLabel,null,g.a.createElement("strong",null,"column")),g.a.createElement(q.a,a()({},this.selectProps,i))),g.a.createElement(C.FormGroup,null,g.a.createElement(C.ControlLabel,null,g.a.createElement("strong",null,"aggregate")),g.a.createElement(q.a,a()({autoFocus:!0},this.selectProps,s)))),g.a.createElement(C.Tab,{className:"adhoc-metric-edit-tab",eventKey:en.SQL,title:"Custom SQL"},"druid"!==this.props.datasourceType?g.a.createElement(C.FormGroup,null,g.a.createElement(qe.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:this.state.height-43+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:o.sqlExpression||o.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):g.a.createElement("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),g.a.createElement("div",null,g.a.createElement(C.Button,{disabled:!u,bsStyle:c&&u?"primary":"default",bsSize:"small",className:"m-r-5",onClick:this.onSave},"Save"),g.a.createElement(C.Button,{bsSize:"small",onClick:this.props.onClose},"Close"),g.a.createElement("i",{onMouseDown:this.onDragDown,className:"glyphicon glyphicon-resize-full edit-popover-resize"})))}}]),t}(g.a.Component);pn.propTypes=un,pn.defaultProps={columns:[]};var fn={adhocMetric:E.a.instanceOf(rn),onMetricEdit:E.a.func.isRequired,columns:E.a.arrayOf(Vt),multi:E.a.bool,datasourceType:E.a.string},hn=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).closeMetricEditOverlay=n.closeMetricEditOverlay.bind(h()(n)),n.onOverlayEntered=n.onOverlayEntered.bind(h()(n)),n.onOverlayExited=n.onOverlayExited.bind(h()(n)),n.onPopoverResize=n.onPopoverResize.bind(h()(n)),n.state={overlayShown:!1},n}return b()(t,e),l()(t,[{key:"onPopoverResize",value:function(){this.forceUpdate()}},{key:"onOverlayEntered",value:function(){this.setState({overlayShown:!1})}},{key:"onOverlayExited",value:function(){this.setState({overlayShown:!1})}},{key:"closeMetricEditOverlay",value:function(){this.refs.overlay.hide()}},{key:"render",value:function(){var e=this.props.adhocMetric,t=g.a.createElement(pn,{onResize:this.onPopoverResize,adhocMetric:e,onChange:this.props.onMetricEdit,onClose:this.closeMetricEditOverlay,columns:this.props.columns,datasourceType:this.props.datasourceType});return g.a.createElement(C.OverlayTrigger,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:t,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:!e.fromFormData,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},g.a.createElement(C.Label,{style:{margin:this.props.multi?0:3,cursor:"pointer"}},g.a.createElement("div",{onMouseDownCapture:function(e){e.stopPropagation()}},g.a.createElement("span",{className:"m-r-5 option-label"},e.label,g.a.createElement("i",{className:"glyphicon glyphicon-triangle-".concat(this.state.overlayShown?"left":"right"," adhoc-label-arrow")})))))}}]),t}(g.a.PureComponent);hn.propTypes=fn;var mn=E.a.oneOfType([E.a.shape({expressionType:E.a.oneOf([en.SIMPLE]).isRequired,column:Vt.isRequired,aggregate:E.a.oneOf(Object.keys(Zt.a)).isRequired,label:E.a.string.isRequired}),E.a.shape({expressionType:E.a.oneOf([en.SQL]).isRequired,sqlExpression:E.a.string.isRequired,label:E.a.string.isRequired})]),bn={option:E.a.oneOfType([zt,mn]).isRequired,onMetricEdit:E.a.func,columns:E.a.arrayOf(Vt),multi:E.a.bool,datasourceType:E.a.string};function vn(e){var t=e.option,n=e.onMetricEdit,r=e.columns,a=e.multi,o=e.datasourceType;return t.metric_name?g.a.createElement(Pe.a,{metric:t}):t instanceof rn?g.a.createElement(hn,{adhocMetric:t,onMetricEdit:n,columns:r,multi:a,datasourceType:o}):null}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}vn.propTypes=bn;var En={name:E.a.string.isRequired,onChange:E.a.func,value:E.a.oneOfType([E.a.arrayOf(E.a.oneOfType([E.a.string,mn])),E.a.oneOfType([E.a.string,mn])]),columns:E.a.arrayOf(Vt),savedMetrics:E.a.arrayOf(zt),multi:E.a.bool,clearable:E.a.bool,datasourceType:E.a.string};function Cn(e){return e&&!(e instanceof rn)&&e.expressionType}function xn(e){return e?Array.isArray(e)?e.map(function(e){return Cn(e)?new rn(e):e}):Cn(e)?[new rn(e)]:[e]:[]}var On=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onChange=n.onChange.bind(h()(n)),n.onMetricEdit=n.onMetricEdit.bind(h()(n)),n.checkIfAggregateInInput=n.checkIfAggregateInInput.bind(h()(n)),n.optionsForSelect=n.optionsForSelect.bind(h()(n)),n.selectFilterOption=n.selectFilterOption.bind(h()(n)),n.isAutoGeneratedMetric=n.isAutoGeneratedMetric.bind(h()(n)),n.optionRenderer=Object(B.a)(function(e){return g.a.createElement(Kt,{option:e})},{ignoreAutogeneratedMetrics:!0}),n.valueRenderer=function(e){return g.a.createElement(vn,{option:e,onMetricEdit:n.onMetricEdit,columns:n.props.columns,multi:n.props.multi,datasourceType:n.props.datasourceType})},n.refFunc=function(e){e&&(n.select=e._selectRef)},n.state={aggregateInInput:null,options:n.optionsForSelect(n.props),value:xn(n.props.value)},n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.value;Lt()(this.props.columns,e.columns)&&Lt()(this.props.savedMetrics,e.savedMetrics)||(this.setState({options:this.optionsForSelect(e)}),function(e,t){var n=new Set([].concat(Ne()(t.columns||[]),Ne()(t.savedMetrics||[])).map(function(e){var t=e.column_name,n=e.metric_name;return t||n}));return(Array.isArray(e)?e:[e]).filter(function(e){return e}).map(function(e){return e.column?e.column.column_name:e.column_name||e}).filter(function(e){return e&&"string"==typeof e}).every(function(e){return n.has(e)})}(t,e)||this.props.onChange([]));t!==e.value&&this.setState({value:xn(e.value)})}},{key:"onMetricEdit",value:function(e){var t=this.state.value.map(function(t){return t.optionName===e.optionName?e:t});this.props.multi||(t=t[0]),this.props.onChange(t)}},{key:"onChange",value:function(e){var t=this;if(null!==e){var n=e;this.props.multi||(n=[e].filter(function(e){return e}));var r=n.map(function(e){if(e.metric_name)return e.metric_name;if(e.column_name){var n=t.clearedAggregateInInput;return t.clearedAggregateInInput=null,new rn({column:e,aggregate:n||(a=e,o=a.type,"string"!=typeof o?Zt.a.COUNT:""===o||"expression"===o?Zt.a.SUM:o.match(/.*char.*/i)||o.match(/string.*/i)||o.match(/.*text.*/i)?Zt.a.COUNT_DISTINCT:o.match(/.*int.*/i)||"LONG"===o||"DOUBLE"===o||"FLOAT"===o?Zt.a.SUM:o.match(/.*bool.*/i)?Zt.a.MAX:o.match(/.*time.*/i)?Zt.a.COUNT:o.match(/unknown/i)?Zt.a.COUNT:null)})}if(e instanceof rn)return e;if(e.aggregate_name){var r="".concat(e.aggregate_name,"()");return t.select.setInputValue(r),t.select.handleInputChange({target:{value:r}}),setTimeout(function(){t.select.input.input.selectionStart=r.length-1,t.select.input.input.selectionEnd=r.length-1},0),null}var a,o;return null}).filter(function(e){return e});this.props.multi||(r=r[0]),this.props.onChange(r)}else this.props.onChange(null)}},{key:"checkIfAggregateInInput",value:function(e){var t={aggregateInInput:null};Object.keys(Zt.a).forEach(function(n){e.toLowerCase().startsWith(n.toLowerCase()+"(")&&(t={aggregateInInput:n})}),this.clearedAggregateInInput=this.state.aggregateInInput,this.setState(t)}},{key:"optionsForSelect",value:function(e){var t=e.columns,n=e.savedMetrics,r=t&&t.length?Object.keys(Zt.a).map(function(e){return{aggregate_name:e}}):[];return[].concat(Ne()(t||[]),Ne()(r),Ne()(n||[])).reduce(function(e,t){return t.metric_name?e.push(yn({},t,{optionName:t.metric_name})):t.column_name?e.push(yn({},t,{optionName:"_col_"+t.column_name})):t.aggregate_name&&e.push(yn({},t,{optionName:"_aggregate_"+t.aggregate_name})),e},[])}},{key:"isAutoGeneratedMetric",value:function(e){return"druid"===this.props.datasourceType?Zt.i.test(e.verbose_name):Zt.j.test(e.metric_name)}},{key:"selectFilterOption",value:function(e,t){if(this.state.aggregateInInput){var n=t.length;t.endsWith(")")&&(n=t.length-1);var r=t.substring(t.indexOf("(")+1,n);return e.column_name&&e.column_name.toLowerCase().indexOf(r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(e.optionName.toLowerCase().indexOf(t)>=0||e.verbose_name&&e.verbose_name.toLowerCase().indexOf(t)>=0)}},{key:"render",value:function(){return g.a.createElement("div",{className:"metrics-select"},g.a.createElement(L.a,this.props),g.a.createElement(q.a,{multi:this.props.multi,name:"select-".concat(this.props.name),placeholder:Object(O.b)("choose a column or aggregate function"),options:this.state.options,value:this.props.multi?this.state.value:this.state.value[0],labelKey:"label",valueKey:"optionName",clearable:this.props.clearable,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,onInputChange:this.checkIfAggregateInInput,filterOption:this.selectFilterOption,refFunc:this.refFunc,selectWrap:F.a}))}}]),t}(g.a.PureComponent);On.propTypes=En,On.defaultProps={onChange:function(){},clearable:!0,savedMetrics:[],columns:[]};var wn={fixed:"fix",metric:"metric"},Sn={onChange:E.a.func,value:E.a.object,isFloat:E.a.bool,datasource:E.a.object.isRequired,default:E.a.shape({type:E.a.oneOf(["fix","metric"]),value:E.a.oneOfType([E.a.string,E.a.number])})},_n={onChange:function(){},default:{type:wn.fixed,value:5}},kn=function(e){function t(e){var n;i()(this,t),(n=c()(this,p()(t).call(this,e))).onChange=n.onChange.bind(h()(n)),n.setType=n.setType.bind(h()(n)),n.setFixedValue=n.setFixedValue.bind(h()(n)),n.setMetric=n.setMetric.bind(h()(n)),n.toggle=n.toggle.bind(h()(n));var r=(e.value?e.value.type:e.default.type)||wn.fixed,a=(e.value?e.value.value:e.default.value)||"100";return n.state={type:r,fixedValue:r===wn.fixed?a:"",metricValue:r===wn.metric?a:null},n}return b()(t,e),l()(t,[{key:"onChange",value:function(){this.props.onChange({type:this.state.type,value:this.state.type===wn.fixed?this.state.fixedValue:this.state.metricValue})}},{key:"setType",value:function(e){this.setState({type:e},this.onChange)}},{key:"setFixedValue",value:function(e){this.setState({fixedValue:e},this.onChange)}},{key:"setMetric",value:function(e){this.setState({metricValue:e},this.onChange)}},{key:"toggle",value:function(){var e=!this.state.expanded;this.setState({expanded:e})}},{key:"render",value:function(){var e=this,t=(this.props.value||this.props.default).type||wn.fixed,n=this.props.datasource?this.props.datasource.columns:null;return g.a.createElement("div",null,g.a.createElement(L.a,this.props),g.a.createElement(C.Label,{style:{cursor:"pointer"},onClick:this.toggle},this.state.type===wn.fixed&&g.a.createElement("span",null,this.state.fixedValue),this.state.type===wn.metric&&g.a.createElement("span",null,g.a.createElement("span",{style:{fontWeight:"normal"}},"metric: "),g.a.createElement("strong",null,this.state.metricValue?this.state.metricValue.label:null))),g.a.createElement(C.Panel,{className:"panel-spreaded",collapsible:!0,expanded:this.state.expanded},g.a.createElement("div",{className:"well"},g.a.createElement(X.a,{title:"Fixed",isSelected:t===wn.fixed,onSelect:function(){e.setType(wn.fixed)}},g.a.createElement(z.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:function(){e.setType(wn.fixed)},value:this.state.fixedValue})),g.a.createElement(X.a,{title:"Based on a metric",isSelected:t===wn.metric,onSelect:function(){e.setType(wn.metric)}},g.a.createElement(On,{name:"metric",columns:n,multi:!1,onFocus:function(){e.setType(wn.metric)},onChange:this.setMetric,value:this.state.metricValue})))))}}]),t}(g.a.Component);kn.propTypes=Sn,kn.defaultProps=_n;var Tn={onChange:E.a.func,value:E.a.oneOfType([E.a.string,E.a.number,E.a.object])};function jn(e){return g.a.createElement(C.FormControl,{type:"hidden",value:e.value})}jn.propTypes=Tn,jn.defaultProps={onChange:function(){}};var Pn=n(1881),Mn=n.n(Pn);n(2169),n(2005);function Dn(e){return g.a.createElement("span",{className:"BootstrapSliderWrapper"},g.a.createElement(Mn.a,e))}var An={onChange:E.a.func,value:E.a.oneOfType([E.a.string,E.a.number])};function Rn(e){return g.a.createElement("div",null,g.a.createElement(L.a,e),g.a.createElement(Dn,a()({},e,{change:function(t){e.onChange(t.target.value)}})))}Rn.propTypes=An,Rn.defaultProps={onChange:function(){}};var Nn={label:E.a.string,tooltip:E.a.string,colType:E.a.string,width:E.a.string,height:E.a.string,timeLag:E.a.string,timeRatio:E.a.string,comparisonType:E.a.string,showYAxis:E.a.bool,yAxisBounds:E.a.array,bounds:E.a.array,d3format:E.a.string,dateFormat:E.a.string,onChange:E.a.func},Fn={label:Object(O.b)("Time Series Columns"),tooltip:"",colType:"",width:"",height:"",timeLag:"",timeRatio:"",comparisonType:"",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:"",dateFormat:"",onChange:function(){}},In=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],Ln=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}],Bn=function(e){function t(e){var n;i()(this,t);var r={label:(n=c()(this,p()(t).call(this,e))).props.label,tooltip:n.props.tooltip,colType:n.props.colType,width:n.props.width,height:n.props.height,timeLag:n.props.timeLag||0,timeRatio:n.props.timeRatio,comparisonType:n.props.comparisonType,showYAxis:n.props.showYAxis,yAxisBounds:n.props.yAxisBounds,bounds:n.props.bounds,d3format:n.props.d3format,dateFormat:n.props.dateFormat};return delete r.onChange,n.state=r,n.onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"onSelectChange",value:function(e,t){this.setState(T()({},e,t.value),this.onChange)}},{key:"onTextInputChange",value:function(e,t){this.setState(T()({},e,t.target.value),this.onChange)}},{key:"onCheckboxChange",value:function(e,t){this.setState(T()({},e,t),this.onChange)}},{key:"onBoundsChange",value:function(e){this.setState({bounds:e},this.onChange)}},{key:"onYAxisBoundsChange",value:function(e){this.setState({yAxisBounds:e},this.onChange)}},{key:"setType",value:function(){}},{key:"textSummary",value:function(){return"".concat(this.state.label)}},{key:"edit",value:function(){}},{key:"formRow",value:function(e,t,n,r){return g.a.createElement(C.Row,{style:{marginTop:"5px"}},g.a.createElement(C.Col,{md:5},"".concat(e," "),g.a.createElement(_.a,{placement:"top",tooltip:t,label:n})),g.a.createElement(C.Col,{md:7},r))}},{key:"renderPopover",value:function(){return g.a.createElement(C.Popover,{id:"ts-col-popo",title:"Column Configuration"},g.a.createElement("div",{style:{width:300}},this.formRow("Label","The column header label","time-lag",g.a.createElement(C.FormControl,{value:this.state.label,onChange:this.onTextInputChange.bind(this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",g.a.createElement(C.FormControl,{value:this.state.tooltip,onChange:this.onTextInputChange.bind(this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",g.a.createElement(I.default,{value:this.state.colType,clearable:!1,onChange:this.onSelectChange.bind(this,"colType"),options:Ln})),g.a.createElement("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",g.a.createElement(C.FormControl,{value:this.state.width,onChange:this.onTextInputChange.bind(this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",g.a.createElement(C.FormControl,{value:this.state.height,onChange:this.onTextInputChange.bind(this,"height"),bsSize:"small",placeholder:"height"})),["time","avg"].indexOf(this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",g.a.createElement(C.FormControl,{value:this.state.timeLag,onChange:this.onTextInputChange.bind(this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),["spark"].indexOf(this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",g.a.createElement(C.FormControl,{value:this.state.timeRatio,onChange:this.onTextInputChange.bind(this,"timeRatio"),bsSize:"small",placeholder:"Time Ratio"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",g.a.createElement(I.default,{value:this.state.comparisonType,clearable:!1,onChange:this.onSelectChange.bind(this,"comparisonType"),options:In})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",g.a.createElement(Y,{value:this.state.showYAxis,onChange:this.onCheckboxChange.bind(this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",g.a.createElement(le,{value:this.state.yAxisBounds,onChange:this.onYAxisBoundsChange.bind(this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",g.a.createElement(le,{value:this.state.bounds,onChange:this.onBoundsChange.bind(this)})),this.formRow("Number format","Optional d3 number format string","d3-format",g.a.createElement(C.FormControl,{value:this.state.d3format,onChange:this.onTextInputChange.bind(this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",g.a.createElement(C.FormControl,{value:this.state.dateFormat,onChange:this.onTextInputChange.bind(this,"dateFormat"),bsSize:"small",placeholder:"Date format string"}))))}},{key:"render",value:function(){return g.a.createElement("span",null,this.textSummary()," ",g.a.createElement(C.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},g.a.createElement(_.a,{icon:"edit",className:"text-primary",onClick:this.edit.bind(this),label:"edit-ts-column"})))}}]),t}(g.a.Component);Bn.propTypes=Nn,Bn.defaultProps=Fn;var qn=n(681),Hn=n(1e3);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Vn={SIMPLE:"SIMPLE",SQL:"SQL"},zn={HAVING:"HAVING",WHERE:"WHERE"},Gn={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"like",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL"};function Wn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useSimple;if(e.expressionType===Vn.SIMPLE||t){var n=Zt.e.indexOf(e.operator)>=0,r=e.subject,a=Gn[e.operator],o=Array.isArray(e.comparator)?e.comparator.join("','"):e.comparator;return"".concat(r," ").concat(a," ").concat(n?"('":"").concat(o).concat(n?"')":"")}return e.expressionType===Vn.SQL?e.sqlExpression:""}var Kn=function(){function e(t){i()(this,e),this.expressionType=t.expressionType||Vn.SIMPLE,this.expressionType===Vn.SIMPLE?(this.subject=t.subject,this.operator=t.operator,this.comparator=t.comparator,this.clause=t.clause,this.sqlExpression=null):this.expressionType===Vn.SQL&&(this.sqlExpression="string"==typeof t.sqlExpression?t.sqlExpression:Wn(t,{useSimple:!0}),this.clause=t.clause,this.subject=null,this.operator=null,this.comparator=null),this.fromFormData=!!t.filterOptionName,this.filterOptionName=t.filterOptionName||"filter_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15))}return l()(e,[{key:"duplicateWith",value:function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this,{expressionType:this.expressionType,subject:this.subject,operator:this.operator,clause:this.clause,sqlExpression:this.sqlExpression,fromFormData:this.fromFormData,filterOptionName:this.filterOptionName},t))}},{key:"equals",value:function(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}},{key:"isValid",value:function(){return this.expressionType===Vn.SIMPLE?"IS NOT NULL"===this.operator||"IS NULL"===this.operator?!(!this.operator||!this.subject):!!(this.operator&&this.subject&&this.comparator&&this.comparator.length>0&&this.clause):this.expressionType===Vn.SQL&&!(!this.sqlExpression||!this.clause)}},{key:"getDefaultLabel",value:function(){var e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}},{key:"translateToSql",value:function(){return Wn(this)}}]),e}(),Yn=E.a.oneOfType([E.a.shape({expressionType:E.a.oneOf([Vn.SIMPLE]).isRequired,clause:E.a.oneOf([zn.HAVING,zn.WHERE]).isRequired,subject:E.a.string.isRequired,operator:E.a.oneOf(Object.keys(Zt.f)).isRequired,comparator:E.a.oneOfType([E.a.string,E.a.arrayOf(E.a.string)]).isRequired}),E.a.shape({expressionType:E.a.oneOf([Vn.SQL]).isRequired,clause:E.a.oneOf([zn.WHERE,zn.HAVING]).isRequired,sqlExpression:E.a.string.isRequired})]),Qn={adhocMetric:mn,showType:E.a.bool};function Xn(e){var t=e.adhocMetric,n=e.showType;return g.a.createElement("div",null,n&&g.a.createElement(Bt.a,{type:"expression"}),g.a.createElement("span",{className:"m-r-5 option-label"},t.label))}Xn.propTypes=Qn;var $n={option:E.a.oneOfType([Vt,E.a.shape({saved_metric_name:E.a.string.isRequired}),mn]).isRequired};function Zn(e){var t=e.option;return t.saved_metric_name?g.a.createElement("div",null,g.a.createElement(Bt.a,{type:"expression"}),g.a.createElement("span",{className:"m-r-5 option-label"},t.saved_metric_name)):t.column_name?g.a.createElement(je.a,{column:t,showType:!0}):t.label?g.a.createElement(Xn,{adhocMetric:t,showType:!0}):void 0}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Zn.propTypes=$n;var tr={adhocFilter:E.a.instanceOf(Kn).isRequired,onChange:E.a.func.isRequired,options:E.a.arrayOf(E.a.oneOfType([Vt,E.a.shape({saved_metric_name:E.a.string.isRequired}),mn])).isRequired,onHeightChange:E.a.func.isRequired,datasource:E.a.object};function nr(e){return e===Zt.f["=="]?"equals":e===Zt.f["!="]?"not equal to":e===Zt.f.LIKE?"like":e}var rr=30,ar=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onSubjectChange=n.onSubjectChange.bind(h()(n)),n.onOperatorChange=n.onOperatorChange.bind(h()(n)),n.onComparatorChange=n.onComparatorChange.bind(h()(n)),n.onInputComparatorChange=n.onInputComparatorChange.bind(h()(n)),n.isOperatorRelevant=n.isOperatorRelevant.bind(h()(n)),n.refreshComparatorSuggestions=n.refreshComparatorSuggestions.bind(h()(n)),n.multiComparatorRef=n.multiComparatorRef.bind(h()(n)),n.state={suggestions:[],multiComparatorHeight:rr,abortActiveRequest:null},n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1,selectWrap:F.a},n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshComparatorSuggestions()}},{key:"componentDidMount",value:function(){this.handleMultiComparatorInputHeightChange()}},{key:"componentDidUpdate",value:function(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions(),this.handleMultiComparatorInputHeightChange()}},{key:"onSubjectChange",value:function(e){var t,n;e&&e.column_name?(t=e.column_name,n=zn.WHERE):e&&(e.saved_metric_name||e.label)&&(t=e.saved_metric_name||e.label,n=zn.HAVING),this.props.onChange(this.props.adhocFilter.duplicateWith({subject:t,clause:n,expressionType:Vn.SIMPLE}))}},{key:"onOperatorChange",value:function(e){var t,n=this.props.adhocFilter.comparator;t=Zt.e.indexOf(e.operator)>=0?Array.isArray(n)?n:[n].filter(function(e){return e}):Array.isArray(n)?n[0]:n,this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e&&e.operator,comparator:t,expressionType:Vn.SIMPLE}))}},{key:"onInputComparatorChange",value:function(e){this.onComparatorChange(e.target.value)}},{key:"onComparatorChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Vn.SIMPLE}))}},{key:"handleMultiComparatorInputHeightChange",value:function(){if(this.multiComparatorComponent){var e=this.multiComparatorComponent._selectRef&&this.multiComparatorComponent._selectRef.select&&this.multiComparatorComponent._selectRef.select.control;e&&e.clientHeight!==this.state.multiComparatorHeight&&(this.props.onHeightChange(e.clientHeight-this.state.multiComparatorHeight),this.setState({multiComparatorHeight:e.clientHeight}))}}},{key:"refreshComparatorSuggestions",value:function(){var e=this,t=this.props.datasource,n=this.props.adhocFilter.subject,r=this.props.adhocFilter.clause===zn.HAVING;if(n&&t&&t.filter_select&&!r){this.state.abortActiveRequest&&this.state.abortActiveRequest();var a=new AbortController,o=a.signal;this.setState({abortActiveRequest:a.abort,loading:!0}),D.a.get({signal:o,endpoint:"/superset/filter/".concat(t.type,"/").concat(t.id,"/").concat(n,"/")}).then(function(t){var n=t.json;e.setState(function(){return{suggestions:n,abortActiveRequest:null,loading:!1}})})}}},{key:"isOperatorRelevant",value:function(e){return!("druid"===this.props.datasource.type&&Zt.g.indexOf(e)>=0||"table"===this.props.datasource.type&&Zt.b.indexOf(e)>=0||this.props.adhocFilter.clause===zn.HAVING&&-1===Zt.d.indexOf(e))}},{key:"focusComparator",value:function(e){e&&e.focus()}},{key:"multiComparatorRef",value:function(e){e&&(this.multiComparatorComponent=e)}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=e.options,r=e.datasource,o={value:t.subject?{value:t.subject}:void 0,onChange:this.onSubjectChange,optionRenderer:Object(B.a)(function(e){return g.a.createElement(Zn,{option:e})}),valueRenderer:function(e){return g.a.createElement("span",null,e.value)},valueKey:"filterOptionName",noResultsText:Object(O.b)("No such column found. To filter on a metric, try the Custom SQL tab.")};o="druid"===r.type?er({},o,{placeholder:Object(O.b)("%s column(s) and metric(s)",n.length),options:n}):er({},o,{placeholder:t.clause===zn.WHERE?Object(O.b)("%s column(s)",n.length):Object(O.b)("To filter on a metric, use Custom SQL tab."),options:n.filter(function(e){return e.column_name})});var i={placeholder:Object(O.b)("%s operators(s)",Object.keys(Zt.f).length),options:Object.keys(Zt.f).filter(this.isOperatorRelevant).map(function(e){return{operator:e}}),value:t.operator,onChange:this.onOperatorChange,optionRenderer:Object(B.a)(function(e){return nr(e.operator)}),valueRenderer:function(e){return g.a.createElement("span",null,nr(e.operator))},valueKey:"operator"};return g.a.createElement("span",null,g.a.createElement(C.FormGroup,{className:"adhoc-filter-simple-column-dropdown"},g.a.createElement(q.a,a()({},this.selectProps,o))),g.a.createElement(C.FormGroup,null,g.a.createElement(q.a,a()({},this.selectProps,i))),g.a.createElement(C.FormGroup,{"data-test":"adhoc-filter-simple-value"},Zt.e.indexOf(t.operator)>=0||this.state.suggestions.length>0?g.a.createElement(V,{multi:Zt.e.indexOf(t.operator)>=0,freeForm:!0,name:"filter-comparator-value",value:t.comparator,isLoading:this.state.loading,choices:this.state.suggestions,onChange:this.onComparatorChange,showHeader:!1,noResultsText:Object(O.b)("type a value here"),refFunc:this.multiComparatorRef,disabled:"IS NOT NULL"===t.operator||"IS NULL"===t.operator}):g.a.createElement("input",{ref:this.focusComparator,type:"text",onChange:this.onInputComparatorChange,value:t.comparator||"",className:"form-control input-sm",placeholder:Object(O.b)("Filter value"),disabled:"IS NOT NULL"===t.operator||"IS NULL"===t.operator})))}}]),t}(g.a.Component);ar.propTypes=tr,ar.defaultProps={datasource:{}};var or={adhocFilter:E.a.instanceOf(Kn).isRequired,onChange:E.a.func.isRequired,options:E.a.arrayOf(E.a.oneOfType([Vt,E.a.shape({saved_metric_name:E.a.string.isRequired}),mn])).isRequired,height:E.a.number.isRequired},ir=$t.a.acequire("ace/ext/language_tools"),sr=function(e){function t(e){var n;if(i()(this,t),(n=c()(this,p()(t).call(this,e))).onSqlExpressionChange=n.onSqlExpressionChange.bind(h()(n)),n.onSqlExpressionClauseChange=n.onSqlExpressionClauseChange.bind(h()(n)),n.handleAceEditorRef=n.handleAceEditorRef.bind(h()(n)),n.selectProps={multi:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1,selectWrap:F.a},ir){var r=sn.b.concat(n.props.options.map(function(e){return e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null})),a={getCompletions:function(e,t,n,a,o){o(null,r)}};ir.setCompleters([a])}return n}return b()(t,e),l()(t,[{key:"componentDidUpdate",value:function(){this.aceEditorRef.editor.resize()}},{key:"onSqlExpressionClauseChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e&&e.clause,expressionType:Vn.SQL}))}},{key:"onSqlExpressionChange",value:function(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Vn.SQL}))}},{key:"handleAceEditorRef",value:function(e){e&&(this.aceEditorRef=e)}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=e.height,r={placeholder:Object(O.b)("choose WHERE or HAVING..."),options:Object.keys(zn).map(function(e){return{clause:e}}),value:t.clause,onChange:this.onSqlExpressionClauseChange,optionRenderer:Object(B.a)(function(e){return e.clause}),valueRenderer:function(e){return g.a.createElement("span",null,e.clause)},valueKey:"clause"};return g.a.createElement("span",null,g.a.createElement(C.FormGroup,{className:"filter-edit-clause-section"},g.a.createElement(q.a,a()({},this.selectProps,r,{className:"filter-edit-clause-dropdown"})),g.a.createElement("span",{className:"filter-edit-clause-info"},g.a.createElement("strong",null,"Where")," filters by columns.",g.a.createElement("br",null),g.a.createElement("strong",null,"Having")," filters by metrics.")),g.a.createElement(C.FormGroup,null,g.a.createElement(qe.a,{ref:this.handleAceEditorRef,mode:"sql",theme:"github",height:n-100+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:t.sqlExpression||t.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}]),t}(g.a.Component);sr.propTypes=or;var lr={adhocFilter:E.a.instanceOf(Kn).isRequired,onChange:E.a.func.isRequired,onClose:E.a.func.isRequired,onResize:E.a.func.isRequired,options:E.a.arrayOf(E.a.oneOfType([Vt,E.a.shape({saved_metric_name:E.a.string.isRequired}),mn])).isRequired,datasource:E.a.object},ur=300,cr=190,dr=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).onSave=n.onSave.bind(h()(n)),n.onDragDown=n.onDragDown.bind(h()(n)),n.onMouseMove=n.onMouseMove.bind(h()(n)),n.onMouseUp=n.onMouseUp.bind(h()(n)),n.onAdhocFilterChange=n.onAdhocFilterChange.bind(h()(n)),n.adjustHeight=n.adjustHeight.bind(h()(n)),n.state={adhocFilter:n.props.adhocFilter,width:ur,height:cr},n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"onAdhocFilterChange",value:function(e){this.setState({adhocFilter:e})}},{key:"onSave",value:function(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}},{key:"onDragDown",value:function(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),ur),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),cr)})}},{key:"onMouseUp",value:function(){document.removeEventListener("mousemove",this.onMouseMove)}},{key:"adjustHeight",value:function(e){this.setState(function(t){return{height:t.height+e}})}},{key:"render",value:function(){var e=this.props,t=e.adhocFilter,n=(e.options,e.onChange,e.onClose,e.onResize,e.datasource,Qt()(e,["adhocFilter","options","onChange","onClose","onResize","datasource"])),r=this.state.adhocFilter,o=r.isValid(),i=!r.equals(t);return g.a.createElement(C.Popover,a()({id:"filter-edit-popover"},n),g.a.createElement(C.Tabs,{id:"adhoc-filter-edit-tabs",defaultActiveKey:r.expressionType,className:"adhoc-filter-edit-tabs",style:{height:this.state.height,width:this.state.width}},g.a.createElement(C.Tab,{className:"adhoc-filter-edit-tab",eventKey:Vn.SIMPLE,title:"Simple"},g.a.createElement(ar,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,datasource:this.props.datasource,onHeightChange:this.adjustHeight})),g.a.createElement(C.Tab,{className:"adhoc-filter-edit-tab",eventKey:Vn.SQL,title:"Custom SQL"},this.props.datasource&&"druid"===this.props.datasource.type?g.a.createElement("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):g.a.createElement(sr,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height}))),g.a.createElement("div",null,g.a.createElement(C.Button,{disabled:!o,bsStyle:i&&o?"primary":"default",bsSize:"small",className:"m-r-5",onClick:this.onSave},"Save"),g.a.createElement(C.Button,{bsSize:"small",onClick:this.props.onClose},"Close"),g.a.createElement("i",{onMouseDown:this.onDragDown,className:"glyphicon glyphicon-resize-full edit-popover-resize"})))}}]),t}(g.a.Component);dr.propTypes=lr;var pr={adhocFilter:E.a.instanceOf(Kn).isRequired,onFilterEdit:E.a.func.isRequired,options:E.a.arrayOf(E.a.oneOfType([Vt,E.a.shape({saved_metric_name:E.a.string.isRequired}),mn])).isRequired,datasource:E.a.object},fr=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).closeFilterEditOverlay=n.closeFilterEditOverlay.bind(h()(n)),n.onPopoverResize=n.onPopoverResize.bind(h()(n)),n.onOverlayEntered=n.onOverlayEntered.bind(h()(n)),n.onOverlayExited=n.onOverlayExited.bind(h()(n)),n.state={overlayShown:!1},n}return b()(t,e),l()(t,[{key:"onPopoverResize",value:function(){this.forceUpdate()}},{key:"onOverlayEntered",value:function(){this.setState({overlayShown:!0})}},{key:"onOverlayExited",value:function(){this.setState({overlayShown:!1})}},{key:"onMouseDown",value:function(e){e.stopPropagation()}},{key:"closeFilterEditOverlay",value:function(){this.refs.overlay.hide()}},{key:"render",value:function(){var e=this.props.adhocFilter,t=g.a.createElement(dr,{onResize:this.onPopoverResize,adhocFilter:e,onChange:this.props.onFilterEdit,onClose:this.closeFilterEditOverlay,options:this.props.options,datasource:this.props.datasource});return g.a.createElement(C.OverlayTrigger,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:t,rootClose:!0,shouldUpdatePosition:!0,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},g.a.createElement(C.Label,{className:"adhoc-filter-option"},g.a.createElement("div",{onMouseDownCapture:this.onMouseDown},g.a.createElement("span",{className:"m-r-5 option-label"},e.getDefaultLabel(),g.a.createElement("i",{className:"glyphicon glyphicon-triangle-".concat(this.state.overlayShown?"left":"right"," adhoc-label-arrow")})))))}}]),t}(g.a.PureComponent);function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}fr.propTypes=pr;var br={name:E.a.string,onChange:E.a.func,value:E.a.arrayOf(Yn),datasource:E.a.object,columns:E.a.arrayOf(Vt),savedMetrics:E.a.arrayOf(zt),formData:E.a.shape({metric:E.a.oneOfType([E.a.string,mn]),metrics:E.a.arrayOf(E.a.oneOfType([E.a.string,mn]))})};function vr(e){return e&&!(e instanceof Kn)&&e.expressionType}var gr=function(e){function t(e){var n;i()(this,t),(n=c()(this,p()(t).call(this,e))).optionsForSelect=n.optionsForSelect.bind(h()(n)),n.onFilterEdit=n.onFilterEdit.bind(h()(n)),n.onChange=n.onChange.bind(h()(n)),n.getMetricExpression=n.getMetricExpression.bind(h()(n));var r=(n.props.value||[]).map(function(e){return vr(e)?new Kn(e):e});return n.optionRenderer=Object(B.a)(function(e){return g.a.createElement(Zn,{option:e})}),n.valueRenderer=function(e){return g.a.createElement(fr,{adhocFilter:e,onFilterEdit:n.onFilterEdit,options:n.state.options,datasource:n.props.datasource})},n.state={values:r,options:n.optionsForSelect(n.props)},n}return b()(t,e),l()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value&&this.setState({values:(e.value||[]).map(function(e){return vr(e)?new Kn(e):e})})}},{key:"onFilterEdit",value:function(e){this.props.onChange(this.state.values.map(function(t){return t.filterOptionName===e.filterOptionName?e:t}))}},{key:"onChange",value:function(e){var t=this;this.props.onChange(e.map(function(e){return e.saved_metric_name?new Kn({expressionType:"druid"===t.props.datasource.type?Vn.SIMPLE:Vn.SQL,subject:"druid"===t.props.datasource.type?e.saved_metric_name:t.getMetricExpression(e.saved_metric_name),operator:Zt.f[">"],comparator:0,clause:zn.HAVING}):e.label?new Kn({expressionType:"druid"===t.props.datasource.type?Vn.SIMPLE:Vn.SQL,subject:"druid"===t.props.datasource.type?e.label:new rn(e).translateToSql(),operator:Zt.f[">"],comparator:0,clause:zn.HAVING}):e.column_name?new Kn({expressionType:Vn.SIMPLE,subject:e.column_name,operator:Zt.f["=="],comparator:"",clause:zn.WHERE}):e instanceof Kn?e:null}).filter(function(e){return e}))}},{key:"getMetricExpression",value:function(e){return this.props.savedMetrics.find(function(t){return t.metric_name===e}).expression}},{key:"optionsForSelect",value:function(e){return[].concat(Ne()(e.columns),Ne()([].concat(Ne()(e.formData.metrics||[]),[e.formData.metric]).map(function(e){return e&&("string"==typeof e?{saved_metric_name:e}:new rn(e))}))).filter(function(e){return e}).reduce(function(e,t){return t.saved_metric_name?e.push(mr({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(mr({},t,{filterOptionName:"_col_"+t.column_name})):t instanceof rn&&e.push(mr({},t,{filterOptionName:"_adhocmetric_"+t.label})),e},[]).sort(function(e,t){return(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label)})}},{key:"render",value:function(){return g.a.createElement("div",{className:"metrics-select"},g.a.createElement(L.a,this.props),g.a.createElement(q.a,{multi:!0,name:"select-".concat(this.props.name),placeholder:Object(O.b)("choose a column or metric"),options:this.state.options,value:this.state.values,labelKey:"label",valueKey:"filterOptionName",clearable:!0,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,selectWrap:F.a}))}}]),t}(g.a.Component);gr.propTypes=br,gr.defaultProps={name:"",onChange:function(){},columns:[],savedMetrics:[],formData:{}};var yr={marginTop:"5px",minHeight:"30px"},Er={textAlign:"right"},Cr={label:E.a.string.isRequired,tooltip:E.a.string,control:E.a.node.isRequired,isCheckbox:E.a.bool};function xr(e){var t=e.label,n=e.tooltip,r=e.control,a=e.isCheckbox,o=g.a.createElement("span",null,t," ",n&&g.a.createElement(_.a,{placement:"top",label:t,tooltip:n}));return a?g.a.createElement(C.Row,{style:yr},g.a.createElement(C.Col,{md:4,style:Er},r),g.a.createElement(C.Col,{md:8},o)):g.a.createElement(C.Row,{style:yr},g.a.createElement(C.Col,{md:4,style:Er},o),g.a.createElement(C.Col,{md:8},r))}xr.propTypes=Cr,xr.defaultProps={tooltip:null,isCheckbox:!1};var Or={datasource:E.a.object.isRequired,onChange:E.a.func,asc:E.a.bool,clearable:E.a.bool,multiple:E.a.bool,column:E.a.string,metric:E.a.string,defaultValue:E.a.string},wr={width:350},Sr=function(e){function t(e){var n;i()(this,t),n=c()(this,p()(t).call(this,e));var r={column:e.column,metric:e.metric,asc:e.asc,clearable:e.clearable,multiple:e.multiple,defaultValue:e.defaultValue};return n.state=r,n.onChange=n.onChange.bind(h()(n)),n.onControlChange=n.onControlChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(){this.props.onChange(this.state)}},{key:"onControlChange",value:function(e,t){this.setState(T()({},e,t),this.onChange)}},{key:"setType",value:function(){}},{key:"textSummary",value:function(){return this.state.column||"N/A"}},{key:"renderForm",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement(xr,{label:Object(O.b)("Column"),control:g.a.createElement(V,{value:this.state.column,name:"column",clearable:!1,options:this.props.datasource.columns.filter(function(t){return t!==e.state.column}).map(function(e){return{value:e.column_name,label:e.column_name}}).concat([{value:this.state.column,label:this.state.column}]),onChange:function(t){return e.onControlChange("column",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Label"),control:g.a.createElement(z.a,{value:this.state.label,name:"label",onChange:function(t){return e.onControlChange("label",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Default"),tooltip:Object(O.b)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:g.a.createElement(z.a,{value:this.state.defaultValue,name:"defaultValue",onChange:function(t){return e.onControlChange("defaultValue",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Sort Metric"),tooltip:Object(O.b)("Metric to sort the results by"),control:g.a.createElement(V,{value:this.state.metric,name:"column",options:this.props.datasource.metrics.filter(function(t){return t!==e.state.metric}).map(function(e){return{value:e.metric_name,label:e.metric_name}}).concat([{value:this.state.metric,label:this.state.metric}]),onChange:function(t){return e.onControlChange("metric",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Sort Ascending"),tooltip:Object(O.b)("Check for sorting ascending"),isCheckbox:!0,control:g.a.createElement(Y,{value:this.state.asc,onChange:function(t){return e.onControlChange("asc",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(O.b)("Multiple selections allowed, otherwise filter is limited to a single value"),control:g.a.createElement(Y,{value:this.state.multiple,onChange:function(t){return e.onControlChange("multiple",t)}})}),g.a.createElement(xr,{label:Object(O.b)("Required"),tooltip:Object(O.b)("User must select a value for this filter"),isCheckbox:!0,control:g.a.createElement(Y,{value:!this.state.clearable,onChange:function(t){return e.onControlChange("clearable",!t)}})}))}},{key:"renderPopover",value:function(){return g.a.createElement(C.Popover,{id:"ts-col-popo",title:Object(O.b)("Filter Configuration")},g.a.createElement("div",{style:wr},this.renderForm()))}},{key:"render",value:function(){return g.a.createElement("span",null,this.textSummary()," ",g.a.createElement(C.OverlayTrigger,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},g.a.createElement(_.a,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}]),t}(g.a.Component);function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kr(e,t,n){var r=function(r){function a(e){var t;return i()(this,a),(t=c()(this,p()(a).call(this,e))).state={validOptions:null,hasRunVerification:!1},t.getValidOptions=t.getValidOptions.bind(h()(t)),t}return b()(a,r),l()(a,[{key:"componentDidMount",value:function(){this.getValidOptions()}},{key:"componentDidUpdate",value:function(e){var t=this.state.hasRunVerification;Lt()(this.props.controlValues,e.controlValues)&&t||this.getValidOptions()}},{key:"getValidOptions",value:function(){var e=this,t=this.props.getEndpoint(this.props.controlValues);t&&(D.a.get({endpoint:t}).then(function(t){var n=t.json;Array.isArray(n)&&e.setState({validOptions:new Set(n)||new Set})}).catch(function(e){return console.log(e)}),this.state.hasRunVerification||this.setState({hasRunVerification:!0}))}},{key:"render",value:function(){var r=this.state.validOptions,a=this.props[n],o=r?a.filter(function(e){return r.has(e[t])}):a,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(n,!0).forEach(function(t){T()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props,T()({},n,o));return g.a.createElement(e,i)}}]),a}(g.a.Component);return r.propTypes=e.propTypes,r}Sr.propTypes=Or,Sr.defaultProps={onChange:function(){},asc:!0,clearable:!0,multiple:!0};var Tr={AnnotationLayerControl:ie,BoundsControl:le,CheckboxControl:Y,CollectionControl:ve,ColorMapControl:Ce,ColorPickerControl:ke,ColorSchemeControl:Te.a,DatasourceControl:Nt,DateFilterControl:Ft.a,FixedOrMetricControl:kn,HiddenControl:jn,SelectAsyncControl:Xe,SelectControl:V,SliderControl:Rn,SpatialControl:Je,TextAreaControl:Ve,TextControl:z.a,TimeSeriesColumnControl:Bn,ViewportControl:qn.b,VizTypeControl:Hn.a,MetricsControl:On,AdhocFilterControl:gr,FilterBoxItemControl:Sr,MetricsControlVerifiedOptions:kr(On,"metric_name","savedMetrics"),SelectControlVerifiedOptions:kr(V,"column_name","options"),AdhocFilterControlVerifiedOptions:kr(gr,"column_name","columns")};n.d(t,"a",function(){return Mr});var jr=Object.keys(Tr),Pr={actions:E.a.object.isRequired,name:E.a.string.isRequired,type:E.a.oneOf(jr).isRequired,hidden:E.a.bool,label:E.a.string.isRequired,choices:E.a.oneOfType([E.a.arrayOf(E.a.array),E.a.func]),description:E.a.string,tooltipOnClick:E.a.func,places:E.a.number,validationErrors:E.a.array,renderTrigger:E.a.bool,rightNode:E.a.node,formData:E.a.object,value:E.a.oneOfType([E.a.string,E.a.number,E.a.object,E.a.bool,E.a.array,E.a.func])},Mr=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={hovered:!1},n.onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"onChange",value:function(e,t){this.props.actions.setControlValue(this.props.name,e,t)}},{key:"setHover",value:function(e){this.setState({hovered:e})}},{key:"render",value:function(){var e=Tr[this.props.type],t=this.props.hidden?{display:"none"}:null;return g.a.createElement("div",{className:"Control","data-test":this.props.name,style:t,onMouseEnter:this.setHover.bind(this,!0),onMouseLeave:this.setHover.bind(this,!1)},g.a.createElement(e,a()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}]),t}(g.a.PureComponent);Mr.propTypes=Pr,Mr.defaultProps={renderTrigger:!1,hidden:!1,validationErrors:[]}},1337:function(e,t,n){var r=n(632);e.exports=function(e){return"function"==typeof e?e:r}},1338:function(e,t,n){var r=n(624),a=n(318),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1339:function(e,t,n){var r=n(590),a=n(871),o=n(541),i=n(631),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},1340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=i(n(1)),a=i(n(62)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1940));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,u=e.boxShadow,c=(0,a.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,i,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},1341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=u(o),s=u(n(591)),l=u(n(282));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)(function(e,t,n){e(t,n)},100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.PureComponent||o.Component),a(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}();return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},1342:function(e,t,n){"use strict";n.r(t),n.d(t,"red",function(){return r}),n.d(t,"pink",function(){return a}),n.d(t,"purple",function(){return o}),n.d(t,"deepPurple",function(){return i}),n.d(t,"indigo",function(){return s}),n.d(t,"blue",function(){return l}),n.d(t,"lightBlue",function(){return u}),n.d(t,"cyan",function(){return c}),n.d(t,"teal",function(){return d}),n.d(t,"green",function(){return p}),n.d(t,"lightGreen",function(){return f}),n.d(t,"lime",function(){return h}),n.d(t,"yellow",function(){return m}),n.d(t,"amber",function(){return b}),n.d(t,"orange",function(){return v}),n.d(t,"deepOrange",function(){return g}),n.d(t,"brown",function(){return y}),n.d(t,"grey",function(){return E}),n.d(t,"blueGrey",function(){return C}),n.d(t,"darkText",function(){return x}),n.d(t,"lightText",function(){return O}),n.d(t,"darkIcons",function(){return w}),n.d(t,"lightIcons",function(){return S}),n.d(t,"white",function(){return _}),n.d(t,"black",function(){return k});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},f={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},b={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},g={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},E={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},C={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},O={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},w={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},_="#ffffff",k="#000000";t.default={red:r,pink:a,purple:o,deepPurple:i,indigo:s,blue:l,lightBlue:u,cyan:c,teal:d,green:p,lightGreen:f,lime:h,yellow:m,amber:b,orange:v,deepOrange:g,brown:y,grey:E,blueGrey:C,darkText:x,lightText:O,darkIcons:w,lightIcons:S,white:_,black:k}},1343:function(e,t,n){},1344:function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function a(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){n=arguments[i],r=a(Object(n));for(var s=0;s<r.length;s++)o[r[s]]=n[r[s]]}return o}},1347:function(e,t,n){var r=n(382),a=n(1052),o=n(1338),i=n(1882),s=n(1916),l=n(1919),u=n(1327),c=n(1920),d=n(1921),p=n(629),f=n(1922),h=n(322),m=n(1923),b=n(1924),v=n(1929),g=n(88),y=n(317),E=n(1930),C=n(170),x=n(1932),O=n(283),w=1,S=2,_=4,k="[object Arguments]",T="[object Function]",j="[object GeneratorFunction]",P="[object Object]",M={};M[k]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[P]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[T]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,D,A,R,N){var F,I=n&w,L=n&S,B=n&_;if(D&&(F=R?D(t,A,R,N):D(t)),void 0!==F)return F;if(!C(t))return t;var q=g(t);if(q){if(F=m(t),!I)return u(t,F)}else{var H=h(t),U=H==T||H==j;if(y(t))return l(t,I);if(H==P||H==k||U&&!R){if(F=L||U?{}:v(t),!I)return L?d(t,s(F,t)):c(t,i(F,t))}else{if(!M[H])return R?t:{};F=b(t,H,I)}}N||(N=new r);var V=N.get(t);if(V)return V;N.set(t,F),x(t)?t.forEach(function(r){F.add(e(r,n,D,r,t,N))}):E(t)&&t.forEach(function(r,a){F.set(a,e(r,n,D,a,t,N))});var z=B?L?f:p:L?keysIn:O,G=q?void 0:z(t);return a(G||t,function(r,a){G&&(r=t[a=r]),o(F,a,e(r,n,D,a,t,N))}),F}},1348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(113)),a=c(n(4)),o=c(n(84)),i=c(n(5)),s=c(n(6)),l=c(n(1)),u=n(905);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),o=e.prompt,s=o.initialValue,l=o.placeholder;return n.state={value:s||"",initialValue:s,placeholder:l},n.inputElement=null,n.onSubmit=n.onSubmit.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({value:this.state.initialValue||""},function(){e.inputElement.select()})}},{key:"onSubmit",value:function(e){return e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(),!1}},{key:"render",value:function(){var e=this,t=this.props.prompt,n=this.state,r=n.value,a=n.placeholder,o=t instanceof u.PasswordPrompt?"password":"text";return l.default.createElement("form",{onSubmit:this.onSubmit},l.default.createElement("input",{ref:function(t){e.inputElement=t},type:o,className:"form-control",value:r,placeholder:a,onChange:function(t){return e.setState({value:t.target.value})},autoFocus:!0}))}},{key:"value",get:function(){return this.state.value}}]),t}(l.default.Component);t.default=d},1349:function(e,t,n){},1350:function(e,t,n){},1351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(338)),i=n(1),s=d(i),l=d(n(0)),u=d(n(906)),c=n(907);function d(e){return e&&e.__esModule?e:{default:e}}var p=o.default.acequire("ace/range").Range,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c.editorEvents.forEach(function(e){n[e]=n[e].bind(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,a=t.onValidate,i=t.mode,s=t.focus,l=t.theme,u=t.fontSize,d=t.value,p=t.defaultValue,f=t.cursorStart,h=t.showGutter,m=t.wrapEnabled,b=t.showPrintMargin,v=t.scrollMargin,g=void 0===v?[0,0,0,0]:v,y=t.keyboardHandler,E=t.onLoad,C=t.commands,x=t.annotations,O=t.markers;this.editor=o.default.edit(this.refEditor),r&&r(o.default);for(var w=Object.keys(this.props.editorProps),S=0;S<w.length;S++)this.editor[w[S]]=this.props.editorProps[w[S]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(g[0],g[1],g[2],g[3]),this.editor.getSession().setMode("ace/mode/"+i),this.editor.setTheme("ace/theme/"+l),this.editor.setFontSize(u),this.editor.getSession().setValue(p||d,f),this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(h),this.editor.getSession().setUseWrapMode(m),this.editor.setShowPrintMargin(b),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),a&&this.editor.getSession().on("changeAnnotation",function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(x||[]),O&&O.length>0&&this.handleMarkers(O);for(var _=this.editor.$options,k=0;k<c.editorOptions.length;k++){var T=c.editorOptions[k];_.hasOwnProperty(T)?this.editor.setOption(T,this.props[T]):this.props[T]&&console.warn("ReaceAce: editor option "+T+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}this.handleOptions(this.props),Array.isArray(C)&&C.forEach(function(t){"string"==typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)}),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refEditor.className+=" "+n),s&&this.editor.focus(),E&&E(this.editor),this.editor.resize()}},{key:"debounce",value:function(e,t){var n=null;return function(){var r=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,a)},t)}}},{key:"componentWillReceiveProps",value:function(e){for(var t=this.props,n=0;n<c.editorOptions.length;n++){var r=c.editorOptions[n];e[r]!==t[r]&&this.editor.setOption(r,e[r])}if(e.className!==t.className){var a=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach(function(e){var t=a.indexOf(e);a.splice(t,1)}),this.refEditor.className=" "+e.className+" "+a.join(" ")}if(e.mode!==t.mode&&this.editor.getSession().setMode("ace/mode/"+e.mode),e.theme!==t.theme&&this.editor.setTheme("ace/theme/"+e.theme),e.keyboardHandler!==t.keyboardHandler&&(e.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):this.editor.setKeyboardHandler(null)),e.fontSize!==t.fontSize&&this.editor.setFontSize(e.fontSize),e.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(e.showPrintMargin),e.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(e.showGutter),(0,u.default)(e.setOptions,t.setOptions)||this.handleOptions(e),(0,u.default)(e.annotations,t.annotations)||this.editor.getSession().setAnnotations(e.annotations||[]),!(0,u.default)(e.markers,t.markers)&&Array.isArray(e.markers)&&this.handleMarkers(e.markers),(0,u.default)(e.scrollMargin,t.scrollMargin)||this.handleScrollMargins(e.scrollMargin),this.editor&&this.editor.getValue()!==e.value){this.silent=!0;var o=this.editor.session.selection.toJSON();this.editor.setValue(e.value,e.cursorStart),this.editor.session.selection.fromJSON(o),this.silent=!1}e.focus&&!t.focus&&this.editor.focus()}},{key:"componentDidUpdate",value:function(e){e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"handleScrollMargins",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0];this.editor.renderer.setScrollMargins(e[0],e[1],e[2],e[3])}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])}},{key:"handleMarkers",value:function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var a in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(a)&&this.editor.getSession().removeMarker(n[a].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,a=e.endRow,o=e.endCol,i=e.className,s=e.type,l=e.inFront,u=void 0!==l&&l,c=new p(n,r,a,o);t.editor.getSession().addMarker(c,i,s,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,a=e.height,o=e.style,i=r({width:n,height:a},o);return s.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=f,f.propTypes={mode:l.default.string,focus:l.default.bool,theme:l.default.string,name:l.default.string,className:l.default.string,height:l.default.string,width:l.default.string,fontSize:l.default.oneOfType([l.default.number,l.default.string]),showGutter:l.default.bool,onChange:l.default.func,onCopy:l.default.func,onPaste:l.default.func,onFocus:l.default.func,onInput:l.default.func,onBlur:l.default.func,onScroll:l.default.func,value:l.default.string,defaultValue:l.default.string,onLoad:l.default.func,onSelectionChange:l.default.func,onCursorChange:l.default.func,onBeforeLoad:l.default.func,onValidate:l.default.func,minLines:l.default.number,maxLines:l.default.number,readOnly:l.default.bool,highlightActiveLine:l.default.bool,tabSize:l.default.number,showPrintMargin:l.default.bool,cursorStart:l.default.number,debounceChangePeriod:l.default.number,editorProps:l.default.object,setOptions:l.default.object,style:l.default.object,scrollMargin:l.default.array,annotations:l.default.array,markers:l.default.array,keyboardHandler:l.default.string,wrapEnabled:l.default.bool,enableBasicAutocompletion:l.default.oneOfType([l.default.bool,l.default.array]),enableLiveAutocompletion:l.default.oneOfType([l.default.bool,l.default.array]),commands:l.default.array},f.defaultProps={name:"brace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",value:"",fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(338),i=f(o),s=n(1),l=f(s),u=f(n(0)),c=f(n(906)),d=f(n(1353)),p=n(907);function f(e){return e&&e.__esModule?e:{default:e}}n(2006);var h=i.default.acequire("ace/range").Range,m=i.default.acequire("ace/split").Split,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.editorEvents.forEach(function(e){n[e]=n[e].bind(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,a=t.mode,s=t.focus,l=t.theme,u=t.fontSize,c=t.value,f=t.defaultValue,h=t.cursorStart,b=t.showGutter,v=t.wrapEnabled,g=t.showPrintMargin,y=t.scrollMargin,E=void 0===y?[0,0,0,0]:y,C=t.keyboardHandler,x=t.onLoad,O=t.commands,w=t.annotations,S=t.markers,_=t.splits;this.editor=i.default.edit(this.refEditor),r&&r(i.default);var k=Object.keys(this.props.editorProps),T=new m(this.editor.container,"ace/theme/"+l,_);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var j=this.splitEditor.$options;T.forEach(function(t,n){for(var r=0;r<k.length;r++)t[k[r]]=e.props.editorProps[k[r]];var i=(0,d.default)(f,n),s=(0,d.default)(c,n,"");t.session.setUndoManager(new o.UndoManager),t.setTheme("ace/theme/"+l),t.renderer.setScrollMargin(E[0],E[1],E[2],E[3]),t.getSession().setMode("ace/mode/"+a),t.setFontSize(u),t.renderer.setShowGutter(b),t.getSession().setUseWrapMode(v),t.setShowPrintMargin(g),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===i?s:i,h);var m=(0,d.default)(w,n,[]),y=(0,d.default)(S,n,[]);t.getSession().setAnnotations(m),y&&y.length>0&&e.handleMarkers(y,t);for(var x=0;x<p.editorOptions.length;x++){var _=p.editorOptions[x];j.hasOwnProperty(_)?t.setOption(_,e.props[_]):e.props[_]&&console.warn("ReaceAce: editor option "+_+" was activated but not found. Did you need to import a related tool or did you possibly mispell the option?")}e.handleOptions(e.props,t),Array.isArray(O)&&O.forEach(function(e){"string"==typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)}),C&&t.setKeyboardHandler("ace/keyboard/"+C)}),n&&(this.refEditor.className+=" "+n),s&&this.splitEditor.focus();var P=this.editor.env.split;P.setOrientation("below"===this.props.orientation?P.BELOW:P.BESIDE),P.resize(!0),x&&x(P)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,r=this.editor.env.split;if(e.splits!==n.splits&&r.setSplits(e.splits),e.orientation!==n.orientation&&r.setOrientation("below"===e.orientation?r.BELOW:r.BESIDE),r.forEach(function(r,a){e.mode!==n.mode&&r.getSession().setMode("ace/mode/"+e.mode),e.keyboardHandler!==n.keyboardHandler&&(e.keyboardHandler?r.setKeyboardHandler("ace/keyboard/"+e.keyboardHandler):r.setKeyboardHandler(null)),e.fontSize!==n.fontSize&&r.setFontSize(e.fontSize),e.wrapEnabled!==n.wrapEnabled&&r.getSession().setUseWrapMode(e.wrapEnabled),e.showPrintMargin!==n.showPrintMargin&&r.setShowPrintMargin(e.showPrintMargin),e.showGutter!==n.showGutter&&r.renderer.setShowGutter(e.showGutter);for(var o=0;o<p.editorOptions.length;o++){var i=p.editorOptions[o];e[i]!==n[i]&&r.setOption(i,e[i])}(0,c.default)(e.setOptions,n.setOptions)||t.handleOptions(e,r);var s=(0,d.default)(e.value,a,"");if(r.getValue()!==s){t.silent=!0;var l=r.session.selection.toJSON();r.setValue(s,e.cursorStart),r.session.selection.fromJSON(l),t.silent=!1}var u=(0,d.default)(e.annotations,a,[]),f=(0,d.default)(n.annotations,a,[]);(0,c.default)(u,f)||r.getSession().setAnnotations(u);var h=(0,d.default)(e.markers,a,[]),m=(0,d.default)(n.markers,a,[]);!(0,c.default)(h,m)&&Array.isArray(h)&&t.handleMarkers(h,r)}),e.className!==n.className){var a=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach(function(e){var t=a.indexOf(e);a.splice(t,1)}),this.refEditor.className=" "+e.className+" "+a.join(" ")}e.theme!==n.theme&&r.setTheme("ace/theme/"+e.theme),e.focus&&!n.focus&&this.splitEditor.focus(),e.height===this.props.height&&e.width===this.props.width||this.editor.resize()}},{key:"componentWillUnmount",value:function(){this.editor.destroy(),this.editor=null}},{key:"onChange",value:function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getValue())}),this.props.onChange(t,e)}}},{key:"onSelectionChange",value:function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getSelection())}),this.props.onSelectionChange(t,e)}}},{key:"onCursorChange",value:function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach(function(e){t.push(e.getSelection())}),this.props.onCursorChange(t,e)}}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:"onInput",value:function(e){this.props.onInput&&this.props.onInput(e)}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:"onCopy",value:function(e){this.props.onCopy&&this.props.onCopy(e)}},{key:"onPaste",value:function(e){this.props.onPaste&&this.props.onPaste(e)}},{key:"onScroll",value:function(){this.props.onScroll&&this.props.onScroll(this.editor)}},{key:"handleOptions",value:function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])}},{key:"handleMarkers",value:function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var a in n=t.getSession().getMarkers(!1))n.hasOwnProperty(a)&&t.getSession().removeMarker(n[a].id);e.forEach(function(e){var n=e.startRow,r=e.startCol,a=e.endRow,o=e.endCol,i=e.className,s=e.type,l=e.inFront,u=void 0!==l&&l,c=new h(n,r,a,o);t.getSession().addMarker(c,i,s,u)})}},{key:"updateRef",value:function(e){this.refEditor=e}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.width,a=e.height,o=e.style,i=r({width:n,height:a},o);return l.default.createElement("div",{ref:this.updateRef,id:t,style:i})}}]),t}();t.default=b,b.propTypes={mode:u.default.string,splits:u.default.number,orientation:u.default.string,focus:u.default.bool,theme:u.default.string,name:u.default.string,className:u.default.string,height:u.default.string,width:u.default.string,fontSize:u.default.oneOfType([u.default.number,u.default.string]),showGutter:u.default.bool,onChange:u.default.func,onCopy:u.default.func,onPaste:u.default.func,onFocus:u.default.func,onInput:u.default.func,onBlur:u.default.func,onScroll:u.default.func,value:u.default.arrayOf(u.default.string),defaultValue:u.default.arrayOf(u.default.string),onLoad:u.default.func,onSelectionChange:u.default.func,onCursorChange:u.default.func,onBeforeLoad:u.default.func,minLines:u.default.number,maxLines:u.default.number,readOnly:u.default.bool,highlightActiveLine:u.default.bool,tabSize:u.default.number,showPrintMargin:u.default.bool,cursorStart:u.default.number,editorProps:u.default.object,setOptions:u.default.object,style:u.default.object,scrollMargin:u.default.array,annotations:u.default.array,markers:u.default.array,keyboardHandler:u.default.string,wrapEnabled:u.default.bool,enableBasicAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),enableLiveAutocompletion:u.default.oneOfType([u.default.bool,u.default.array]),commands:u.default.array},b.defaultProps={name:"brace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}},1353:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",a=1/0,o="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,c=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,b=h||m||Function("return this")();var v,g=Array.prototype,y=Function.prototype,E=Object.prototype,C=b["__core-js_shared__"],x=(v=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",O=y.toString,w=E.hasOwnProperty,S=E.toString,_=RegExp("^"+O.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=b.Symbol,T=g.splice,j=q(b,"Map"),P=q(Object,"create"),M=k?k.prototype:void 0,D=M?M.toString:void 0;function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!=n&&r!=r)return a;return-1}function I(e,t){for(var n,r=0,a=(t=function(e,t){if(z(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||W(e))return!0;return u.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:z(n=t)?n:H(n)).length;null!=e&&r<a;)e=e[U(t[r++])];return r&&r==a?e:void 0}function L(e){return!(!G(e)||(t=e,x&&x in t))&&(function(e){var t=G(e)?S.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?_:f).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function B(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}A.prototype.clear=function(){this.__data__=P?P(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===r?void 0:n}return w.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:w.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?r:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=F(t,e);return!(n<0||(n==t.length-1?t.pop():T.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=F(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return F(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=F(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new A,map:new(j||R),string:new A}},N.prototype.delete=function(e){return B(this,e).delete(e)},N.prototype.get=function(e){return B(this,e).get(e)},N.prototype.has=function(e){return B(this,e).has(e)},N.prototype.set=function(e,t){return B(this,e).set(e,t),this};var H=V(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return D?D.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(d,function(e,t,r,a){n.push(r?a.replace(p,"$1"):t||e)}),n});function U(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function V(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i),i};return r.cache=new(V.Cache||N),r}V.Cache=N;var z=Array.isArray;function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&S.call(e)==s}e.exports=function(e,t,n){var r=null==e?void 0:I(e,t);return void 0===r?n:r}}).call(this,n(82))},1357:function(e,t,n){var r=n(171),a=n(88),o=n(141),i="[object String]";e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&r(e)==i}},155:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(300),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),u=n(9),c={label:l.a.string.isRequired,tooltip:l.a.node.isRequired,children:l.a.node.isRequired,placement:l.a.string};function d(e){var t=e.label,n=e.tooltip,r=e.children,o=e.placement;return i.a.createElement(u.OverlayTrigger,{placement:o,overlay:i.a.createElement(u.Tooltip,{id:"".concat(a()(t),"-tooltip")},n)},r)}d.propTypes=c,d.defaultProps={placement:"top"}},156:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(16),a=n.n(r),o=n(20),i=n.n(o),s=n(17),l=n.n(s),u=n(18),c=n.n(u),d=n(10),p=n.n(d),f=n(19),h=n.n(f),m=n(1),b=n.n(m),v=n(0),g=n.n(v),y=n(9),E=n(3),C=n.n(E),x=n(93),O={dialogClassName:g.a.string,animation:g.a.bool,triggerNode:g.a.node.isRequired,modalTitle:g.a.node,modalBody:g.a.node,modalFooter:g.a.node,beforeOpen:g.a.func,onExit:g.a.func,isButton:g.a.bool,isMenuItem:g.a.bool,bsSize:g.a.string,className:g.a.string,tooltip:g.a.string,backdrop:g.a.oneOf(["static",!0,!1])},w=function(e){function t(e){var n;return a()(this,t),(n=l()(this,c()(t).call(this,e))).state={showModal:!1},n.open=n.open.bind(p()(n)),n.close=n.close.bind(p()(n)),n}return h()(t,e),i()(t,[{key:"close",value:function(){this.setState(function(){return{showModal:!1}})}},{key:"open",value:function(e){e.preventDefault(),this.props.beforeOpen(),this.setState(function(){return{showModal:!0}})}},{key:"renderModal",value:function(){return b.a.createElement(y.Modal,{dialogClassName:this.props.dialogClassName,animation:this.props.animation,show:this.state.showModal,onHide:this.close,onExit:this.props.onExit,bsSize:this.props.bsSize,className:this.props.className,backdrop:this.props.backdrop},this.props.modalTitle&&b.a.createElement(y.Modal.Header,{closeButton:!0},b.a.createElement(y.Modal.Title,null,this.props.modalTitle)),b.a.createElement(y.Modal.Body,null,this.props.modalBody),this.props.modalFooter&&b.a.createElement(y.Modal.Footer,null,this.props.modalFooter))}},{key:"render",value:function(){var e=C()({"btn btn-default btn-sm":this.props.isButton});return this.props.isButton?b.a.createElement(b.a.Fragment,null,b.a.createElement(x.a,{className:"modal-trigger",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):this.props.isMenuItem?b.a.createElement(b.a.Fragment,null,b.a.createElement(y.MenuItem,{onClick:this.open},this.props.triggerNode),this.renderModal()):b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{className:e,onClick:this.open,role:"button"},this.props.triggerNode),this.renderModal())}}]),t}(b.a.Component);w.propTypes=O,w.defaultProps={animation:!0,beforeOpen:function(){},onExit:function(){},isButton:!1,isMenuItem:!1,bsSize:null,className:"",modalTitle:""}},164:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},182:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(45),a=n(79),o=n(58);function i(e){return Object(a.b)(null,function(e){return Object(r.b)({addInfoToast:o.d,addSuccessToast:o.e,addWarningToast:o.g,addDangerToast:o.c},e)})(e)}},186:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(11),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s);n(879);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c={size:l.a.number,position:l.a.oneOf(["floating","normal"]),className:l.a.string},d={padding:0,margin:0,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"};function p(e){var t=e.size,n=e.position,r=e.className,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},"floating"===n?d:{},{size:t});return i.a.createElement("img",{className:"loading ".concat(r),alt:"Loading...",src:"/static/assets/images/loading.gif",style:o})}p.propTypes=c,p.defaultProps={size:50,position:"floating",className:""}},1882:function(e,t,n){var r=n(869),a=n(283);e.exports=function(e,t){return e&&r(t,a(t),e)}},1884:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1909:function(e,t,n){},191:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return v}),n.d(t,"a",function(){return g});var r=n(11),a=n.n(r),o=n(270),i=n.n(o),s=n(581),l=n(226);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c=8e3;function d(e){var t=e.slice;return t?t.slice_id:0}var p=0;function f(){var e=0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(e=p%s.b.length,p+=1),s.b[e]}function h(e,t,n){if(null==e)return null;var r=n?"annotation_json":"slice_json";return i()(window.location.search).pathname("/superset/".concat(r,"/").concat(e)).search({form_data:Object(l.safeStringify)(t,function(e,t){return null===t?void 0:t})}).toString()}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base",n="/superset/explore/";return["json","csv","query","results","samples"].indexOf(t)>=0&&(n="/superset/explore_json/"),n}function b(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e.datasource)return null;var a=new i.a("/"),o=m(e,t),s=a.search(!0);Object.keys(r).forEach(function(e){s[e]=r[e]}),s.form_data=Object(l.safeStringify)(e),"standalone"===t&&(s.standalone="true");var u=a.directory(o).search(s).toString();return!n&&u.length>c?b({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null}):u}function v(e){var t=e.formData,n=e.endpointType,r=void 0===n?"base":n,o=e.force,s=void 0!==o&&o,c=e.curUrl,d=void 0===c?null:c,p=e.requestParams,h=void 0===p?{}:p,b=e.allowDomainSharding,v=void 0!==b&&b,g=e.method,y=void 0===g?"POST":g;if(!t.datasource)return null;var E=new i.a({protocol:location.protocol.slice(0,-1),hostname:f(v),port:location.port?location.port:"",path:"/"});d&&(E=i()(i()(d).search()));var C=m(t,r),x=E.search(!0),O=t.slice_id,w=t.extra_filters,S=t.adhoc_filters,_=t.viz_type;if(O){var k={slice_id:O};"GET"===y&&(k.viz_type=_,w&&w.length&&(k.extra_filters=w),S&&S.length&&(k.adhoc_filters=S)),x.form_data=Object(l.safeStringify)(k)}s&&(x.force="true"),"csv"===r&&(x.csv="true"),"standalone"===r&&(x.standalone="true"),"query"===r&&(x.query="true"),"results"===r&&(x.results="true"),"samples"===r&&(x.samples="true");var T=Object.keys(h);T.length&&T.forEach(function(e){h.hasOwnProperty(e)&&(x[e]=h[e])}),E=E.search(x).directory(C);var j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t);return{url:E.toString(),payload:j}}function g(e,t){var n=v({formData:e,endpointType:t,allowDomainSharding:!1}),r=n.url,a=n.payload,o=document.createElement("form");o.action=r,o.method="POST",o.target="_blank";var i=document.createElement("input");i.type="hidden",i.name="csrf_token",i.value=(document.getElementById("csrf_token")||{}).value,o.appendChild(i);var s=document.createElement("input");s.type="hidden",s.name="form_data",s.value=Object(l.safeStringify)(a),o.appendChild(s),document.body.appendChild(o),o.submit(),document.body.removeChild(o)}},1910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(1)),o=l(n(62)),i=n(126),s=l(n(1952));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,u=e.onChange,c=e.direction,d=e.style,p=e.renderers,f=e.pointer,h=e.className,m=void 0===h?"":h,b=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:d}}});return a.default.createElement("div",{style:b.picker,className:"alpha-picker "+m},a.default.createElement(i.Alpha,r({},b.alpha,{rgb:t,hsl:n,pointer:f,renderers:p,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(u)},1911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(1357)),a=s(n(1050)),o=s(n(339)),i=s(n(371));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,o.default)(t)?(0,a.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};t.default=l},1912:function(e,t,n){var r=n(1324),a=n(316);e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},1913:function(e,t,n){var r=n(316);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},1914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=i(n(1050)),a=i(n(1915)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map(function(t){var a=e[t];return a&&(0,r.default)(a,function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],a[t])}),t}),n};t.default=s},1915:function(e,t,n){var r=n(1347),a=1,o=4;e.exports=function(e){return r(e,a|o)}},1916:function(e,t,n){var r=n(869),a=n(1325);e.exports=function(e,t){return e&&r(t,a(t),e)}},1917:function(e,t,n){var r=n(170),a=n(380),o=n(1918),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},1918:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1919:function(e,t,n){(function(e){var r=n(83),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(167)(e))},1920:function(e,t,n){var r=n(869),a=n(541);e.exports=function(e,t){return r(e,a(e),t)}},1921:function(e,t,n){var r=n(869),a=n(1339);e.exports=function(e,t){return r(e,a(e),t)}},1922:function(e,t,n){var r=n(630),a=n(1339),o=n(1325);e.exports=function(e){return r(e,o,a)}},1923:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},1924:function(e,t,n){var r=n(1051),a=n(1925),o=n(1926),i=n(1927),s=n(1928),l="[object Boolean]",u="[object Date]",c="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",E="[object Int8Array]",C="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",_="[object Uint32Array]";e.exports=function(e,t,n){var k=e.constructor;switch(t){case b:return r(e);case l:case u:return new k(+e);case v:return a(e,n);case g:case y:case E:case C:case x:case O:case w:case S:case _:return s(e,n);case c:return new k;case d:case h:return new k(e);case p:return o(e);case f:return new k;case m:return i(e)}}},1925:function(e,t,n){var r=n(1051);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1926:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},1927:function(e,t,n){var r=n(227),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1928:function(e,t,n){var r=n(1051);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1929:function(e,t,n){var r=n(1328),a=n(871),o=n(380);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},1930:function(e,t,n){var r=n(1931),a=n(379),o=n(540),i=o&&o.isMap,s=i?a(i):r;e.exports=s},1931:function(e,t,n){var r=n(322),a=n(141),o="[object Map]";e.exports=function(e){return a(e)&&r(e)==o}},1932:function(e,t,n){var r=n(1933),a=n(379),o=n(540),i=o&&o.isSet,s=i?a(i):r;e.exports=s},1933:function(e,t,n){var r=n(322),a=n(141),o="[object Set]";e.exports=function(e){return a(e)&&r(e)==o}},1934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,a=n(1050),o=(r=a)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,function(e,n){var r={};(0,o.default)(e,function(e,t){var n=s[t];n?r=i({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=l},1935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return i.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},i.default.createElement(e,a({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default.Component),r}()};t.default=l},1936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return i.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},i.default.createElement(e,a({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default.Component),r}()};t.default=l},1937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},1938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=c(o),s=c(n(62)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1939)),u=c(n(1340));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.Alpha=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(u.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}]),t}();t.default=p},1939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var d=void 0;if(d=l<0?0:l>a?1:Math.round(100*l/a)/100,n.a!==d)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:d,source:"rgb"}}return null}},1940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,n,o){var i=e+"-"+t+"-"+n+(o?"-server":""),s=a(e,t,n,o);return r[i]?r[i]:(r[i]=s,s)}},1941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=s(a),i=s(n(62));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,a=Number(t.replace(/%/g,""));if(!isNaN(a)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a+o),e):n.props.onChange&&n.props.onChange(a+o,e),r?n.setState({value:a+o+"%"}):n.setState({value:a+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a-o),e):n.props.onChange&&n.props.onChange(a-o,e),r?n.setState({value:a-o+"%"}):n.setState({value:a-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent||a.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}();t.default=u},1942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=l(a),i=l(n(62)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1943));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.Hue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent||a.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}();t.default=c},1943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(u<0)c=359;else if(u>o)c=0;else{c=360*(-100*u/o+100)/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var d=void 0;if(l<0)d=0;else if(l>a)d=359;else{d=360*(100*l/a)/100}if(n.hsl.h!==d)return{h:d,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},1944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=i(n(1)),a=i(n(0)),o=i(n(62));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,a=e.background,i=e.children,s=(0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return r.default.createElement("div",{style:s.wrap},r.default.createElement("div",{style:s.bg}),r.default.createElement("div",{style:s.content},i))};s.propTypes={background:a.default.string,zDepth:a.default.oneOf([0,1,2,3,4,5]),radius:a.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},1945:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=u(a),i=u(n(62)),s=u(n(868)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1946));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)(function(e,t,n){e(t,n)},50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent||a.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,s=t.pointer,l=t.circle,u=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:a,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}();t.default=c},1946:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.getBoundingClientRect(),o=a.width,i=a.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>i&&(c=i);var d=100*u/o,p=-100*c/i+100;return{h:n.hsl.h,s:d,v:p,a:n.hsl.a,source:"rgb"}}},1947:function(e,t,n){e.exports=n(1948)},1948:function(e,t,n){var r=n(1052),a=n(1324),o=n(1337),i=n(88);e.exports=function(e,t){return(i(e)?r:a)(e,o(t))}},1949:function(e,t,n){var r;!function(a){var o=/^\s+/,i=/\s+$/,s=0,l=a.round,u=a.min,c=a.max,d=a.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,l=null,d=!1,p=!1;"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(i,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=V.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=V.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=V.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=V.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=V.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=V.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=V.hex8.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=V.hex6.exec(e))return{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:n?"name":"hex"};if(t=V.hex4.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=V.hex3.exec(e))return{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(z(e.r)&&z(e.g)&&z(e.b)?(f=e.r,h=e.g,m=e.b,t={r:255*A(f,255),g:255*A(h,255),b:255*A(m,255)},d=!0,p="%"===String(e.r).substr(-1)?"prgb":"rgb"):z(e.h)&&z(e.s)&&z(e.v)?(r=I(e.s),s=I(e.v),t=function(e,t,n){e=6*A(e,360),t=A(t,100),n=A(n,100);var r=a.floor(e),o=e-r,i=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,i,i,l,n][u],g:255*[l,n,n,s,i,i][u],b:255*[i,i,l,n,n,s][u]}}(e.h,r,s),d=!0,p="hsv"):z(e.h)&&z(e.s)&&z(e.l)&&(r=I(e.s),l=I(e.l),t=function(e,t,n){var r,a,o;function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=A(e,360),t=A(t,100),n=A(n,100),0===t)r=a=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=i(l,s,e+1/3),a=i(l,s,e),o=i(l,s,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,r,l),d=!0,p="hsl"),e.hasOwnProperty("a")&&(n=e.a));var f,h,m;return n=D(n),{ok:d,format:e.format||p,r:u(255,c(t.r,0)),g:u(255,c(t.g,0)),b:u(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function f(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,a,o=c(e,t,n),i=u(e,t,n),s=(o+i)/2;if(o==i)r=a=0;else{var l=o-i;switch(a=s>.5?l/(2-o-i):l/(o+i),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:s}}function h(e,t,n){e=A(e,255),t=A(t,255),n=A(n,255);var r,a,o=c(e,t,n),i=u(e,t,n),s=o,l=o-i;if(a=0===o?0:l/o,o==i)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:s}}function m(e,t,n,r){var a=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function b(e,t,n,r){return[F(L(r)),F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=R(n.s),p(n)}function g(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=R(n.s),p(n)}function y(e){return p(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=R(n.l),p(n)}function C(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),p(n)}function x(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=R(n.l),p(n)}function O(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function w(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function _(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),a=360/n,o=[p(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(p(r));return o}function j(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,a=n.s,o=n.v,i=[],s=1/t;t--;)i.push(p({h:r,s:a,v:o})),o=(o+s)%1;return i}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var o=[F(l(e).toString(16)),F(l(t).toString(16)),F(l(n).toString(16)),F(L(r))];if(a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*A(this._r,255))+"%",g:l(100*A(this._g,255))+"%",b:l(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*A(this._r,255))+"%, "+l(100*A(this._g,255))+"%, "+l(100*A(this._b,255))+"%)":"rgba("+l(100*A(this._r,255))+"%, "+l(100*A(this._g,255))+"%, "+l(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+b(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=p(e);n="#"+b(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:I(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),a=p(t).toRgb(),o=n/100;return p({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,a,o=p.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},p.mostReadable=function(e,t,n){var r,a,o,i,s=null,l=0;a=(n=n||{}).includeFallbackColors,o=n.level,i=n.size;for(var u=0;u<t.length;u++)(r=p.readability(e,t[u]))>l&&(l=r,s=p(t[u]));return p.isReadable(e,s,{level:o,size:i})||!a?s:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var P=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=p.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function A(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return u(1,c(0,e))}function N(e){return parseInt(e,16)}function F(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function L(e){return a.round(255*parseFloat(e)).toString(16)}function B(e){return N(e)/255}var q,H,U,V=(H="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",U="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+H),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+H),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+H),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function z(e){return!!V.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}(Math)},1950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(1)),o=l(n(62)),i=n(1951),s=n(126);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,l=void 0===i?function(){}:i,u=e.onHover,c=e.title,d=void 0===c?t:c,p=e.children,f=e.focus,h=e.focusStyle,m=void 0===h?{}:h,b="transparent"===t,v=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?m:{})}}),g={};return u&&(g.onMouseOver=function(e){return u(t,e)}),a.default.createElement("div",r({style:v.swatch,onClick:function(e){return l(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},g),p,b&&a.default.createElement(s.Checkboard,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(u)},1951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=(r=i)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s.default.Component),o(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,a({},this.props,this.state)))}}]),r}()}},1952:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=u(n(1)),a=u(n(0)),o=u(n(62)),i=u(n(282)),s=n(126),l=u(n(1954));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,u=e.colors,c=e.width,d=e.triangle,p=e.className,f=void 0===p?"":p,h="transparent"===a,m=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)({default:{card:{width:c,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===d});return r.default.createElement("div",{style:b.card,className:"block-picker "+f},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},h&&r.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},a)),r.default.createElement("div",{style:b.body},r.default.createElement(l.default,{colors:u,onClick:m,onSwatchHover:n}),r.default.createElement(s.EditableInput,{style:{input:b.input},value:a,onChange:m})))};c.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["top","hide"])},c.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(c)},1954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(371)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,a.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,function(e){return r.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:l.clear}))};t.default=l},1955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=c(n(1)),a=c(n(0)),o=c(n(62)),i=c(n(371)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1342)),l=n(126),u=c(n(1956));function c(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,a=e.onSwatchHover,s=e.colors,l=e.hex,c=e.circleSize,d=e.circleSpacing,p=e.className,f=void 0===p?"":p,h=(0,o.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}}),m=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:h.card,className:"circle-picker "+f},(0,i.default)(s,function(e){return r.default.createElement(u.default,{key:e,color:e,onClick:m,onSwatchHover:a,active:l===e.toLowerCase(),circleSize:c,circleSpacing:d})}))};d.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),circleSize:a.default.number,circleSpacing:a.default.number},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(d)},1956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(1)),a=n(62),o=s(a),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,a=e.onSwatchHover,s=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,d=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:d.swatch},r.default.createElement(i.Swatch,{style:d.Swatch,color:t,onClick:n,onHover:a,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(l)},1957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=c(n(1)),a=c(n(0)),o=c(n(62)),i=n(126),s=c(n(1958)),l=c(n(1959)),u=c(n(1960));function c(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,a=e.rgb,c=e.hsl,d=e.hsv,p=e.hex,f=e.renderers,h=e.className,m=void 0===h?"":h,b=(0,o.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+m},r.default.createElement("div",{style:b.saturation},r.default.createElement(i.Saturation,{style:b.Saturation,hsl:c,hsv:d,pointer:u.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(i.Checkboard,{renderers:f}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(i.Hue,{style:b.Hue,hsl:c,pointer:l.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(i.Alpha,{style:b.Alpha,rgb:a,hsl:c,pointer:l.default,renderers:f,onChange:t})))),r.default.createElement(s.default,{rgb:a,hsl:c,hex:p,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:a.default.bool},d.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(d)},1958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(62)),i=l(n(282)),s=n(126);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.ChromeFields=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,a.default.createElement("div",{style:t.toggle},a.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},a.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),a.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}();t.default=c},1959:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1961:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=d(n(1)),a=d(n(0)),o=d(n(62)),i=d(n(371)),s=d(n(282)),l=n(126),u=d(n(1962)),c=d(n(1963));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.colors,d=e.hex,p=e.rgb,f=e.className,h=void 0===f?"":f,m=(0,o.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),b=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(l.Raised,{style:m.Compact},r.default.createElement("div",{style:m.compact,className:"compact-picker "+h},r.default.createElement("div",null,(0,i.default)(a,function(e){return r.default.createElement(u.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:n})}),r.default.createElement("div",{style:m.clear})),r.default.createElement(c.default,{hex:d,rgb:p,onChange:b})))};p.propTypes={colors:a.default.arrayOf(a.default.string)},p.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,l.ColorWrap)(p)},1962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(282)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.active,c=(0,a.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{style:c.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=l},1963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=i(n(1)),a=i(n(62)),o=n(126);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,s=(0,a.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},1964:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=u(n(1)),a=u(n(0)),o=u(n(62)),i=u(n(371)),s=n(126),l=u(n(1965));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Github=function(e){var t=e.width,n=e.colors,a=e.onChange,s=e.onSwatchHover,u=e.triangle,c=e.className,d=void 0===c?"":c,p=(0,o.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u,"bottom-left-triangle":"bottom-left"==u,"bottom-right-triangle":"bottom-right"===u}),f=function(e,t){return a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:p.card,className:"github-picker "+d},r.default.createElement("div",{style:p.triangleShadow}),r.default.createElement("div",{style:p.triangle}),(0,i.default)(n,function(e){return r.default.createElement(l.default,{color:e,key:e,onClick:f,onSwatchHover:s})}))};c.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},c.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(c)},1965:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(1)),a=n(62),o=s(a),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,a=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(i.Swatch,{color:n,onClick:a,onHover:s,focusStyle:l}))};t.default=(0,a.handleHover)(l)},1966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(1)),o=l(n(62)),i=n(126),s=l(n(1967));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,l=e.hsl,u=e.direction,c=e.pointer,d=e.className,p=void 0===d?"":d,f=(0,o.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return a.default.createElement("div",{style:f.picker,className:"hue-picker "+p},a.default.createElement(i.Hue,r({},f.hue,{hsl:l,pointer:c,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:u})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(u)},1967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1968:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(282)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,l=e.className,u=void 0===l?"":l,c=(0,a.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),d=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},n)};return r.default.createElement(i.Raised,null,r.default.createElement("div",{style:c.material,className:"material-picker "+u},r.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:d}),r.default.createElement("div",{style:c.split,className:"flexbox-fix"},r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:s.r,onChange:d})),r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:s.g,onChange:d})),r.default.createElement("div",{style:c.third},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:s.b,onChange:d})))))};t.default=(0,i.ColorWrap)(l)},1969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(1)),o=f(n(0)),i=f(n(62)),s=n(126),l=f(n(1970)),u=f(n(1971)),c=f(n(1972)),d=f(n(1973)),p=f(n(1974));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return a.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},a.default.createElement("div",{style:n.head},this.props.header),a.default.createElement("div",{style:n.body,className:"flexbox-fix"},a.default.createElement("div",{style:n.saturation},a.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:u.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.hue},a.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:c.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.controls},a.default.createElement("div",{style:n.top,className:"flexbox-fix"},a.default.createElement("div",{style:n.previews},a.default.createElement(p.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.default.createElement("div",{style:n.actions},a.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),a.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),a.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}();h.propTypes={header:o.default.string},h.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(h)},1970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(282)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,u=(0,a.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},"°"),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=l},1971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=i},1972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,a.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=i},1973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,i=e.active,s=(0,a.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=i},1974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,a.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=i},1975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=u(n(1)),a=u(n(0)),o=u(n(62)),i=n(126),s=u(n(1976)),l=u(n(1977));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Sketch=function(e){var t=e.width,n=e.rgb,a=e.hex,u=e.hsv,c=e.hsl,d=e.onChange,p=e.onSwatchHover,f=e.disableAlpha,h=e.presetColors,m=e.renderers,b=e.className,v=void 0===b?"":b,g=(0,o.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:f});return r.default.createElement("div",{style:g.picker,className:"sketch-picker "+v},r.default.createElement("div",{style:g.saturation},r.default.createElement(i.Saturation,{style:g.Saturation,hsl:c,hsv:u,onChange:d})),r.default.createElement("div",{style:g.controls,className:"flexbox-fix"},r.default.createElement("div",{style:g.sliders},r.default.createElement("div",{style:g.hue},r.default.createElement(i.Hue,{style:g.Hue,hsl:c,onChange:d})),r.default.createElement("div",{style:g.alpha},r.default.createElement(i.Alpha,{style:g.Alpha,rgb:n,hsl:c,renderers:m,onChange:d}))),r.default.createElement("div",{style:g.color},r.default.createElement(i.Checkboard,null),r.default.createElement("div",{style:g.activeColor}))),r.default.createElement(s.default,{rgb:n,hsl:c,hex:a,onChange:d,disableAlpha:f}),r.default.createElement(l.default,{colors:h,onClick:d,onSwatchHover:p}))};c.propTypes={disableAlpha:a.default.bool,width:a.default.oneOfType([a.default.string,a.default.number])},c.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(c)},1976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(282)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,u=e.disableAlpha,c=(0,a.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),d=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:d})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:d,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(i.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=l},1977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(1)),o=l(n(0)),i=l(n(62)),s=n(126);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,u=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){o({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.default.createElement("div",{key:n,style:u.swatchWrap},a.default.createElement(s.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},1978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=l(n(1)),a=l(n(62)),o=n(126),i=l(n(1979)),s=l(n(1981));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,l=e.className,u=void 0===l?"":l,c=(0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return r.default.createElement("div",{className:"slider-picker "+u},r.default.createElement("div",{style:c.hue},r.default.createElement(o.Hue,{style:c.Hue,hsl:t,pointer:s,onChange:n})),r.default.createElement("div",{style:c.swatches},r.default.createElement(i.default,{hsl:t,onClick:n})))};u.defaultProps={pointer:s.default},t.default=(0,o.ColorWrap)(u)},1979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=i(n(1)),a=i(n(62)),o=i(n(1980));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,a.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:i.swatches},r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:i.clear}))};t.default=s},1980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,i=void 0===o?function(){}:o,s=e.active,l=e.first,u=e.last,c=(0,a.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=i},1981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),a=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,a.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=d(n(1)),a=d(n(0)),o=d(n(62)),i=d(n(371)),s=d(n(282)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1342)),u=n(126),c=d(n(1983));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,n=e.height,a=e.onChange,l=e.onSwatchHover,d=e.colors,p=e.hex,f=e.className,h=void 0===f?"":f,m=(0,o.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),b=function(e,t){s.default.isValidHex(e)&&a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:m.picker,className:"swatches-picker "+h},r.default.createElement(u.Raised,null,r.default.createElement("div",{style:m.overflow},r.default.createElement("div",{style:m.body},(0,i.default)(d,function(e){return r.default.createElement(c.default,{key:e.toString(),group:e,active:p,onClick:b,onSwatchHover:l})}),r.default.createElement("div",{style:m.clear})))))};p.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.arrayOf(a.default.string))},p.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],["#194D33",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,u.ColorWrap)(p)},1983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(371)),i=s(n(1984));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,u=(0,a.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,function(e,a){return r.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===a,last:a===s.length-1,onClick:t,onSwatchHover:n})}))};t.default=l},1984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=s(n(1)),a=s(n(62)),o=s(n(282)),i=n(126);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.first,c=e.last,d=e.active,p=(0,a.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:u,last:c,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{color:t,style:p.color,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:p.check},r.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},1985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=u(n(1)),a=u(n(0)),o=u(n(62)),i=u(n(371)),s=u(n(282)),l=n(126);function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,u=e.colors,c=e.width,d=e.triangle,p=e.className,f=void 0===p?"":p,h=(0,o.default)({default:{card:{width:c,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),m=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:h.card,className:"twitter-picker "+f},r.default.createElement("div",{style:h.triangleShadow}),r.default.createElement("div",{style:h.triangle}),r.default.createElement("div",{style:h.body},(0,i.default)(u,function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:m,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:h.hash},"#"),r.default.createElement(l.EditableInput,{style:{input:h.input},value:a.replace("#",""),onChange:m}),r.default.createElement("div",{style:h.clear})))};c.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),triangle:a.default.oneOf(["hide","top-left","top-right"]),colors:a.default.arrayOf(a.default.string)},c.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,l.ColorWrap)(c)},1986:function(e,t,n){},1987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,r=n.distance,a=n.shouldCancelStart;if(2===e.button||a(e))return!1;t._touched=!0,t._pos=(0,p.getPosition)(e);var o=(0,p.closest)(e.target,function(e){return null!=e.sortableInfo});if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var i=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(i&&!(0,p.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},(0,p.isTouchEvent)(e)||"a"!==e.target.tagName.toLowerCase()||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,r=n.distance,a=n.pressThreshold;if(!t.state.sorting&&t._touched){var o=(0,p.getPosition)(e),i=t._delta={x:t._pos.x-o.x,y:t._pos.y-o.y},s=Math.abs(i.x)+Math.abs(i.y);r||a&&!(a&&s>=a)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){t._touched=!1,t.cancel()},t.cancel=function(){var e=t.props.distance,n=t.state.sorting;n||(e||clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var r=t.props,a=r.axis,o=r.getHelperDimensions,i=r.helperClass,s=r.hideSortableGhost,l=r.onSortStart,u=r.useWindowAsScrollContainer,c=n.node,d=n.collection,f=c.sortableInfo.index,m=(0,p.getElementMargin)(c),b=t.container.getBoundingClientRect(),v=o({index:f,node:c,collection:d});t.node=c,t.margin=m,t.width=v.width,t.height=v.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=c.getBoundingClientRect(),t.containerBoundingRect=b,t.index=f,t.newIndex=f,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=(0,p.getEdgeOffset)(c,t.container),t.initialOffset=(0,p.getPosition)(e),t.initialScroll={top:t.container.scrollTop,left:t.container.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var g,y=c.querySelectorAll("input, textarea, select"),E=c.cloneNode(!0),C=[].concat(h(E.querySelectorAll("input, textarea, select")));if(C.forEach(function(e,t){"file"!==e.type&&y[t]&&(e.value=y[t].value)}),t.helper=t.document.body.appendChild(E),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-m.top+"px",t.helper.style.left=t.boundingClientRect.left-m.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",s&&(t.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(u?0:b.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(u?t.contentWindow.innerWidth:b.left+b.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(u?0:b.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(u?t.contentWindow.innerHeight:b.top+b.height)-t.boundingClientRect.top-t.height/2),i)(g=t.helper.classList).add.apply(g,h(i.split(" ")));t.listenerNode=e.touches?c:t.contentWindow,p.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),p.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:f}),l&&l({node:c,index:f,collection:d},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,r=n.hideSortableGhost,a=n.onSortEnd,o=t.manager.active.collection;t.listenerNode&&(p.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),p.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var i=t.manager.refs[o],s=0,l=i.length;s<l;s++){var u=i[s],c=u.node;u.edgeOffset=null,c.style[p.vendorPrefix+"Transform"]="",c.style[p.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof a&&a({oldIndex:t.index,newIndex:t.newIndex,collection:o},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},r={x:1,y:1},a={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,r.y=a.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,r.x=a.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,r.y=a.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,r.x=a.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*r.x*n.x,top:1*r.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new d.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,c.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),o(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:e.container;var a=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var o in e.events)a(o)})}},{key:"componentWillUnmount",value:function(){var e=this;if(this.container){var t=function(t){e.events.hasOwnProperty(t)&&p.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}}},{key:"getLockPixelOffsets",value:function(){var e=this.width,t=this.height,n=this.props.lockOffset,r=Array.isArray(n)?n:[n,n];(0,c.default)(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var o=a(r,2),i=o[0],s=o[1];return[(0,p.getLockPixelOffset)({lockOffset:i,width:e,height:t}),(0,p.getLockPixelOffset)({lockOffset:s,width:e,height:t})]}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockToContainerEdges,o=(0,p.getPosition)(e),i={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,r){var s=this.getLockPixelOffsets(),l=a(s,2),u=l[0],c=l[1],d={x:this.width/2-u.x,y:this.height/2-u.y},f={x:this.width/2-c.x,y:this.height/2-c.y};i.x=(0,p.limit)(this.minTranslate.x+d.x,this.maxTranslate.x-f.x,i.x),i.y=(0,p.limit)(this.minTranslate.y+d.y,this.maxTranslate.y-f.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style[p.vendorPrefix+"Transform"]="translate3d("+i.x+"px,"+i.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,a=this.manager.getOrderedRefs(),o={left:this.container.scrollLeft-this.initialScroll.left,top:this.container.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+o.left,top:this.offsetEdge.top+this.translate.y+o.top},s={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left},l=this.newIndex;this.newIndex=null;for(var u=0,c=a.length;u<c;u++){var d=a[u].node,f=d.sortableInfo.index,h=d.offsetWidth,m=d.offsetHeight,b={width:this.width>h?h/2:this.width/2,height:this.height>m?m/2:this.height/2},v={x:0,y:0},g=a[u].edgeOffset;g||(a[u].edgeOffset=g=(0,p.getEdgeOffset)(d,this.container));var y=u<a.length-1&&a[u+1],E=u>0&&a[u-1];y&&!y.edgeOffset&&(y.edgeOffset=(0,p.getEdgeOffset)(y.node,this.container)),f!==this.index?(t&&(d.style[p.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?f<this.index&&(i.left+s.left-b.width<=g.left&&i.top+s.top<=g.top+b.height||i.top+s.top+b.height<=g.top)?(v.x=this.width+this.marginOffset.x,g.left+v.x>this.containerBoundingRect.width-b.width&&(v.x=y.edgeOffset.left-g.left,v.y=y.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=f)):f>this.index&&(i.left+s.left+b.width>=g.left&&i.top+s.top+b.height>=g.top||i.top+s.top+b.height>=g.top+m)&&(v.x=-(this.width+this.marginOffset.x),g.left+v.x<this.containerBoundingRect.left+b.width&&(v.x=E.edgeOffset.left-g.left,v.y=E.edgeOffset.top-g.top),this.newIndex=f):f>this.index&&i.left+s.left+b.width>=g.left?(v.x=-(this.width+this.marginOffset.x),this.newIndex=f):f<this.index&&i.left+s.left<=g.left+b.width&&(v.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(f>this.index&&i.top+s.top+b.height>=g.top?(v.y=-(this.height+this.marginOffset.y),this.newIndex=f):f<this.index&&i.top+s.top<=g.top+b.height&&(v.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),d.style[p.vendorPrefix+"Transform"]="translate3d("+v.x+"px,"+v.y+"px,0)"):n&&(this.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index),r&&this.newIndex!==l&&r({newIndex:this.newIndex,oldIndex:l,index:this.index,collection:this.manager.active.collection})}},{key:"getWrappedInstance",value:function(){return(0,c.default)(f.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,u.findDOMNode)(this):e(f.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=f.withRef?"wrappedInstance":null;return s.default.createElement(e,r({ref:t},(0,p.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(i.Component),t.displayName=(0,p.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:l.default.oneOf(["x","y","xy"]),distance:l.default.number,lockAxis:l.default.string,helperClass:l.default.string,transitionDuration:l.default.number,contentWindow:l.default.any,onSortStart:l.default.func,onSortMove:l.default.func,onSortOver:l.default.func,onSortEnd:l.default.func,shouldCancelStart:l.default.func,pressDelay:l.default.number,useDragHandle:l.default.bool,useWindowAsScrollContainer:l.default.bool,hideSortableGhost:l.default.bool,lockToContainerEdges:l.default.bool,lockOffset:l.default.oneOfType([l.default.number,l.default.string,l.default.arrayOf(l.default.oneOfType([l.default.number,l.default.string]))]),getContainer:l.default.func,getHelperDimensions:l.default.func},t.childContextTypes={manager:l.default.object.isRequired},n};var i=n(1),s=f(i),l=f(n(0)),u=n(26),c=f(n(68)),d=f(n(1988)),p=n(870);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}},1988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={}}return r(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(o)}}]),e}();function o(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}t.default=a},1989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index;n||this.setDraggable(t,r)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,r=e.index;n?this.removeDraggable(t):this.setDraggable(t,r)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,l.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,u.default)(d.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=d.withRef?"wrappedInstance":null;return i.default.createElement(e,r({ref:t},(0,c.omit)(this.props,"collection","disabled","index")))}}]),n}(o.Component),t.displayName=(0,c.provideDisplayName)("sortableElement",e),t.contextTypes={manager:s.default.object.isRequired},t.propTypes={index:s.default.number.isRequired,collection:s.default.oneOfType([s.default.number,s.default.string]),disabled:s.default.bool},t.defaultProps={collection:0},n};var o=n(1),i=d(o),s=d(n(0)),l=n(26),u=d(n(68)),c=n(870);function d(e){return e&&e.__esModule?e:{default:e}}},1990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"componentDidMount",value:function(){var e=(0,s.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,l.default)(c.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=c.withRef?"wrappedInstance":null;return i.default.createElement(e,r({ref:t},this.props))}}]),n}(o.Component),t.displayName=(0,u.provideDisplayName)("sortableHandle",e),n};var o=n(1),i=c(o),s=n(26),l=c(n(68)),u=n(870);function c(e){return e&&e.__esModule?e:{default:e}}},1991:function(e,t,n){},1992:function(e,t,n){},1993:function(e,t,n){},1994:function(e,t,n){"use strict";var r=n(381),a=n(1995),o=n(1996),i="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)p(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var a=n in c;o(!a,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;if(i){var s=u.hasOwnProperty(n)?u[n]:null;return o("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;y.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function p(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(i)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==i){var u=n[s],p=r.hasOwnProperty(s);if(d(p,s),c.hasOwnProperty(s))c[s](e,u);else{var f=l.hasOwnProperty(s);if("function"!=typeof u||f||p||!1===n.autobind)if(p){var b=l[s];o(f&&("DEFINE_MANY_MERGED"===b||"DEFINE_MANY"===b),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",b,s),"DEFINE_MANY_MERGED"===b?r[s]=h(r[s],u):"DEFINE_MANY"===b&&(r[s]=m(r[s],u))}else r[s]=u;else a.push(s,u),r[s]=u}}}}function f(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var a={};return f(a,n),f(a,r),a}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function b(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},E=function(){};return r(E.prototype,e.prototype,y),function(e){var t=function(e,r,i){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],a=t[n+1];e[r]=b(e,a)}}(this),this.props=e,this.context=r,this.refs=a,this.updater=i||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new E,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(p.bind(null,t)),p(t,v),p(t,e),p(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},1995:function(e,t,n){"use strict";e.exports={}},1996:function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,o,i,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,o,i,s,l],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},1997:function(e,t,n){"use strict";var r=n(1),a=n(623)({viewComponents:{days:n(1998),months:n(1999),years:n(2e3),time:n(2001)},render:function(){return r.createElement(this.viewComponents[this.props.view],this.props.viewProps)}});e.exports=a},1998:function(e,t,n){"use strict";var r=n(1),a=n(623),o=n(12),i=a({render:function(){var e,t=this.renderFooter(),n=this.props.viewDate,a=n.localeData();return e=[r.createElement("thead",{key:"th"},[r.createElement("tr",{key:"h"},[r.createElement("th",{key:"p",className:"rdtPrev",onClick:this.props.subtractTime(1,"months")},r.createElement("span",{},"‹")),r.createElement("th",{key:"s",className:"rdtSwitch",onClick:this.props.showView("months"),colSpan:5,"data-value":this.props.viewDate.month()},a.months(n)+" "+n.year()),r.createElement("th",{key:"n",className:"rdtNext",onClick:this.props.addTime(1,"months")},r.createElement("span",{},"›"))]),r.createElement("tr",{key:"d"},this.getDaysOfWeek(a).map(function(e,t){return r.createElement("th",{key:e+t,className:"dow"},e)}))]),r.createElement("tbody",{key:"tb"},this.renderDays())],t&&e.push(t),r.createElement("div",{className:"rdtDays"},r.createElement("table",{},e))},getDaysOfWeek:function(e){var t=e._weekdaysMin,n=e.firstDayOfWeek(),r=[],a=0;return t.forEach(function(e){r[(7+a++-n)%7]=e}),r},renderDays:function(){var e,t,n,a,i=this.props.viewDate,s=this.props.selectedDate&&this.props.selectedDate.clone(),l=i.clone().subtract(1,"months"),u=i.year(),c=i.month(),d=[],p=[],f=this.props.renderDay||this.renderDay,h=this.props.isValidDate||this.alwaysValidDate;l.date(l.daysInMonth()).startOf("week");for(var m=l.clone().add(42,"d");l.isBefore(m);)e="rdtDay",a=l.clone(),l.year()===u&&l.month()<c||l.year()<u?e+=" rdtOld":(l.year()===u&&l.month()>c||l.year()>u)&&(e+=" rdtNew"),s&&l.isSame(s,"day")&&(e+=" rdtActive"),l.isSame(o(),"day")&&(e+=" rdtToday"),(t=!h(a,s))&&(e+=" rdtDisabled"),n={key:l.format("M_D"),"data-value":l.date(),className:e},t||(n.onClick=this.updateSelectedDate),p.push(f(n,a,s)),7===p.length&&(d.push(r.createElement("tr",{key:l.format("M_D")},p)),p=[]),l.add(1,"d");return d},updateSelectedDate:function(e){this.props.updateSelectedDate(e,!0)},renderDay:function(e,t){return r.createElement("td",e,t.date())},renderFooter:function(){if(!this.props.timeFormat)return"";var e=this.props.selectedDate||this.props.viewDate;return r.createElement("tfoot",{key:"tf"},r.createElement("tr",{},r.createElement("td",{onClick:this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))},alwaysValidDate:function(){return 1}});e.exports=i},1999:function(e,t,n){"use strict";var r=n(1),a=n(623)({render:function(){return r.createElement("div",{className:"rdtMonths"},[r.createElement("table",{key:"a"},r.createElement("thead",{},r.createElement("tr",{},[r.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(1,"years")},r.createElement("span",{},"‹")),r.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2,"data-value":this.props.viewDate.year()},this.props.viewDate.year()),r.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(1,"years")},r.createElement("span",{},"›"))]))),r.createElement("table",{key:"months"},r.createElement("tbody",{key:"b"},this.renderMonths()))])},renderMonths:function(){for(var e,t,n,a,o,i=this.props.selectedDate,s=this.props.viewDate.month(),l=this.props.viewDate.year(),u=[],c=0,d=[],p=this.props.renderMonth||this.renderMonth,f=this.props.isValidDate||this.alwaysValidDate;c<12;)e="rdtMonth",o=(n=this.props.viewDate.clone().set({year:l,month:c,date:1})).endOf("month").format("D"),(a=void 0===Array.from({length:o},function(e,t){return t+1}).find(function(e){var t=n.clone().set("date",e);return f(t)}))&&(e+=" rdtDisabled"),i&&c===i.month()&&l===i.year()&&(e+=" rdtActive"),t={key:c,"data-value":c,className:e},a||(t.onClick="months"===this.props.updateOn?this.updateSelectedMonth:this.props.setDate("month")),d.push(p(t,c,l,i&&i.clone())),4===d.length&&(u.push(r.createElement("tr",{key:s+"_"+u.length},d)),d=[]),c++;return u},updateSelectedMonth:function(e){this.props.updateSelectedDate(e)},renderMonth:function(e,t){var n,a=this.props.viewDate,o=a.localeData().monthsShort(a.month(t)).substring(0,3);return r.createElement("td",e,(n=o).charAt(0).toUpperCase()+n.slice(1))},alwaysValidDate:function(){return 1}});e.exports=a},2000:function(e,t,n){"use strict";var r=n(1),a=n(623)({render:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return r.createElement("div",{className:"rdtYears"},[r.createElement("table",{key:"a"},r.createElement("thead",{},r.createElement("tr",{},[r.createElement("th",{key:"prev",className:"rdtPrev",onClick:this.props.subtractTime(10,"years")},r.createElement("span",{},"‹")),r.createElement("th",{key:"year",className:"rdtSwitch",onClick:this.props.showView("years"),colSpan:2},e+"-"+(e+9)),r.createElement("th",{key:"next",className:"rdtNext",onClick:this.props.addTime(10,"years")},r.createElement("span",{},"›"))]))),r.createElement("table",{key:"years"},r.createElement("tbody",{},this.renderYears(e)))])},renderYears:function(e){var t,n,a,o,i,s=[],l=-1,u=[],c=this.props.renderYear||this.renderYear,d=this.props.selectedDate,p=this.props.isValidDate||this.alwaysValidDate;for(e--;l<11;)t="rdtYear",i=(a=this.props.viewDate.clone().set({year:e,month:0,date:1})).endOf("year").format("DDD"),(o=void 0===Array.from({length:i},function(e,t){return t+1}).find(function(e){var t=a.clone().dayOfYear(e);return p(t)}))&&(t+=" rdtDisabled"),d&&d.year()===e&&(t+=" rdtActive"),n={key:e,"data-value":e,className:t},o||(n.onClick="years"===this.props.updateOn?this.updateSelectedYear:this.props.setDate("year")),s.push(c(n,e,d&&d.clone())),4===s.length&&(u.push(r.createElement("tr",{key:l},s)),s=[]),e++,l++;return u},updateSelectedYear:function(e){this.props.updateSelectedDate(e)},renderYear:function(e,t){return r.createElement("td",e,t)},alwaysValidDate:function(){return 1}});e.exports=a},2001:function(e,t,n){"use strict";var r=n(1),a=n(623),o=n(1344),i=a({getInitialState:function(){return this.calculateState(this.props)},calculateState:function(e){var t=e.selectedDate||e.viewDate,n=e.timeFormat,r=[];-1!==n.toLowerCase().indexOf("h")&&(r.push("hours"),-1!==n.indexOf("m")&&(r.push("minutes"),-1!==n.indexOf("s")&&r.push("seconds")));var a=t.format("H"),o=!1;return null!==this.state&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&(o=-1!==this.props.timeFormat.indexOf(" A")?a>=12?"PM":"AM":a>=12?"pm":"am"),{hours:a,minutes:t.format("mm"),seconds:t.format("ss"),milliseconds:t.format("SSS"),daypart:o,counters:r}},renderCounter:function(e){if("daypart"!==e){var t=this.state[e];return"hours"===e&&-1!==this.props.timeFormat.toLowerCase().indexOf(" a")&&0===(t=(t-1)%12+1)&&(t=12),r.createElement("div",{key:e,className:"rdtCounter"},[r.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("increase",e),onContextMenu:this.disableContextMenu},"▲"),r.createElement("div",{key:"c",className:"rdtCount"},t),r.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("decrease",e),onContextMenu:this.disableContextMenu},"▼")])}return""},renderDayPart:function(){return r.createElement("div",{key:"dayPart",className:"rdtCounter"},[r.createElement("span",{key:"up",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▲"),r.createElement("div",{key:this.state.daypart,className:"rdtCount"},this.state.daypart),r.createElement("span",{key:"do",className:"rdtBtn",onMouseDown:this.onStartClicking("toggleDayPart","hours"),onContextMenu:this.disableContextMenu},"▼")])},render:function(){var e=this,t=[];return this.state.counters.forEach(function(n){t.length&&t.push(r.createElement("div",{key:"sep"+t.length,className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(n))}),!1!==this.state.daypart&&t.push(e.renderDayPart()),3===this.state.counters.length&&-1!==this.props.timeFormat.indexOf("S")&&(t.push(r.createElement("div",{className:"rdtCounterSeparator",key:"sep5"},":")),t.push(r.createElement("div",{className:"rdtCounter rdtMilli",key:"m"},r.createElement("input",{value:this.state.milliseconds,type:"text",onChange:this.updateMilli})))),r.createElement("div",{className:"rdtTime"},r.createElement("table",{},[this.renderHeader(),r.createElement("tbody",{key:"b"},r.createElement("tr",{},r.createElement("td",{},r.createElement("div",{className:"rdtCounters"},t))))]))},componentWillMount:function(){var e=this;e.timeConstraints={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},["hours","minutes","seconds","milliseconds"].forEach(function(t){o(e.timeConstraints[t],e.props.timeConstraints[t])}),this.setState(this.calculateState(this.props))},componentWillReceiveProps:function(e){this.setState(this.calculateState(e))},updateMilli:function(e){var t=parseInt(e.target.value,10);t===e.target.value&&t>=0&&t<1e3&&(this.props.setTime("milliseconds",t),this.setState({milliseconds:t}))},renderHeader:function(){if(!this.props.dateFormat)return null;var e=this.props.selectedDate||this.props.viewDate;return r.createElement("thead",{key:"h"},r.createElement("tr",{},r.createElement("th",{className:"rdtSwitch",colSpan:4,onClick:this.props.showView("days")},e.format(this.props.dateFormat))))},onStartClicking:function(e,t){var n=this;return function(){var r={};r[t]=n[e](t),n.setState(r),n.timer=setTimeout(function(){n.increaseTimer=setInterval(function(){r[t]=n[e](t),n.setState(r)},70)},500),n.mouseUpListener=function(){clearTimeout(n.timer),clearInterval(n.increaseTimer),n.props.setTime(t,n.state[t]),document.body.removeEventListener("mouseup",n.mouseUpListener),document.body.removeEventListener("touchend",n.mouseUpListener)},document.body.addEventListener("mouseup",n.mouseUpListener),document.body.addEventListener("touchend",n.mouseUpListener)}},disableContextMenu:function(e){return e.preventDefault(),!1},padValues:{hours:1,minutes:2,seconds:2,milliseconds:3},toggleDayPart:function(e){var t=parseInt(this.state[e],10)+12;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},increase:function(e){var t=parseInt(this.state[e],10)+this.timeConstraints[e].step;return t>this.timeConstraints[e].max&&(t=this.timeConstraints[e].min+(t-(this.timeConstraints[e].max+1))),this.pad(e,t)},decrease:function(e){var t=parseInt(this.state[e],10)-this.timeConstraints[e].step;return t<this.timeConstraints[e].min&&(t=this.timeConstraints[e].max+1-(this.timeConstraints[e].min-t)),this.pad(e,t)},pad:function(e,t){for(var n=t+"";n.length<this.padValues[e];)n="0"+n;return n}});e.exports=i},2002:function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",function(){return f});var r=n(1),a=n(26);function o(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var i=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}};var s,l,u=(void 0===s&&(s=0),function(){return++s}),c={},d={},p=["touchstart","touchmove"],f="ignore-react-onclickoutside";function h(e,t){var n=null;return-1!==p.indexOf(t)&&l&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,s;return s=n=function(n){var s,p;function f(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!d[t._uid]){void 0===l&&(l=i()),d[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),c[t._uid]=function(e){var n;t.props.disableOnClickOutside||null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(o(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,c[t._uid],h(t,e))})}},t.disableOnClickOutside=function(){delete d[t._uid];var e=c[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(n){return document.removeEventListener(n,e,h(t,n))}),delete c[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=u(),t}p=n,(s=f).prototype=Object.create(p.prototype),s.prototype.constructor=s,s.__proto__=p;var m=f.prototype;return m.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},m.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(a.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},m.componentDidUpdate=function(){this.componentNode=Object(a.findDOMNode)(this.getInstance())},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},f}(r.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},s}},2003:function(e,t,n){},2004:function(e,t,n){},2005:function(e,t,n){},201:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},2174:function(e,t,n){var r=n(910),a=n(862),o=n(911);e.exports=function(e){return r(e)||a(e)||o()}},224:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(56),a=n.n(r),o=n(11),i=n.n(o),s=n(1),l=n.n(s),u=n(0),c=n.n(u);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){function t(t){var n=t.focusedOption,r=t.focusOption,o=t.key,i=t.option,s=t.selectValue,u=t.style,c=t.valueArray;if(!i)return null;var d=["VirtualizedSelectOption"];i===n&&d.push("VirtualizedSelectFocusedOption"),i.disabled&&d.push("VirtualizedSelectDisabledOption"),c&&c.indexOf(i)>=0&&d.push("VirtualizedSelectSelectedOption"),i.className&&d.push(i.className);var f=i.disabled?{}:{onClick:function(){return s(i)},onMouseEnter:function(){return r(i)}};return l.a.createElement("div",a()({className:d.join(" "),key:o,style:p({},i.style||{},{},u),title:i.title,"data-test":i.optionName},f),e(i))}return t.propTypes={focusedOption:c.a.object.isRequired,focusOption:c.a.func.isRequired,key:c.a.string,option:c.a.object,selectValue:c.a.func.isRequired,style:c.a.object,valueArray:c.a.array},t}},225:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r=n(56),a=n.n(r),o=n(11),i=n.n(o),s=n(16),l=n.n(s),u=n(20),c=n.n(u),d=n(17),p=n.n(d),f=n(18),h=n.n(f),m=n(19),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=n(144),x=function(e){function t(){return l()(this,t),p()(this,h()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"onPaste",value:function(e){var t=this;if(this.props.multi){e.preventDefault();var n=e.clipboardData.getData("Text");if(n){var r="[".concat(this.props.separator,"]+"),a=n.split(new RegExp(r)).map(function(e){return e.trim()}),o=this.props.isValidNewOption,s=this.props.value||[],l={},u={};this.props.options.forEach(function(e){l[e[t.props.valueKey]]=1});var c=[];s.forEach(function(e){var n;c.push((n={},i()(n,t.props.labelKey,e),i()(n,t.props.valueKey,e),n)),u[e]=1}),(c=c.concat(a.filter(function(e){var n=!u[e];return u[e]=1,n&&(o?o(i()({},t.props.labelKey,e)):!!e)}).map(function(e){var n,r=(n={},i()(n,t.props.labelKey,e),i()(n,t.props.valueKey,e),n);return l[e]||t.props.options.unshift(r),r}))).length&&this.props.onChange&&this.props.onChange(c)}}}},{key:"render",value:function(){var e=this,t=this.props.selectWrap,n={onPaste:this.onPaste.bind(this)};return g.a.createElement(t,a()({},this.props,{ref:function(t){e.props.refFunc&&e.props.refFunc(t),e.pasteInput=t},inputProps:n}))}}]),t}(g.a.Component);x.propTypes={separator:E.a.array.isRequired,selectWrap:E.a.func.isRequired,refFunc:E.a.func,onChange:E.a.func.isRequired,valueKey:E.a.string.isRequired,labelKey:E.a.string.isRequired,options:E.a.array,multi:E.a.bool.isRequired,value:E.a.any,isValidNewOption:E.a.func,noResultsText:E.a.string},x.defaultProps={separator:[",","\n","\t"],selectWrap:C.default,valueKey:"value",labelKey:"label",options:[],multi:!1}},226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeStringify=function(e){var t=new Set;return JSON.stringify(e,function(e,n){if("object"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(JSON.stringify(n))}catch(e){return}t.add(n)}return n})}},2367:function(e,t,n){},2368:function(e,t,n){},241:function(e,t,n){var r=n(373);e.exports=function(e,t){return r(e,t)}},243:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(2174),a=n.n(r);function o(e){var t=e.chartId,n=e.column;return"".concat(t,"_").concat(n)}function i(e){var t=e.split("_"),n=a()(t),r=n[0],o=n.slice(1).slice().join("_");return{chartId:parseInt(r,10),column:o}}},244:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(80),l={title:i.a.string.isRequired,isSelected:i.a.bool.isRequired,onSelect:i.a.func.isRequired,info:i.a.string,children:i.a.node.isRequired};function u(e){var t=e.title,n=e.isSelected,r=e.children,o=e.onSelect,i=e.info;return a.a.createElement("div",{className:"PopoverSection "+(n?"":"dimmed")},a.a.createElement("div",{onClick:o,className:"pointer"},a.a.createElement("strong",null,t),"  ",i&&a.a.createElement(s.a,{tooltip:i,label:"date-free-tooltip"})," ",a.a.createElement("i",{className:n?"fa fa-check text-primary":""})),a.a.createElement("div",{className:"m-t-5 m-l-5"},r))}u.propTypes=l},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.split=void 0;var r=o(n(1351)),a=o(n(1352));function o(e){return e&&e.__esModule?e:{default:e}}t.split=a.default,t.default=r.default},276:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_EVENT",function(){return r}),n.d(t,"logEvent",function(){return a});var r="LOG_EVENT";function a(e,t){return function(n){return n({type:r,payload:{eventName:e,eventData:t}})}}},282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(1947)),a=o(n(1949));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}}),t===n&&e},toState:function(e,t){var n=e.hex?(0,a.default)(e.hex):(0,a.default)(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,a.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},308:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(16),a=n.n(r),o=n(20),i=n.n(o),s=n(17),l=n.n(s),u=n(18),c=n.n(u),d=n(10),p=n.n(d),f=n(19),h=n.n(f),m=n(1),b=n.n(m),v=n(0),g=n.n(v),y=n(3),E=n.n(y),C=n(8),x=n(155),O={title:g.a.string,canEdit:g.a.bool,multiLine:g.a.bool,onSaveTitle:g.a.func,noPermitTooltip:g.a.string,showTooltip:g.a.bool,emptyText:g.a.node,style:g.a.object,extraClasses:g.a.oneOfType([g.a.arrayOf(g.a.string),g.a.string])},w={title:Object(C.b)("Title"),canEdit:!1,multiLine:!1,showTooltip:!0,onSaveTitle:function(){},emptyText:"<empty>",style:null,extraClasses:null},S=function(e){function t(e){var n;return a()(this,t),(n=l()(this,c()(t).call(this,e))).state={isEditing:!1,title:n.props.title,lastTitle:n.props.title},n.handleClick=n.handleClick.bind(p()(n)),n.handleBlur=n.handleBlur.bind(p()(n)),n.handleChange=n.handleChange.bind(p()(n)),n.handleKeyPress=n.handleKeyPress.bind(p()(n)),n.contentRef=b.a.createRef(),n}return h()(t,e),i()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.title!==this.state.title&&this.setState({lastTitle:this.state.title,title:e.title})}},{key:"handleClick",value:function(){if(this.props.canEdit&&!this.state.isEditing){var e=this.contentRef.current?this.contentRef.current.getBoundingClientRect():null;this.setState({isEditing:!0,contentBoundingRect:e})}}},{key:"handleBlur",value:function(){var e=this.state.title.trim();this.props.canEdit&&(this.setState({isEditing:!1}),e.length?(this.state.lastTitle!==e&&this.setState({lastTitle:e}),this.props.title!==e&&this.props.onSaveTitle(e)):this.setState({title:this.state.lastTitle}))}},{key:"handleKeyDown",value:function(e){" "===e.key&&e.stopPropagation()}},{key:"handleChange",value:function(e){this.props.canEdit&&this.setState({title:e.target.value})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.handleBlur())}},{key:"render",value:function(){var e,t=this.state,n=t.isEditing,r=t.title,a=t.contentBoundingRect,o=this.props,i=o.emptyText,s=o.multiLine,l=o.showTooltip,u=o.canEdit,c=o.noPermitTooltip,d=o.style,p=o.extraClasses;r?e=r:n||(e=i);var f=n&&a?{height:"".concat(a.height,"px")}:null,h=s&&n?b.a.createElement("textarea",{ref:this.contentRef,required:!0,value:e,className:r?null:"text-muted",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,onClick:this.handleClick,onKeyPress:this.handleKeyPress,style:f}):b.a.createElement("input",{ref:this.contentRef,required:!0,type:n?"text":"button",value:e,className:r?null:"text-muted",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,onClick:this.handleClick,onKeyPress:this.handleKeyPress});return l&&!n&&(h=b.a.createElement(x.a,{label:"title",tooltip:u?Object(C.b)("click to edit"):c||Object(C.b)("You don't have the rights to alter this title.")},h)),b.a.createElement("span",{className:E()("editable-title",p,u&&"editable-title--editable",n&&"editable-title--editing"),style:d},h)}}]),t}(b.a.PureComponent);S.propTypes=O,S.defaultProps=w},340:function(e,t,n){var r=n(887);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},343:function(e,t,n){"use strict";n.r(t),function(e,r){var a,o=n(613);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(o.a)(a);t.default=i}.call(this,n(82),n(872)(e))},348:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},37:function(e,t,n){var r=n(873),a=n(862),o=n(874);e.exports=function(e){return r(e)||a(e)||o()}},370:function(e,t,n){"use strict";var r=f(n(113)),a=f(n(129)),o=f(n(4)),i=f(n(5)),s=f(n(84)),l=f(n(6)),u=f(n(1)),c=n(9),d=n(905),p=f(n(1348));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.promptInput=null,n.keyBinds=[],n.state=t.initialState(),n.onHide=n.onHide.bind(n),n.onSubmitPrompt=n.onSubmitPrompt.bind(n),n}return(0,l.default)(t,e),(0,s.default)(t,null,[{key:"setOptions",value:function(e){t.options=(0,a.default)({},t.DEFAULT_OPTIONS,e)}},{key:"resetOptions",value:function(){t.options=t.DEFAULT_OPTIONS}},{key:"initialState",value:function(){return{title:null,body:null,showModal:!1,actions:[],bsSize:void 0,onHide:null,prompt:null}}}]),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){this.state.showModal&&this.hide()}},{key:"show",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};(n.actions||[]).forEach(function(t){t.key&&t.key.split(",").forEach(function(n){r[n]=function(){t.func&&t.func(e)}})}),this.keyBinds=r,n.showModal=!0,this.setState(t.initialState()),this.setState(n)}},{key:"showAlert",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r={body:e,actions:[t.SingleOKAction()],bsSize:n};this.show(r)}},{key:"onHide",value:function(){var e=this.state.onHide;"function"==typeof e?e(this):this.hide()}},{key:"hide",value:function(){this.state.showModal&&this.setState({showModal:!1})}},{key:"onSubmitPrompt",value:function(){var e=this.keyBinds.enter;e&&e()}},{key:"render",value:function(){var e=this,t=void 0===this.state.bsSize?"small":"medium"===this.state.bsSize?null:this.state.bsSize;return u.default.createElement(c.Modal,{show:this.state.showModal,onHide:this.onHide,bsSize:t},this.state.title&&u.default.createElement(c.Modal.Header,null,u.default.createElement(c.Modal.Title,null,this.state.title)),u.default.createElement(c.Modal.Body,null,"string"==typeof this.state.body?u.default.createElement("p",null,this.state.body):this.state.body,this.state.prompt&&u.default.createElement(p.default,{ref:function(t){e.promptInput=t},prompt:this.state.prompt,onSubmit:this.onSubmitPrompt})),u.default.createElement(c.Modal.Footer,null,this.state.actions.map(function(t){return u.default.createElement("button",{key:t.label,type:"button",className:"btn btn-sm "+t.className,onClick:function(){t.func&&t.func(e)},style:{minWidth:82}},t.label)})))}},{key:"value",get:function(){return this.promptInput?this.promptInput.value:null}}]),t}(u.default.Component),m=function(){function e(t,n,r,a){(0,o.default)(this,e),this.label=t||h.options.defaultOkLabel,this._func=n,this.className=r||"btn-default",this.key=a}return(0,s.default)(e,[{key:"func",value:function(e){e.hide(),this._func&&this._func(e)}}]),e}();h.DEFAULT_OPTIONS={defaultOkLabel:"OK",defaultCancelLabel:"Cancel",primaryClassName:"btn-primary"},h.options=h.DEFAULT_OPTIONS,h.Action=function(e,t,n,r){return new m(e,t,n,r)},h.DefaultAction=function(e,t,n){return new m(e,t,n&&n.length>0?n:h.options.primaryClassName,"enter")},h.OKAction=function(e){return new m(h.options.defaultOkLabel,function(t){t.hide(),e&&e(t)},h.options.primaryClassName,"enter")},h.CancelAction=function(e){return new m(h.options.defaultCancelLabel,function(t){t.hide(),e&&e(t)},null,"esc")},h.SingleOKAction=function(){return new m(h.options.defaultOkLabel,function(e){e.hide()},h.options.primaryClassName,"enter,esc")},h.TextPrompt=function(e){return new d.TextPrompt(e)},h.PasswordPrompt=function(e){return new d.PasswordPrompt(e)},h.displayName="Dialog",e.exports=h},371:function(e,t,n){var r=n(626),a=n(672),o=n(1912),i=n(88);e.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},45:function(e,t,n){"use strict";var r=n(614),a="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||a||Function("return this")()).Symbol,i=Object.prototype,s=i.hasOwnProperty,l=i.toString,u=o?o.toStringTag:void 0;var c=function(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var a=l.call(e);return r&&(t?e[u]=n:delete e[u]),a},d=Object.prototype.toString;var p=function(e){return d.call(e)},f="[object Null]",h="[object Undefined]",m=o?o.toStringTag:void 0;var b=function(e){return null==e?void 0===e?h:f:m&&m in Object(e)?c(e):p(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var g=function(e){return null!=e&&"object"==typeof e},y="[object Object]",E=Function.prototype,C=Object.prototype,x=E.toString,O=C.hasOwnProperty,w=x.call(Object);var S=function(e){if(!g(e)||b(e)!=y)return!1;var t=v(e);if(null===t)return!0;var n=O.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==w},_=n(343),k={INIT:"@@redux/INIT"};function T(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(T)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var a=e,o=t,i=[],s=i,l=!1;function u(){s===i&&(s=i.slice())}function c(){return o}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var n=s.indexOf(e);s.splice(n,1)}}}function p(e){if(!S(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,o=a(o,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:k.INIT}),(r={dispatch:p,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,p({type:k.INIT})}})[_.default]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[_.default]=function(){return this},e},r}function j(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function P(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"==typeof e[a]&&(n[a]=e[a])}var o=Object.keys(n);var i=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:k.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+k.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,a={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if(void 0===d){var p=j(l,t);throw new Error(p)}a[l]=d,r=r||d!==c}return r?a:e}}function M(e,t){return function(){return t(e.apply(void 0,arguments))}}function D(e,t){if("function"==typeof e)return M(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var o=n[a],i=e[o];"function"==typeof i&&(r[o]=M(i,t))}return r}function A(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var o,i=e(n,r,a),s=i.dispatch,l={getState:i.getState,dispatch:function(e){return s(e)}};return o=t.map(function(e){return e(l)}),s=A.apply(void 0,o)(i.dispatch),R({},i,{dispatch:s})}}}n.d(t,"e",function(){return T}),n.d(t,"c",function(){return P}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return N}),n.d(t,"d",function(){return A})},58:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"c",function(){return f});var r=n(71),a=n.n(r),o=n(76);var i="ADD_TOAST";function s(e){var t,n=e.toastType,r=e.text,o=e.duration,s=void 0===o?8e3:o;return{type:i,payload:{id:(t=n,"".concat(t,"-").concat(a.a.generate())),toastType:n,text:r,duration:s}}}var l="REMOVE_TOAST";function u(e){return{type:l,payload:{id:e}}}function c(e){return function(t){return t(s({text:e,toastType:o.b,duration:4e3}))}}function d(e){return function(t){return t(s({text:e,toastType:o.c,duration:4e3}))}}function p(e){return function(t){return t(s({text:e,toastType:o.d,duration:6e3}))}}function f(e){return function(t){return t(s({text:e,toastType:o.a,duration:8e3}))}}},580:function(e,t,n){"use strict";var r=n(56),a=n.n(r),o=n(16),i=n.n(o),s=n(20),l=n.n(s),u=n(17),c=n.n(u),d=n(18),p=n.n(d),f=n(10),h=n.n(f),m=n(19),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=n(144),x=n(8),O=n(178),w=n(86),S={dataEndpoint:E.a.string.isRequired,onChange:E.a.func.isRequired,mutator:E.a.func.isRequired,onAsyncError:E.a.func,value:E.a.oneOfType([E.a.number,E.a.arrayOf(E.a.number)]),valueRenderer:E.a.func,placeholder:E.a.string,autoSelect:E.a.bool},_={placeholder:Object(x.b)("Select ..."),onAsyncError:function(){}},k=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={isLoading:!1,options:[]},n.onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchOptions()}},{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"fetchOptions",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props,n=t.mutator,r=t.dataEndpoint;return O.a.get({endpoint:r}).then(function(t){var r=t.json,a=n?n(r):r;e.setState({options:a,isLoading:!1}),!e.props.value&&e.props.autoSelect&&a.length>0&&e.onChange(a[0])}).catch(function(t){return Object(w.a)(t).then(function(t){e.props.onAsyncError(t.error||t.statusText||t),e.setState({isLoading:!1})})})}},{key:"render",value:function(){return g.a.createElement(C.default,a()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}]),t}(g.a.PureComponent);k.propTypes=S,k.defaultProps=_,t.a=k},581:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(){var e=document.getElementById("app");if(!e)return[];var t=JSON.parse(e.getAttribute("data-bootstrap")),n=new Set([location.hostname]);return t&&t.common&&t.common.conf&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach(function(e){n.add(e)}),Array.from(n)}(),a=r.length>1},583:function(e,t,n){"use strict";n.r(t),n.d(t,"TIME_FILTER_MAP",function(){return B}),n.d(t,"TIME_RANGE",function(){return q});var r=n(37),a=n.n(r),o=n(11),i=n.n(o),s=n(16),l=n.n(s),u=n(20),c=n.n(u),d=n(17),p=n.n(d),f=n(18),h=n.n(f),m=n(10),b=n.n(m),v=n(19),g=n.n(v),y=n(1),E=n.n(y),C=n(0),x=n.n(C),O=n(152),w=n.n(O),S=n(144),_=n(9),k=n(8),T=n(1303),j=n(1330),P=n(1331),M=n(81),D=n(225),A=n(224),R=n(243),N=n(855),F=n(48),I=n(1001);n(2368);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var B={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},q=B.time_range,H={chartId:x.a.number.isRequired,origSelectedValues:x.a.object,datasource:x.a.object.isRequired,instantFiltering:x.a.bool,filtersFields:x.a.arrayOf(x.a.shape({field:x.a.string,label:x.a.string})),filtersChoices:x.a.objectOf(x.a.arrayOf(x.a.shape({id:x.a.string,text:x.a.string,filter:x.a.string,metric:x.a.number}))),onChange:x.a.func,onFilterMenuOpen:x.a.func,onFilterMenuClose:x.a.func,showDateFilter:x.a.bool,showSqlaTimeGrain:x.a.bool,showSqlaTimeColumn:x.a.bool,showDruidTimeGrain:x.a.bool,showDruidTimeOrigin:x.a.bool},U=function(e){function t(e){var n;return l()(this,t),(n=p()(this,h()(t).call(this,e))).state={selectedValues:e.origSelectedValues,hasChanged:!1},n.changeFilter=n.changeFilter.bind(b()(n)),n.onFilterMenuOpen=n.onFilterMenuOpen.bind(b()(n),e.chartId),n.onFilterMenuClose=n.onFilterMenuClose.bind(b()(n)),n.onFocus=n.onFilterMenuOpen,n.onBlur=n.onFilterMenuClose,n.onOpenDateFilterControl=n.onFilterMenuOpen.bind(e.chartId,q),n}return g()(t,e),c()(t,[{key:"onFilterMenuOpen",value:function(e,t){this.props.onFilterMenuOpen(e,t)}},{key:"onFilterMenuClose",value:function(){this.props.onFilterMenuClose()}},{key:"getControlData",value:function(e){var t=this.state.selectedValues,n=Object.assign({},M.c[e],{name:e,key:"control-".concat(e),value:t[B[e]],actions:{setControlValue:this.changeFilter}}),r=n.mapStateToProps;return r?Object.assign({},n,r(this.props)):n}},{key:"clickApply",value:function(){var e=this,t=this.state.selectedValues;this.setState({hasChanged:!1},function(){e.props.onChange(t,!1)})}},{key:"changeFilter",value:function(e,t){var n=this,r=B[e]||e,a=null;null!==t&&(a=Array.isArray(t)?t.map(function(e){return e.value}):t.value?t.value:t);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.state.selectedValues,i()({},r,a));this.setState({selectedValues:o,hasChanged:!0},function(){n.props.instantFiltering&&n.props.onChange(i()({},r,a),!1)})}},{key:"renderDateFilter",value:function(){var e=this,t=this.props,n=t.showDateFilter,r=t.chartId,a=F.h.time_range;return n?E.a.createElement("div",{className:"row space-1"},E.a.createElement("div",{className:"col-lg-12 col-xs-12 filter-container"},this.renderFilterBadge(r,q,a),E.a.createElement(T.a,{name:q,label:a,description:Object(k.b)("Select start and end date"),onChange:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.changeFilter.apply(e,[q].concat(n))},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onFilterMenuClose,value:this.state.selectedValues[q]||"No filter"}))):null}},{key:"renderDatasourceFilters",value:function(){var e=this,t=this.props,n=t.showSqlaTimeGrain,r=t.showSqlaTimeColumn,a=t.showDruidTimeGrain,o=t.showDruidTimeOrigin,i=[],s=[],l=[];return n&&s.push("time_grain_sqla"),r&&s.push("granularity_sqla"),a&&l.push("granularity"),o&&l.push("druid_time_origin"),s.length&&i.push(E.a.createElement(j.a,{key:"sqla-filters",className:"control-row",controls:s.map(function(t){return E.a.createElement(P.a,e.getControlData(t))})})),l.length&&i.push(E.a.createElement(j.a,{key:"druid-filters",className:"control-row",controls:l.map(function(t){return E.a.createElement(P.a,e.getControlData(t))})})),i}},{key:"renderSelect",value:function(e){var t=this,n=this.props.filtersChoices,r=this.state.selectedValues;Object.keys(r).filter(function(e){return r.hasOwnProperty(e)&&e in n}).forEach(function(e){var t=n[e]||[],a=new Set(t.map(function(e){return e.id}));(Array.isArray(r[e])?r[e]:[r[e]]).filter(function(e){return!a.has(e)}).forEach(function(n){t.unshift({filter:e,id:n,text:n,metric:0})})});var o=e.key,i=e.label,s=this.props.filtersChoices[o],l=Math.max.apply(Math,a()(s.map(function(e){return e.metric}))),u=r[o]||null;return!u&&e.defaultValue&&(u=e.multiple?e.defaultValue.split(";"):e.defaultValue),E.a.createElement(D.a,{placeholder:Object(k.b)("Select [%s]",i),key:o,multi:e.multiple,clearable:e.clearable,value:u,options:s.map(function(e){var t=Math.round(e.metric/l*100),n={backgroundImage:"linear-gradient(to right, lightgrey, "+"lightgrey ".concat(t,"%, rgba(0,0,0,0) ").concat(t,"%"),padding:"2px 5px"};return{value:e.id,label:e.id,style:n}}),onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.changeFilter.apply(t,[o].concat(n))},onFocus:this.onFocus,onBlur:this.onBlur,onOpen:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.onFilterMenuOpen.apply(t,[o].concat(n))},onClose:this.onFilterMenuClose,selectComponent:S.Creatable,selectWrap:w.a,optionRenderer:Object(A.a)(function(e){return e.label}),noResultsText:Object(k.b)("No results found")})}},{key:"renderFilters",value:function(){var e=this,t=this.props,n=t.filtersFields,r=t.chartId;return n.map(function(t){var n=t.label,a=t.key;return E.a.createElement("div",{key:a,className:"m-b-5 filter-container"},e.renderFilterBadge(r,a,n),E.a.createElement("div",null,E.a.createElement("label",{htmlFor:"LABEL-".concat(a)},n),e.renderSelect(t)))})}},{key:"renderFilterBadge",value:function(e,t){var n=Object(R.b)({chartId:e,column:t}),r=Object(N.b)()[n];return E.a.createElement("div",{className:"filter-badge-container"},E.a.createElement(I.a,{colorCode:r}))}},{key:"render",value:function(){var e=this.props.instantFiltering;return E.a.createElement("div",{className:"scrollbar-container"},E.a.createElement("div",{className:"scrollbar-content"},this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!e&&E.a.createElement(_.Button,{bsSize:"small",bsStyle:"primary",onClick:this.clickApply.bind(this),disabled:!this.state.hasChanged},Object(k.b)("Apply"))))}}]),t}(E.a.Component);U.propTypes=H,U.defaultProps={origSelectedValues:{},onChange:function(){},onFilterMenuOpen:function(){},onFilterMenuClose:function(){},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!0},t.default=U},613:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},614:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(82))},615:function(e,t,n){"use strict";var r=n(261),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={};i[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var f=d(n);f&&f!==p&&e(t,f,r)}var h=l(n);u&&(h=h.concat(u(n)));for(var m=i[t.$$typeof]||a,b=i[n.$$typeof]||a,v=0;v<h.length;++v){var g=h[v];if(!(o[g]||r&&r[g]||b&&b[g]||m&&m[g])){var y=c(n,g);try{s(t,g,y)}catch(e){}}}return t}return t}},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=r({key:"redux",merge:i.default,slicer:o.default,serialize:JSON.stringify,deserialize:JSON.parse},t),a=n.key,s=n.merge,l=n.slicer,u=n.serialize,c=n.deserialize;return function(t){return function(n,r,o){"function"==typeof r&&void 0===o&&(o=r,r=void 0);var i=void 0,d=void 0;try{i=c(localStorage.getItem(a)),d=s(r,i)}catch(e){console.warn("Failed to retrieve initialize state from localStorage:",e)}var p=t(n,d,o),f=l(e);return p.subscribe(function(){var e=p.getState(),t=f(e);try{localStorage.setItem(a,u(t))}catch(e){console.warn("Unable to persist state to localStorage:",e)}}),p}}};var o=a(n(875)),i=a(n(878));e.exports=t.default},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(1911)),a=u(n(1914)),o=u(n(1934)),i=u(n(1935)),s=u(n(1936)),l=u(n(1937));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.default)(n),l=(0,a.default)(e,s);return(0,o.default)(l)};t.default=c},623:function(e,t,n){"use strict";var r=n(1),a=n(1994);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=a(r.Component,r.isValidElement,o)},664:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(281),l=n(80),u={metric:i.a.object.isRequired,openInNewWindow:i.a.bool,showFormula:i.a.bool,showType:i.a.bool,url:i.a.string};function c(e){var t=e.metric,n=e.openInNewWindow,r=e.showFormula,o=e.showType,i=e.url,u=t.verbose_name||t.metric_name||t.label,c=i?a.a.createElement("a",{href:i,target:n?"_blank":null},u):u;return a.a.createElement("div",null,o&&a.a.createElement(s.a,{type:"expression"}),a.a.createElement("span",{className:"m-r-5 option-label"},c),t.description&&a.a.createElement(l.a,{className:"m-r-5 text-muted",icon:"info",tooltip:t.description,label:"descr-".concat(t.metric_name)}),r&&a.a.createElement(l.a,{className:"m-r-5 text-muted",icon:"question-circle-o",tooltip:t.expression,label:"expr-".concat(t.metric_name)}),t.warning_text&&a.a.createElement(l.a,{className:"m-r-5 text-danger",icon:"warning",tooltip:t.warning_text,label:"warn-".concat(t.metric_name)}))}c.propTypes=u,c.defaultProps={showFormula:!0,showType:!1}},680:function(e,t,n){"use strict";n.d(t,"b",function(){return T});var r=n(11),a=n.n(r),o=n(16),i=n.n(o),s=n(20),l=n.n(s),u=n(17),c=n.n(u),d=n(18),p=n.n(d),f=n(10),h=n.n(f),m=n(19),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=n(267),x=n.n(C),O=(n(861),n(908),n(1053),n(338)),w=n.n(O),S=n(73);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var k=w.a.acequire("ace/ext/language_tools"),T=[].concat("SELECT|INSERT|UPDATE|DELETE|FROM|WHERE|AND|OR|GROUP|BY|ORDER|LIMIT|OFFSET|HAVING|AS|CASE|WHEN|THEN|ELSE|END|TYPE|LEFT|RIGHT|JOIN|ON|OUTER|DESC|ASC|UNION|CREATE|TABLE|PRIMARY|KEY|IF|FOREIGN|NOT|REFERENCES|DEFAULT|NULL|INNER|CROSS|NATURAL|DATABASE|DROP|GRANT|SUM|MAX|MIN|COUNT|AVG|DISTINCT".split("|"),"INT|NUMERIC|DECIMAL|DATE|VARCHAR|CHAR|BIGINT|FLOAT|DOUBLE|BIT|BINARY|TEXT|SET|TIMESTAMP|MONEY|REAL|NUMBER|INTEGER".split("|")).map(function(e){return{name:e,value:e,score:100,meta:"sql"}}),j={actions:E.a.object.isRequired,onBlur:E.a.func,sql:E.a.string.isRequired,schemas:E.a.array,tables:E.a.array,extendedTables:E.a.array,queryEditor:E.a.object.isRequired,height:E.a.string,hotkeys:E.a.arrayOf(E.a.shape({key:E.a.string.isRequired,descr:E.a.string.isRequired,func:E.a.func.isRequired})),onChange:E.a.func},P=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={sql:e.sql,selectedText:""},n.onChange=n.onChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.actions.queryEditorSetSelectedText(this.props.queryEditor,null),this.setAutoCompleter(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){Object(S.e)(this.props.tables,e.tables)&&Object(S.e)(this.props.schemas,e.schemas)&&Object(S.e)(this.props.extendedTables,e.extendedTables)||this.setAutoCompleter(e),e.sql!==this.props.sql&&this.setState({sql:e.sql})}},{key:"onBlur",value:function(){this.props.onBlur(this.state.sql)}},{key:"onAltEnter",value:function(){this.props.onBlur(this.state.sql)}},{key:"onEditorLoad",value:function(e){var t=this;e.commands.addCommand({name:"runQuery",bindKey:{win:"Alt-enter",mac:"Alt-enter"},exec:function(){t.onAltEnter()}}),this.props.hotkeys.forEach(function(t){e.commands.addCommand({name:t.name,bindKey:{win:t.key,mac:t.key},exec:t.func})}),e.$blockScrolling=1/0,e.selection.on("changeSelection",function(){var n=e.getSelectedText();n!==t.state.selectedText&&1!==n.length&&(t.setState({selectedText:n}),t.props.actions.queryEditorSetSelectedText(t.props.queryEditor,n))})}},{key:"onChange",value:function(e){this.setState({sql:e}),this.props.onChange(e)}},{key:"getCompletions",value:function(e,t,n,r,o){var i=this,s={insertMatch:function(e,t){"table"===t.meta&&i.props.actions.addTable(i.props.queryEditor,t.value,i.props.queryEditor.schema),e.completer.insertMatch({value:t.caption+" "})}};o(null,this.state.words.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{completer:s})}))}},{key:"setAutoCompleter",value:function(e){var t=this,n=(e.schemas||[]).map(function(e){return{name:e.label,value:e.value,score:60,meta:"schema"}}),r={},a=e.tables||[],o=e.extendedTables||[],i=a.map(function(e){var t=e.value,n=o.find(function(e){return e.name===t});return(n&&n.columns||[]).forEach(function(e){r[e.name]=null}),{name:e.label,value:t,score:55,meta:"table"}}),s=Object.keys(r).map(function(e){return{name:e,value:e,score:50,meta:"column"}}),l=n.concat(i).concat(s).concat(T);this.setState({words:l},function(){var e={getCompletions:t.getCompletions.bind(t)};k&&k.setCompleters([e])})}},{key:"getAceAnnotations",value:function(){var e=this.props.queryEditor.validationResult;return e&&e.completed&&e.errors.length>0?e.errors.map(function(e){return{type:"error",row:e.line_number-1,column:e.start_column-1,text:e.message}}):[]}},{key:"render",value:function(){return g.a.createElement(x.a,{mode:"sql",theme:"github",onLoad:this.onEditorLoad.bind(this),onBlur:this.onBlur.bind(this),height:this.props.height,onChange:this.onChange,width:"100%",editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,value:this.state.sql,annotations:this.getAceAnnotations()})}}]),t}(g.a.PureComponent);P.defaultProps={onBlur:function(){},onChange:function(){},schemas:[],tables:[],extendedTables:[]},P.propTypes=j,t.a=P},73:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"a",function(){return y}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return C}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return O});var r=n(37),a=n.n(r),o=n(11),i=n.n(o),s=n(241),l=n.n(s),u=n(71),c=n.n(u),d=n(45),p=n(616),f=n.n(p);function h(e,t,n){var r=Object.assign({},e[t]),a=Object.assign({},n);return a.id||(a.id=c.a.generate()),r[a.id]=a,Object.assign({},e,i()({},t,r))}function m(e,t,n,r){var a=Object.assign({},e[t]);return a[n.id]=Object.assign({},a[n.id],r),Object.assign({},e,i()({},t,a))}function b(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"id",o=[];return e[t].forEach(function(e){n[a]===e[a]?o.push(Object.assign({},e,r)):o.push(e)}),Object.assign({},e,i()({},t,o))}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",a=[];return e[t].forEach(function(e){n[r]!==e[r]&&a.push(e)}),Object.assign({},e,i()({},t,a))}function g(e,t){var n;return e.forEach(function(e){e.id===t&&(n=e)}),n}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object.assign({},n);o.id||(o.id=c.a.generate());var i={};return i[t]=r?[o].concat(a()(e[t])):[].concat(a()(e[t]),[o]),Object.assign({},e,i)}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a()(n);o.forEach(function(e){e.id||(e.id=c.a.generate())});var i={};return i[t]=r?[].concat(a()(o),a()(e[t])):[].concat(a()(e[t]),a()(o)),Object.assign({},e,i)}function C(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.paths,r=t.config,a=d.d;return e?a(f()(n,r)):a()}function x(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function O(e,t){return l()(e,t)}},76:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return i});var r="INFO_TOAST",a="SUCCESS_TOAST",o="WARNING_TOAST",i="DANGER_TOAST"},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OMNIBAR="OMNIBAR",e.CLIENT_CACHE="CLIENT_CACHE",e.SCHEDULED_QUERIES="SCHEDULED_QUERIES",e.SQL_VALIDATORS_BY_ENGINE="SQL_VALIDATORS_BY_ENGINE",e.ESTIMATE_QUERY_COST="ESTIMATE_QUERY_COST",e.SQLLAB_BACKEND_PERSISTENCE="SQLLAB_BACKEND_PERSISTENCE"}(t.FeatureFlag||(t.FeatureFlag={})),t.initFeatureFlags=function(e){window.featureFlags=e||{}},t.isFeatureEnabled=function(e){return window&&window.featureFlags&&!!window.featureFlags[e]}},79:function(e,t,n){"use strict";var r=n(201),a=n(1),o=n(0),i=n.n(o),s=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),l=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});var u=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",o=function(t){Object(r.a)(i,t);var o=i.prototype;function i(n,r){var a;return(a=t.call(this,n,r)||this)[e]=n.store,a}return o.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},o.render=function(){return a.Children.only(this.props.children)},i}(a.Component);return o.propTypes={store:l.isRequired,children:i.a.element.isRequired},o.childContextTypes=((t={})[e]=l.isRequired,t[n]=s,t),o}(),c=n(348),d=n(101),p=n(164),f=n(615),h=n.n(f),m=n(68),b=n.n(m),v=n(261),g=null,y={notify:function(){}};var E=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=y}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=g,e=g},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==g&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},e}(),C=0,x={};function O(){}function w(e,t){var n,o;void 0===t&&(t={});var i=t,u=i.getDisplayName,f=void 0===u?function(e){return"ConnectAdvanced("+e+")"}:u,m=i.methodName,g=void 0===m?"connectAdvanced":m,y=i.renderCountProp,w=void 0===y?void 0:y,S=i.shouldHandleStateChanges,_=void 0===S||S,k=i.storeKey,T=void 0===k?"store":k,j=i.withRef,P=void 0!==j&&j,M=Object(p.a)(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=T+"Subscription",A=C++,R=((n={})[T]=l,n[D]=s,n),N=((o={})[D]=s,o);return function(t){b()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=f(n),i=Object(d.a)({},M,{getDisplayName:f,methodName:g,renderCountProp:w,shouldHandleStateChanges:_,storeKey:T,withRef:P,displayName:o,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var r;return(r=n.call(this,e,t)||this).version=A,r.state={},r.renderCount=0,r.store=e[T]||t[T],r.propsMode=Boolean(e[T]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(c.a)(Object(c.a)(r))),b()(r.store,'Could not find "'+T+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+T+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}Object(r.a)(s,n);var l=s.prototype;return l.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[D]=t||this.context[D],e},l.componentDidMount=function(){_&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(e){this.selector.run(e)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=O,this.store=null,this.selector.run=O,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return b()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},l.setWrappedInstance=function(e){this.wrappedInstance=e},l.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var a=e(t.getState(),r);(a!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=a,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(_){var e=(this.propsMode?this.props:this.context)[D];this.subscription=new E(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(e){if(!(P||w||this.propsMode&&this.subscription))return e;var t=Object(d.a)({},e);return P&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[D]=this.subscription),t},l.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(a.createElement)(t,this.addExtraProps(e.props))},s}(a.Component);return s.WrappedComponent=t,s.displayName=o,s.childContextTypes=N,s.contextTypes=R,s.propTypes=R,h()(s,t)}}var S=Object.prototype.hasOwnProperty;function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function k(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!S.call(t,n[a])||!_(e[n[a]],t[n[a]]))return!1;return!0}var T=n(45);function j(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=P(a),a=r(t,n)),a},r}}var D=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:j(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?j(function(t){return Object(T.b)(e,t)}):void 0}];var A=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:j(function(){return{}})}];function R(e,t,n){return Object(d.a)({},n,e,t)}var N=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var l=e(t,n,s);return i?a&&o(l,r)||(r=l):(i=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function F(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function I(e,t,n,r,a){var o,i,s,l,u,c=a.areStatesEqual,d=a.areOwnPropsEqual,p=a.areStatePropsEqual,f=!1;function h(a,f){var h,m,b=!d(f,i),v=!c(a,o);return o=a,i=f,b&&v?(s=e(o,i),t.dependsOnOwnProps&&(l=t(r,i)),u=n(s,l,i)):b?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(l=t(r,i)),u=n(s,l,i)):v?(h=e(o,i),m=!p(h,s),s=h,m&&(u=n(s,l,i)),u):u}return function(a,c){return f?h(a,c):(s=e(o=a,i=c),l=t(r,i),u=n(s,l,i),f=!0,u)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,o=Object(p.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,o),s=r(e,o),l=a(e,o);return(o.pure?I:F)(i,s,l,e,o)}function B(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}var H,U,V,z,G,W,K,Y,Q,X,$,Z,J=(V=(U=void 0===H?{}:H).connectHOC,z=void 0===V?w:V,G=U.mapStateToPropsFactories,W=void 0===G?A:G,K=U.mapDispatchToPropsFactories,Y=void 0===K?D:K,Q=U.mergePropsFactories,X=void 0===Q?N:Q,$=U.selectorFactory,Z=void 0===$?L:$,function(e,t,n,r){void 0===r&&(r={});var a=r,o=a.pure,i=void 0===o||o,s=a.areStatesEqual,l=void 0===s?q:s,u=a.areOwnPropsEqual,c=void 0===u?k:u,f=a.areStatePropsEqual,h=void 0===f?k:f,m=a.areMergedPropsEqual,b=void 0===m?k:m,v=Object(p.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=B(e,W,"mapStateToProps"),y=B(t,Y,"mapDispatchToProps"),E=B(n,X,"mergeProps");return z(Z,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:E,pure:i,areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:h,areMergedPropsEqual:b},v))});n.d(t,"a",function(){return u}),n.d(t,"b",function(){return J})},845:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s={checked:i.a.bool.isRequired,onChange:i.a.func.isRequired,style:i.a.object};function l(e){var t=e.checked,n=e.onChange,r=e.style;return a.a.createElement("span",{style:r},a.a.createElement("i",{className:"fa fa-check ".concat(t?"text-primary":"text-transparent"),onClick:function(){n(!t)},style:{border:"1px solid #aaa",borderRadius:"2px",cursor:"pointer"}}))}l.propTypes=s},855:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(243),a=20,o={};function i(){return o}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=1;o=Object.values(e).reduce(function(e,n){var o=n.chartId,i=n.columns;return Object.keys(i).sort().forEach(function(n){var i=Object(r.b)({chartId:o,column:n}),s="badge-".concat(t%a);e[i]=s,t+=1}),e},{})}},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var r=n(870);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var a=s(n(1987)),o=s(n(1989)),i=s(n(1990));function s(e){return e&&e.__esModule?e:{default:e}}t.SortableContainer=a.default,t.SortableElement=o.default,t.SortableHandle=i.default,t.sortableContainer=a.default,t.sortableElement=o.default,t.sortableHandle=i.default},862:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},868:function(e,t,n){var r=n(591),a=n(170),o="Expected a function";e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},869:function(e,t,n){var r=n(1338),a=n(624);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),i?a(n,u,c):r(n,u,c)}return n}},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vendorPrefix=t.events=void 0,t.arrayMove=function(e,t,n){var r=e.slice(0);if(n>=r.length)for(var a=n-r.length;1+a--;)r.push(void 0);return r.splice(n,0,r.splice(t,1)[0]),r},t.omit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce(function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t},{})},t.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}},t.limit=function(e,t,n){if(n<e)return e;if(n>t)return t;return n},t.getElementMargin=function(e){var t=window.getComputedStyle(e);return{top:i(t.marginTop),right:i(t.marginRight),bottom:i(t.marginBottom),left:i(t.marginLeft)}},t.provideDisplayName=function(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e},t.getPosition=function(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.getEdgeOffset=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0};if(t){var a={top:r.top+t.offsetTop,left:r.left+t.offsetLeft};return t.parentNode!==n?e(t.parentNode,n,a):a}},t.getLockPixelOffset=function(e){var t=e.lockOffset,n=e.width,r=e.height,a=t,i=t,s="px";if("string"==typeof t){var l=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);(0,o.default)(null!==l,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),a=i=parseFloat(t),s=l[1]}(0,o.default)(isFinite(a)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===s&&(a=a*n/100,i=i*r/100);return{x:a,y:i}};var r,a=n(68),o=(r=a)&&r.__esModule?r:{default:r};t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function i(e){return"px"===e.substr(-2)?parseFloat(e):0}},872:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},873:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},874:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},875:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch((0,o.default)(e)){case"void":return function(e){return e};case"string":return function(t){return(0,a.default)(t,[e])};case"array":return function(t){return(0,a.default)(t,e)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}};var a=r(n(876)),o=r(n(877));e.exports=t.default},876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={};return t.forEach(function(t){var r=e[t];r&&(n[t]=r)}),n},e.exports=t.default},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"void";if(r(e))return e.length?"array":"void";return typeof e};var r=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)});e.exports=t.default},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return t?r({},e,t):e},e.exports=t.default},879:function(e,t,n){},887:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(1910);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return g(r).default}});var a=n(1953);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return g(a).default}});var o=n(1955);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return g(o).default}});var i=n(1957);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return g(i).default}});var s=n(1961);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return g(s).default}});var l=n(1964);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return g(l).default}});var u=n(1966);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return g(u).default}});var c=n(1968);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return g(c).default}});var d=n(1969);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return g(d).default}});var p=n(1975);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return g(p).default}});var f=n(1978);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return g(f).default}});var h=n(1982);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return g(h).default}});var m=n(1985);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return g(m).default}});var b=n(1341);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return g(b).default}});var v=g(i);function g(e){return e&&e.__esModule?e:{default:e}}t.default=v.default},905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordPrompt=t.TextPrompt=t.DialogPrompt=void 0;var r=s(n(113)),a=s(n(5)),o=s(n(6)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DialogPrompt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=t.initialValue,r=t.placeholder;this.initialValue=n,this.placeholder=r};t.TextPrompt=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),t}(l),t.PasswordPrompt=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),t}(l)},906:function(e,t,n){(function(e,n){var r=200,a="__lodash_hash_undefined__",o=1,i=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",b="[object Map]",v="[object Number]",g="[object Null]",y="[object Object]",E="[object Proxy]",C="[object RegExp]",x="[object Set]",O="[object String]",w="[object Symbol]",S="[object Undefined]",_="[object ArrayBuffer]",k="[object DataView]",T=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[l]=P[u]=P[_]=P[d]=P[k]=P[p]=P[f]=P[h]=P[b]=P[v]=P[y]=P[C]=P[x]=P[O]=P["[object WeakMap]"]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,A=M||D||Function("return this")(),R=t&&!t.nodeType&&t,N=R&&"object"==typeof n&&n&&!n.nodeType&&n,F=N&&N.exports===R,I=F&&M.process,L=function(){try{return I&&I.binding&&I.binding("util")}catch(e){}}(),B=L&&L.isTypedArray;function q(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var V,z,G,W=Array.prototype,K=Function.prototype,Y=Object.prototype,Q=A["__core-js_shared__"],X=K.toString,$=Y.hasOwnProperty,Z=(V=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",J=Y.toString,ee=RegExp("^"+X.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=F?A.Buffer:void 0,ne=A.Symbol,re=A.Uint8Array,ae=Y.propertyIsEnumerable,oe=W.splice,ie=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ue=(z=Object.keys,G=Object,function(e){return z(G(e))}),ce=Le(A,"DataView"),de=Le(A,"Map"),pe=Le(A,"Promise"),fe=Le(A,"Set"),he=Le(A,"WeakMap"),me=Le(Object,"create"),be=Ue(ce),ve=Ue(de),ge=Ue(pe),ye=Ue(fe),Ee=Ue(he),Ce=ne?ne.prototype:void 0,xe=Ce?Ce.valueOf:void 0;function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}function ke(e){var t=this.__data__=new we(e);this.size=t.size}function Te(e,t){var n=Ge(e),r=!n&&ze(e),a=!n&&!r&&We(e),o=!n&&!r&&!a&&$e(e),i=n||r||a||o,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!$.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||He(u,l))||s.push(u);return s}function je(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?S:g:ie&&ie in Object(e)?function(e){var t=$.call(e,ie),n=e[ie];try{e[ie]=void 0;var r=!0}catch(e){}var a=J.call(e);r&&(t?e[ie]=n:delete e[ie]);return a}(e):function(e){return J.call(e)}(e)}function Me(e){return Xe(e)&&Pe(e)==l}function De(e,t,n,r,a){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!=e&&t!=t:function(e,t,n,r,a,s){var c=Ge(e),h=Ge(t),m=c?u:qe(e),g=h?u:qe(t),E=(m=m==l?y:m)==y,S=(g=g==l?y:g)==y,T=m==g;if(T&&We(e)){if(!We(t))return!1;c=!0,E=!1}if(T&&!E)return s||(s=new ke),c||$e(e)?Ne(e,t,n,r,a,s):function(e,t,n,r,a,s,l){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case d:case p:case v:return Ve(+e,+t);case f:return e.name==t.name&&e.message==t.message;case C:case O:return e==t+"";case b:var u=H;case x:var c=r&o;if(u||(u=U),e.size!=t.size&&!c)return!1;var h=l.get(e);if(h)return h==t;r|=i,l.set(e,t);var m=Ne(u(e),u(t),r,a,s,l);return l.delete(e),m;case w:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,m,n,r,a,s);if(!(n&o)){var j=E&&$.call(e,"__wrapped__"),P=S&&$.call(t,"__wrapped__");if(j||P){var M=j?e.value():e,D=P?t.value():t;return s||(s=new ke),a(M,D,n,r,s)}}if(!T)return!1;return s||(s=new ke),function(e,t,n,r,a,i){var s=n&o,l=Fe(e),u=l.length,c=Fe(t).length;if(u!=c&&!s)return!1;for(var d=u;d--;){var p=l[d];if(!(s?p in t:$.call(t,p)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var h=!0;i.set(e,t),i.set(t,e);for(var m=s;++d<u;){p=l[d];var b=e[p],v=t[p];if(r)var g=s?r(v,b,p,t,e,i):r(b,v,p,e,t,i);if(!(void 0===g?b===v||a(b,v,n,r,i):g)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var y=e.constructor,E=t.constructor;y!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof E&&E instanceof E)&&(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,a,s)}(e,t,n,r,De,a))}function Ae(e){return!(!Qe(e)||(t=e,Z&&Z in t))&&(Ke(e)?ee:T).test(Ue(e));var t}function Re(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Y,t!==r)return ue(e);var t,n,r,a=[];for(var o in Object(e))$.call(e,o)&&"constructor"!=o&&a.push(o);return a}function Ne(e,t,n,r,a,s){var l=n&o,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var p=-1,f=!0,h=n&i?new _e:void 0;for(s.set(e,t),s.set(t,e);++p<u;){var m=e[p],b=t[p];if(r)var v=l?r(b,m,p,t,e,s):r(m,b,p,e,t,s);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!q(t,function(e,t){if(o=t,!h.has(o)&&(m===e||a(m,e,n,r,s)))return h.push(t);var o})){f=!1;break}}else if(m!==b&&!a(m,b,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Fe(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Ze,Be)}function Ie(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Le(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===a?void 0:n}return $.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:$.call(t,e)},Oe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?a:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0||(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,0))},we.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]},we.prototype.has=function(e){return je(this.__data__,e)>-1},we.prototype.set=function(e,t){var n=this.__data__,r=je(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new Oe,map:new(de||we),string:new Oe}},Se.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Ie(this,e).get(e)},Se.prototype.has=function(e){return Ie(this,e).has(e)},Se.prototype.set=function(e,t){var n=Ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,a),this},_e.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new we,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var a=n.__data__;if(!de||a.length<r-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(a)}return n.set(e,t),this.size=n.size,this};var Be=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}(se(e),function(t){return ae.call(e,t)}))}:function(){return[]},qe=Pe;function He(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(ce&&qe(new ce(new ArrayBuffer(1)))!=k||de&&qe(new de)!=b||pe&&"[object Promise]"!=qe(pe.resolve())||fe&&qe(new fe)!=x||he&&"[object WeakMap]"!=qe(new he))&&(qe=function(e){var t=Pe(e),n=t==y?e.constructor:void 0,r=n?Ue(n):"";if(r)switch(r){case be:return k;case ve:return b;case ge:return"[object Promise]";case ye:return x;case Ee:return"[object WeakMap]"}return t});var ze=Me(function(){return arguments}())?Me:function(e){return Xe(e)&&$.call(e,"callee")&&!ae.call(e,"callee")},Ge=Array.isArray;var We=le||function(){return!1};function Ke(e){if(!Qe(e))return!1;var t=Pe(e);return t==h||t==m||t==c||t==E}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return null!=e&&"object"==typeof e}var $e=B?function(e){return function(t){return e(t)}}(B):function(e){return Xe(e)&&Ye(e.length)&&!!P[Pe(e)]};function Ze(e){return null!=(t=e)&&Ye(t.length)&&!Ke(t)?Te(e):Re(e);var t}n.exports=function(e,t){return De(e,t)}}).call(this,n(82),n(167)(e))},907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"],t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"]},93:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(300),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s),u=n(9),c={tooltip:l.a.node,placement:l.a.string},d={display:"inline-block",cursor:"not-allowed"};function p(e){var t=Object.assign({},e),n=e.tooltip,r=e.placement;delete t.tooltip,delete t.placement;var o=i.a.createElement(u.Button,t,e.children);return n?(e.disabled&&(t.style={pointerEvents:"none"},o=i.a.createElement("div",{style:d},i.a.createElement(u.Button,t,e.children))),i.a.createElement(u.OverlayTrigger,{placement:r,overlay:i.a.createElement(u.Tooltip,{id:"".concat(a()(n),"-tooltip")},n)},o)):o}p.propTypes=c,p.defaultProps={bsSize:"sm",placement:"top"}},99:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"l",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"n",function(){return s}),n.d(t,"m",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"o",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return y});var r="load_chart",a="render_chart",o="mount_dashboard",i="mount_explorer",s="select_dashboard_tab",l="render_chart_container",u="force_refresh_chart",c="change_explore_controls",d="toggle_edit_dashboard",p="force_refresh_dashboard",f="periodic_render_dashboard",h="explore_dashboard_chart",m="export_csv_dashboard_chart",b="change_dashboard_filter",v="omnibar_triggered",g=new Set([r,a]),y=(new Set([o,s,h,u,m,b,c,d,p,v,i,l]),{getTimestamp:function(){return Math.round(window.performance.now())}})},999:function(e,t,n){"use strict";var r=n(11),a=n.n(r),o=n(16),i=n.n(o),s=n(20),l=n.n(s),u=n(17),c=n.n(u),d=n(18),p=n.n(d),f=n(10),h=n.n(f),m=n(19),b=n.n(m),v=n(1),g=n.n(v),y=n(0),E=n.n(y),C=n(152),x=n.n(C),O=n(9),w=n(8),S=n(178),_=n(580),k=n(155),T=(n(1349),{onClick:E.a.func,tooltipContent:E.a.string.isRequired}),j=function(e){function t(){return i()(this,t),c()(this,p()(t).apply(this,arguments))}return b()(t,e),l()(t,[{key:"render",value:function(){return g.a.createElement(k.a,{tooltip:this.props.tooltipContent,label:"cache-desc"},g.a.createElement("i",{className:"RefreshLabel fa fa-refresh pointer",onClick:this.props.onClick}))}}]),t}(g.a.PureComponent);j.propTypes=T;var P=j;n(1350);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return A});var D={dbId:E.a.number.isRequired,schema:E.a.string,onSchemaChange:E.a.func,onDbChange:E.a.func,onSchemasLoad:E.a.func,onTablesLoad:E.a.func,getDbList:E.a.func,onTableChange:E.a.func,tableNameSticky:E.a.bool,tableName:E.a.string,database:E.a.object,sqlLabMode:E.a.bool,onChange:E.a.func,clearable:E.a.bool,handleError:E.a.func.isRequired},A=function(e){function t(e){var n;return i()(this,t),(n=c()(this,p()(t).call(this,e))).state={schemaLoading:!1,schemaOptions:[],tableLoading:!1,tableOptions:[],dbId:e.dbId,schema:e.schema,tableName:e.tableName},n.changeSchema=n.changeSchema.bind(h()(n)),n.changeTable=n.changeTable.bind(h()(n)),n.dbMutator=n.dbMutator.bind(h()(n)),n.getTableNamesBySubStr=n.getTableNamesBySubStr.bind(h()(n)),n.onChange=n.onChange.bind(h()(n)),n.onDatabaseChange=n.onDatabaseChange.bind(h()(n)),n}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchSchemas(this.state.dbId),this.fetchTables()}},{key:"onDatabaseChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?e.id:null;this.setState({schemaOptions:[]}),this.props.onSchemaChange(null),this.props.onDbChange(e),this.fetchSchemas(n,t),this.setState({dbId:n,schema:null,tableOptions:[]},this.onChange)}},{key:"onChange",value:function(){this.props.onChange({dbId:this.state.dbId,schema:this.state.schema,tableName:this.state.tableName})}},{key:"getTableNamesBySubStr",value:function(e){if(!this.props.dbId||!e){return Promise.resolve({options:[]})}return S.a.get({endpoint:encodeURI("/superset/tables/".concat(this.props.dbId,"/")+"".concat(encodeURIComponent(this.props.schema),"/").concat(encodeURIComponent(e)))}).then(function(e){return{options:e.json.options.map(function(e){return{value:e.value,schema:e.schema,label:e.label,title:e.title,type:e.type}})}})}},{key:"dbMutator",value:function(e){return this.props.getDbList(e.result),0===e.result.length&&this.props.handleError(Object(w.b)("It seems you don't have access to any database")),e.result.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{label:"".concat(e.backend," ").concat(e.database_name)})})}},{key:"fetchTables",value:function(e,t){var n=this,r=e||!1,a=this.state,o=a.dbId,i=a.schema;if(o&&i){this.setState(function(){return{tableLoading:!0,tableOptions:[]}});var s=encodeURI("/superset/tables/".concat(o,"/")+"".concat(encodeURIComponent(i),"/").concat(encodeURIComponent(t),"/").concat(r,"/"));return S.a.get({endpoint:s}).then(function(e){var t=e.json,r=t.options.map(function(e){return{value:e.value,schema:e.schema,label:e.label,title:e.title,type:e.type}});n.setState(function(){return{tableLoading:!1,tableOptions:r}}),n.props.onTablesLoad(t.options)}).catch(function(){n.setState(function(){return{tableLoading:!1,tableOptions:[]}}),n.props.handleError(Object(w.b)("Error while fetching table list"))})}return this.setState(function(){return{tableLoading:!1,tableOptions:[]}}),Promise.resolve()}},{key:"fetchSchemas",value:function(e,t){var n=this,r=e||this.props.dbId,a=t||!1;if(r){this.setState({schemaLoading:!0});var o="/superset/schemas/".concat(r,"/").concat(a,"/");return S.a.get({endpoint:o}).then(function(e){var t=e.json.schemas.map(function(e){return{value:e,label:e,title:e}});n.setState({schemaOptions:t,schemaLoading:!1}),n.props.onSchemasLoad(t)}).catch(function(){n.setState({schemaLoading:!1,schemaOptions:[]}),n.props.handleError(Object(w.b)("Error while fetching schema list"))})}return Promise.resolve()}},{key:"changeTable",value:function(e){if(e){var t=e.schema,n=e.value;this.props.tableNameSticky&&this.setState({tableName:n},this.onChange),this.props.onTableChange(n,t)}else this.setState({tableName:""})}},{key:"changeSchema",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?e.value:null;this.props.onSchemaChange(r),this.setState({schema:r},function(){t.fetchTables(n),t.onChange()})}},{key:"renderDatabaseOption",value:function(e){return g.a.createElement("span",null,g.a.createElement(O.Label,{bsStyle:"default",className:"m-r-5"},e.backend),e.database_name)}},{key:"renderTableOption",value:function(e){var t=e.focusOption,n=e.focusedOption,r=e.key,a=e.option,o=e.selectValue,i=e.style,s=e.valueArray,l=["Select-option"];return a===n&&l.push("is-focused"),s.indexOf(a)>=0&&l.push("is-selected"),g.a.createElement("div",{className:l.join(" "),key:r,onClick:function(){return o(a)},onMouseEnter:function(){return t(a)},style:i},g.a.createElement("span",{className:"TableLabel"},g.a.createElement("span",{className:"m-r-5"},g.a.createElement("small",{className:"text-muted"},g.a.createElement("i",{className:"fa fa-".concat("view"===a.type?"eye":"table")}))),a.label))}},{key:"renderSelectRow",value:function(e,t){return g.a.createElement("div",{className:"section"},g.a.createElement("span",{className:"select"},e),g.a.createElement("span",{className:"refresh-col"},t))}},{key:"renderDatabaseSelect",value:function(){var e=this;return this.renderSelectRow(g.a.createElement(_.a,{dataEndpoint:"/api/v1/database/?q=(keys:!(none),filters:!((col:expose_in_sqllab,opr:eq,value:!t)),order_columns:database_name,order_direction:asc,page:0,page_size:-1)",onChange:this.onDatabaseChange,onAsyncError:function(){return e.props.handleError(Object(w.b)("Error while fetching database list"))},clearable:!1,value:this.state.dbId,valueKey:"id",valueRenderer:function(t){return g.a.createElement("div",null,g.a.createElement("span",{className:"text-muted m-r-5"},Object(w.b)("Database:")),e.renderDatabaseOption(t))},optionRenderer:this.renderDatabaseOption,mutator:this.dbMutator,placeholder:Object(w.b)("Select a database"),autoSelect:!0}))}},{key:"renderSchema",value:function(){var e=this;return this.renderSelectRow(g.a.createElement(x.a,{name:"select-schema",placeholder:Object(w.b)("Select a schema (%s)",this.state.schemaOptions.length),options:this.state.schemaOptions,value:this.props.schema,valueRenderer:function(e){return g.a.createElement("div",null,g.a.createElement("span",{className:"text-muted"},Object(w.b)("Schema:"))," ",e.label)},isLoading:this.state.schemaLoading,autosize:!1,onChange:this.changeSchema}),g.a.createElement(P,{onClick:function(){return e.onDatabaseChange({id:e.props.dbId},!0)},tooltipContent:Object(w.b)("Force refresh schema list")}))}},{key:"renderTable",value:function(){var e,t=this,n=!1;this.props.database&&this.props.database.allow_multi_schema_metadata_fetch?e=Object(w.b)("Type to search ..."):(e=Object(w.b)("Select table "),n=!0);var r=this.state.tableOptions,a=this.props.schema?g.a.createElement(x.a,{name:"select-table",ref:"selectTable",isLoading:this.state.tableLoading,ignoreAccents:!1,placeholder:Object(w.b)("Select table or type table name"),autosize:!1,onChange:this.changeTable,options:r,value:this.state.tableName,optionRenderer:this.renderTableOption}):g.a.createElement(x.a,{async:!0,name:"async-select-table",ref:"selectTable",placeholder:e,disabled:n,autosize:!1,onChange:this.changeTable,value:this.state.tableName,loadOptions:this.getTableNamesBySubStr,optionRenderer:this.renderTableOption});return this.renderSelectRow(a,g.a.createElement(P,{onClick:function(){return t.changeSchema({value:t.props.schema},!0)},tooltipContent:Object(w.b)("Force refresh table list")}))}},{key:"renderSeeTableLabel",value:function(){return g.a.createElement("div",{className:"section"},g.a.createElement(O.ControlLabel,null,Object(w.b)("See table schema")," ",g.a.createElement("small",null,"(",this.state.tableOptions.length," ",Object(w.b)("in")," ",g.a.createElement("i",null,this.props.schema),")")))}},{key:"render",value:function(){return g.a.createElement("div",{className:"TableSelector"},this.renderDatabaseSelect(),this.renderSchema(),g.a.createElement("div",{className:"divider"}),this.props.sqlLabMode&&this.renderSeeTableLabel(),this.renderTable())}}]),t}(g.a.PureComponent);A.propTypes=D,A.defaultProps={onDbChange:function(){},onSchemaChange:function(){},onSchemasLoad:function(){},onTablesLoad:function(){},getDbList:function(){},onTableChange:function(){},onChange:function(){},tableNameSticky:!0,sqlLabMode:!0,clearable:!0}}}]);